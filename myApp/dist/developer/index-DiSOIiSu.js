(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();const L1=()=>{};var Rv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},O1=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const o=n[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[r++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],u=n[t++],f=n[t++],d=((o&7)<<18|(a&63)<<12|(u&63)<<6|f&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},qp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const a=n[o],u=o+1<n.length,f=u?n[o+1]:0,d=o+2<n.length,m=d?n[o+2]:0,v=a>>2,w=(a&3)<<4|f>>4;let E=(f&15)<<2|m>>6,C=m&63;d||(C=64,u||(E=64)),r.push(t[v],t[w],t[E],t[C])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Sw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):O1(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],f=o<n.length?t[n.charAt(o)]:0;++o;const m=o<n.length?t[n.charAt(o)]:64;++o;const w=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||f==null||m==null||w==null)throw new F1;const E=a<<2|f>>4;if(r.push(E),m!==64){const C=f<<4&240|m>>2;if(r.push(C),w!==64){const O=m<<6&192|w;r.push(O)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class F1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const U1=function(n){const e=Sw(n);return qp.encodeByteArray(e,!0)},Zc=function(n){return U1(n).replace(/\./g,"")},Aw=function(n){try{return qp.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1=()=>Pw().__FIREBASE_DEFAULTS__,B1=()=>{if(typeof process>"u"||typeof Rv>"u")return;const n=Rv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},z1=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Aw(n[1]);return e&&JSON.parse(e)},Sh=()=>{try{return L1()||j1()||B1()||z1()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Cw=n=>{var e,t;return(t=(e=Sh())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},$1=n=>{const e=Cw(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},xw=()=>{var n;return(n=Sh())==null?void 0:n.config},Rw=n=>{var e;return(e=Sh())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ua(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function kw(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Zc(JSON.stringify(t)),Zc(JSON.stringify(u)),""].join(".")}const El={};function W1(){const n={prod:[],emulator:[]};for(const e of Object.keys(El))El[e]?n.emulator.push(e):n.prod.push(e);return n}function K1(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let kv=!1;function Dw(n,e){if(typeof window>"u"||typeof document>"u"||!ua(window.location.host)||El[n]===e||El[n]||kv)return;El[n]=e;function t(E){return`__firebase__banner__${E}`}const r="__firebase__banner",a=W1().prod.length>0;function u(){const E=document.getElementById(r);E&&E.remove()}function f(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function d(E,C){E.setAttribute("width","24"),E.setAttribute("id",C),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function m(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{kv=!0,u()},E}function v(E,C){E.setAttribute("id",C),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function w(){const E=K1(r),C=t("text"),O=document.getElementById(C)||document.createElement("span"),B=t("learnmore"),U=document.getElementById(B)||document.createElement("a"),H=t("preprendIcon"),X=document.getElementById(H)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const q=E.element;f(q),v(U,B);const ie=m();d(X,H),q.append(X,O,U,ie),document.body.appendChild(q)}a?(O.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function q1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qt())}function G1(){var e;const n=(e=Sh())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Q1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function X1(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Y1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function J1(){const n=Qt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Z1(){return!G1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Gp(){try{return typeof indexedDB=="object"}catch{return!1}}function eA(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)==null?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA="FirebaseError";class si extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=tA,Object.setPrototypeOf(this,si.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ca.prototype.create)}}class ca{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?nA(a,r):"Error",f=`${this.serviceName}: ${u} (${o}).`;return new si(o,f,r)}}function nA(n,e){return n.replace(rA,(t,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const rA=/\{\$([^}]+)}/g;function iA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ls(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const o of t){if(!r.includes(o))return!1;const a=n[o],u=e[o];if(Dv(a)&&Dv(u)){if(!Ls(a,u))return!1}else if(a!==u)return!1}for(const o of r)if(!t.includes(o))return!1;return!0}function Dv(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function sA(n,e){const t=new oA(n,e);return t.subscribe.bind(t)}class oA{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let o;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");aA(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:r},o.next===void 0&&(o.next=_d),o.error===void 0&&(o.error=_d),o.complete===void 0&&(o.complete=_d);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aA(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function _d(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA=1e3,uA=2,cA=14400*1e3,hA=.5;function fA(n,e=lA,t=uA){const r=e*Math.pow(t,n),o=Math.round(hA*r*(Math.random()-.5)*2);return Math.min(cA,r+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(n){return n&&n._delegate?n._delegate:n}class Jr{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Ml;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mA(e))try{this.getOrInitializeService({instanceIdentifier:Ps})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});r.resolve(a)}catch{}}}}clearInstance(e=Ps){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ps){return this.instances.has(e)}getOptions(e=Ps){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(a);r===f&&u.resolve(o)}return o}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const a=this.instances.get(r);return a&&e(a,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const o of r)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:pA(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ps){return this.component?this.component.multipleInstances?e:Ps:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pA(n){return n===Ps?void 0:n}function mA(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new dA(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ke||(ke={}));const yA={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},vA=ke.INFO,_A={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},wA=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),o=_A[e];if(o)console[o](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ah{constructor(e){this.name=e,this._logLevel=vA,this._logHandler=wA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const TA=(n,e)=>e.some(t=>n instanceof t);let Nv,Vv;function EA(){return Nv||(Nv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IA(){return Vv||(Vv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Nw=new WeakMap,ep=new WeakMap,Vw=new WeakMap,wd=new WeakMap,Qp=new WeakMap;function SA(n){const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Oi(n.result)),o()},u=()=>{r(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&Nw.set(t,n)}).catch(()=>{}),Qp.set(e,n),e}function AA(n){if(ep.has(n))return;const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),o()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});ep.set(n,e)}let tp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ep.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Vw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Oi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function PA(n){tp=n(tp)}function CA(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Td(this),e,...t);return Vw.set(r,e.sort?e.sort():[e]),Oi(r)}:IA().includes(n)?function(...e){return n.apply(Td(this),e),Oi(Nw.get(this))}:function(...e){return Oi(n.apply(Td(this),e))}}function xA(n){return typeof n=="function"?CA(n):(n instanceof IDBTransaction&&AA(n),TA(n,EA())?new Proxy(n,tp):n)}function Oi(n){if(n instanceof IDBRequest)return SA(n);if(wd.has(n))return wd.get(n);const e=xA(n);return e!==n&&(wd.set(n,e),Qp.set(e,n)),e}const Td=n=>Qp.get(n);function RA(n,e,{blocked:t,upgrade:r,blocking:o,terminated:a}={}){const u=indexedDB.open(n,e),f=Oi(u);return r&&u.addEventListener("upgradeneeded",d=>{r(Oi(u.result),d.oldVersion,d.newVersion,Oi(u.transaction),d)}),t&&u.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),f.then(d=>{a&&d.addEventListener("close",()=>a()),o&&d.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),f}const kA=["get","getKey","getAll","getAllKeys","count"],DA=["put","add","delete","clear"],Ed=new Map;function Mv(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Ed.get(e))return Ed.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=DA.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(o||kA.includes(t)))return;const a=async function(u,...f){const d=this.transaction(u,o?"readwrite":"readonly");let m=d.store;return r&&(m=m.index(f.shift())),(await Promise.all([m[t](...f),o&&d.done]))[0]};return Ed.set(e,a),a}PA(n=>({...n,get:(e,t,r)=>Mv(e,t)||n.get(e,t,r),has:(e,t)=>!!Mv(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(VA(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function VA(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const np="@firebase/app",bv="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr=new Ah("@firebase/app"),MA="@firebase/app-compat",bA="@firebase/analytics-compat",LA="@firebase/analytics",OA="@firebase/app-check-compat",FA="@firebase/app-check",UA="@firebase/auth",jA="@firebase/auth-compat",BA="@firebase/database",zA="@firebase/data-connect",$A="@firebase/database-compat",HA="@firebase/functions",WA="@firebase/functions-compat",KA="@firebase/installations",qA="@firebase/installations-compat",GA="@firebase/messaging",QA="@firebase/messaging-compat",XA="@firebase/performance",YA="@firebase/performance-compat",JA="@firebase/remote-config",ZA="@firebase/remote-config-compat",eP="@firebase/storage",tP="@firebase/storage-compat",nP="@firebase/firestore",rP="@firebase/ai",iP="@firebase/firestore-compat",sP="firebase",oP="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp="[DEFAULT]",aP={[np]:"fire-core",[MA]:"fire-core-compat",[LA]:"fire-analytics",[bA]:"fire-analytics-compat",[FA]:"fire-app-check",[OA]:"fire-app-check-compat",[UA]:"fire-auth",[jA]:"fire-auth-compat",[BA]:"fire-rtdb",[zA]:"fire-data-connect",[$A]:"fire-rtdb-compat",[HA]:"fire-fn",[WA]:"fire-fn-compat",[KA]:"fire-iid",[qA]:"fire-iid-compat",[GA]:"fire-fcm",[QA]:"fire-fcm-compat",[XA]:"fire-perf",[YA]:"fire-perf-compat",[JA]:"fire-rc",[ZA]:"fire-rc-compat",[eP]:"fire-gcs",[tP]:"fire-gcs-compat",[nP]:"fire-fst",[iP]:"fire-fst-compat",[rP]:"fire-vertex","fire-js":"fire-js",[sP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh=new Map,lP=new Map,ip=new Map;function Lv(n,e){try{n.container.addComponent(e)}catch(t){Zr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Bi(n){const e=n.name;if(ip.has(e))return Zr.debug(`There were multiple attempts to register component ${e}.`),!1;ip.set(e,n);for(const t of eh.values())Lv(t,n);for(const t of lP.values())Lv(t,n);return!0}function Zl(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Jn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fi=new ca("app","Firebase",uP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Jr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha=oP;function Xp(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:rp,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Fi.create("bad-app-name",{appName:String(o)});if(t||(t=xw()),!t)throw Fi.create("no-options");const a=eh.get(o);if(a){if(Ls(t,a.options)&&Ls(r,a.config))return a;throw Fi.create("duplicate-app",{appName:o})}const u=new gA(o);for(const d of ip.values())u.addComponent(d);const f=new cP(t,r,u);return eh.set(o,f),f}function Yp(n=rp){const e=eh.get(n);if(!e&&n===rp&&xw())return Xp();if(!e)throw Fi.create("no-app",{appName:n});return e}function Xr(n,e,t){let r=aP[n]??n;t&&(r+=`-${t}`);const o=r.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const u=[`Unable to register library "${r}" with version "${e}":`];o&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zr.warn(u.join(" "));return}Bi(new Jr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hP="firebase-heartbeat-database",fP=1,bl="firebase-heartbeat-store";let Id=null;function Mw(){return Id||(Id=RA(hP,fP,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(bl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Fi.create("idb-open",{originalErrorMessage:n.message})})),Id}async function dP(n){try{const t=(await Mw()).transaction(bl),r=await t.objectStore(bl).get(bw(n));return await t.done,r}catch(e){if(e instanceof si)Zr.warn(e.message);else{const t=Fi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Zr.warn(t.message)}}}async function Ov(n,e){try{const r=(await Mw()).transaction(bl,"readwrite");await r.objectStore(bl).put(e,bw(n)),await r.done}catch(t){if(t instanceof si)Zr.warn(t.message);else{const r=Fi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Zr.warn(r.message)}}}function bw(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP=1024,mP=30;class gP{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new vP(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Fv();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats.length>mP){const u=_P(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Zr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Fv(),{heartbeatsToSend:r,unsentEntries:o}=yP(this._heartbeatsCache.heartbeats),a=Zc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Zr.warn(t),""}}}function Fv(){return new Date().toISOString().substring(0,10)}function yP(n,e=pP){const t=[];let r=n.slice();for(const o of n){const a=t.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),Uv(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Uv(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class vP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Gp()?eA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await dP(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ov(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ov(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Uv(n){return Zc(JSON.stringify({version:2,heartbeats:n})).length}function _P(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wP(n){Bi(new Jr("platform-logger",e=>new NA(e),"PRIVATE")),Bi(new Jr("heartbeat",e=>new gP(e),"PRIVATE")),Xr(np,bv,n),Xr(np,bv,"esm2020"),Xr("fire-js","")}wP("");var TP="firebase",EP="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xr(TP,EP,"app");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp=new Map,Lw={activated:!1,tokenObservers:[]},IP={initialized:!1,enabled:!1};function It(n){return sp.get(n)||{...Lw}}function SP(n,e){return sp.set(n,e),sp.get(n)}function Ph(){return IP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow="https://content-firebaseappcheck.googleapis.com/v1",AP="exchangeRecaptchaEnterpriseToken",PP="exchangeDebugToken",jv={RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},CP=1440*60*1e3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(e,t,r,o,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=o,o>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new Ml,this.pending.promise.catch(t=>{}),await RP(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new Ml,this.pending.promise.catch(t=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}function RP(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},hn=new ca("appCheck","AppCheck",kP);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(n=!1){var e;return n?(e=self.grecaptcha)==null?void 0:e.enterprise:self.grecaptcha}function Jp(n){if(!It(n).activated)throw hn.create("use-before-activation",{appName:n.name})}function Fw(n){const e=Math.round(n/1e3),t=Math.floor(e/(3600*24)),r=Math.floor((e-t*3600*24)/3600),o=Math.floor((e-t*3600*24-r*3600)/60),a=e-t*3600*24-r*3600-o*60;let u="";return t&&(u+=Cc(t)+"d:"),r&&(u+=Cc(r)+"h:"),u+=Cc(o)+"m:"+Cc(a)+"s",u}function Cc(n){return n===0?"00":n>=10?n.toString():"0"+n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zp({url:n,body:e},t){const r={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){const w=await o.getHeartbeatsHeader();w&&(r["X-Firebase-Client"]=w)}const a={method:"POST",body:JSON.stringify(e),headers:r};let u;try{u=await fetch(n,a)}catch(w){throw hn.create("fetch-network-error",{originalErrorMessage:w==null?void 0:w.message})}if(u.status!==200)throw hn.create("fetch-status-error",{httpStatus:u.status});let f;try{f=await u.json()}catch(w){throw hn.create("fetch-parse-error",{originalErrorMessage:w==null?void 0:w.message})}const d=f.ttl.match(/^([\d.]+)(s)$/);if(!d||!d[2]||isNaN(Number(d[1])))throw hn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const m=Number(d[1])*1e3,v=Date.now();return{token:f.token,expireTimeMillis:v+m,issuedAtTimeMillis:v}}function DP(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`${Ow}/projects/${t}/apps/${r}:${AP}?key=${o}`,body:{recaptcha_enterprise_token:e}}}function Uw(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`${Ow}/projects/${t}/apps/${r}:${PP}?key=${o}`,body:{debug_token:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP="firebase-app-check-database",VP=1,Ll="firebase-app-check-store",jw="debug-token";let xc=null;function Bw(){return xc||(xc=new Promise((n,e)=>{try{const t=indexedDB.open(NP,VP);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var o;e(hn.create("storage-open",{originalErrorMessage:(o=r.target.error)==null?void 0:o.message}))},t.onupgradeneeded=r=>{const o=r.target.result;switch(r.oldVersion){case 0:o.createObjectStore(Ll,{keyPath:"compositeKey"})}}}catch(t){e(hn.create("storage-open",{originalErrorMessage:t==null?void 0:t.message}))}}),xc)}function MP(n){return $w(Hw(n))}function bP(n,e){return zw(Hw(n),e)}function LP(n){return zw(jw,n)}function OP(){return $w(jw)}async function zw(n,e){const r=(await Bw()).transaction(Ll,"readwrite"),a=r.objectStore(Ll).put({compositeKey:n,value:e});return new Promise((u,f)=>{a.onsuccess=d=>{u()},r.onerror=d=>{var m;f(hn.create("storage-set",{originalErrorMessage:(m=d.target.error)==null?void 0:m.message}))}})}async function $w(n){const t=(await Bw()).transaction(Ll,"readonly"),o=t.objectStore(Ll).get(n);return new Promise((a,u)=>{o.onsuccess=f=>{const d=f.target.result;a(d?d.value:void 0)},t.onerror=f=>{var d;u(hn.create("storage-get",{originalErrorMessage:(d=f.target.error)==null?void 0:d.message}))}})}function Hw(n){return`${n.options.appId}-${n.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi=new Ah("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FP(n){if(Gp()){let e;try{e=await MP(n)}catch(t){bi.warn(`Failed to read token from IndexedDB. Error: ${t}`)}return e}}function Sd(n,e){return Gp()?bP(n,e).catch(t=>{bi.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}async function UP(){let n;try{n=await OP()}catch{}if(n)return n;{const e=crypto.randomUUID();return LP(e).catch(t=>bi.warn(`Failed to persist debug token to IndexedDB. Error: ${t}`)),e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(){return Ph().enabled}async function tm(){const n=Ph();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}function jP(){const n=Pw(),e=Ph();if(e.initialized=!0,typeof n.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&n.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;e.enabled=!0;const t=new Ml;e.token=t,typeof n.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?t.resolve(n.FIREBASE_APPCHECK_DEBUG_TOKEN):t.resolve(UP())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP={error:"UNKNOWN_ERROR"};function zP(n){return qp.encodeString(JSON.stringify(n),!1)}async function op(n,e=!1,t=!1){const r=n.app;Jp(r);const o=It(r);let a=o.token,u;if(a&&!$o(a)&&(o.token=void 0,a=void 0),!a){const m=await o.cachedTokenPromise;m&&($o(m)?a=m:await Sd(r,void 0))}if(!e&&a&&$o(a))return{token:a.token};let f=!1;if(em())try{o.exchangeTokenPromise||(o.exchangeTokenPromise=Zp(Uw(r,await tm()),n.heartbeatServiceProvider).finally(()=>{o.exchangeTokenPromise=void 0}),f=!0);const m=await o.exchangeTokenPromise;return await Sd(r,m),o.token=m,{token:m.token}}catch(m){return m.code==="appCheck/throttled"||m.code==="appCheck/initial-throttle"?bi.warn(m.message):t&&bi.error(m),Ad(m)}try{o.exchangeTokenPromise||(o.exchangeTokenPromise=o.provider.getToken().finally(()=>{o.exchangeTokenPromise=void 0}),f=!0),a=await It(r).exchangeTokenPromise}catch(m){m.code==="appCheck/throttled"||m.code==="appCheck/initial-throttle"?bi.warn(m.message):t&&bi.error(m),u=m}let d;return a?u?$o(a)?d={token:a.token,internalError:u}:d=Ad(u):(d={token:a.token},o.token=a,await Sd(r,a)):d=Ad(u),f&&qw(r,d),d}async function $P(n){const e=n.app;Jp(e);const{provider:t}=It(e);if(em()){const r=await tm(),{token:o}=await Zp(Uw(e,r),n.heartbeatServiceProvider);return{token:o}}else{const{token:r}=await t.getToken();return{token:r}}}function Ww(n,e,t,r){const{app:o}=n,a=It(o),u={next:t,error:r,type:e};if(a.tokenObservers=[...a.tokenObservers,u],a.token&&$o(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),zv(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>zv(n))}function Kw(n,e){const t=It(n),r=t.tokenObservers.filter(o=>o.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function zv(n){const{app:e}=n,t=It(e);let r=t.tokenRefresher;r||(r=HP(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function HP(n){const{app:e}=n;return new xP(async()=>{const t=It(e);let r;if(t.token?r=await op(n,!0):r=await op(n),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{const t=It(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5;const o=t.token.expireTimeMillis-300*1e3;return r=Math.min(r,o),Math.max(0,r-Date.now())}else return 0},jv.RETRIAL_MIN_WAIT,jv.RETRIAL_MAX_WAIT)}function qw(n,e){const t=It(n).tokenObservers;for(const r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function $o(n){return n.expireTimeMillis-Date.now()>0}function Ad(n){return{token:zP(BP),error:n}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=It(this.app);for(const t of e)Kw(this.app,t.next);return Promise.resolve()}}function KP(n,e){return new WP(n,e)}function qP(n){return{getToken:e=>op(n,e),getLimitedUseToken:()=>$P(n),addTokenListener:e=>Ww(n,"INTERNAL",e),removeTokenListener:e=>Kw(n.app,e)}}const GP="@firebase/app-check",QP="0.11.0",XP="https://www.google.com/recaptcha/enterprise.js";function YP(n,e){const t=new Ml,r=It(n);r.reCAPTCHAState={initialized:t};const o=JP(n),a=Bv(!0);return a?$v(n,e,a,o,t):tC(()=>{const u=Bv(!0);if(!u)throw new Error("no recaptcha");$v(n,e,u,o,t)}),t.promise}function $v(n,e,t,r,o){t.ready(()=>{eC(n,e,t,r),o.resolve(t)})}function JP(n){const e=`fire_app_check_${n.name}`,t=document.createElement("div");return t.id=e,t.style.display="none",document.body.appendChild(t),e}async function ZP(n){Jp(n);const t=await It(n).reCAPTCHAState.initialized.promise;return new Promise((r,o)=>{const a=It(n).reCAPTCHAState;t.ready(()=>{r(t.execute(a.widgetId,{action:"fire_app_check"}))})})}function eC(n,e,t,r){const o=t.render(r,{sitekey:e,size:"invisible",callback:()=>{It(n).reCAPTCHAState.succeeded=!0},"error-callback":()=>{It(n).reCAPTCHAState.succeeded=!1}}),a=It(n);a.reCAPTCHAState={...a.reCAPTCHAState,widgetId:o}}function tC(n){const e=document.createElement("script");e.src=XP,e.onload=n,document.head.appendChild(e)}class Ch{constructor(e){this._siteKey=e,this._throttleData=null}async getToken(){var r,o,a;rC(this._throttleData);const e=await ZP(this._app).catch(u=>{throw hn.create("recaptcha-error")});if(!((r=It(this._app).reCAPTCHAState)!=null&&r.succeeded))throw hn.create("recaptcha-error");let t;try{t=await Zp(DP(this._app,e),this._heartbeatServiceProvider)}catch(u){throw(o=u.code)!=null&&o.includes("fetch-status-error")?(this._throttleData=nC(Number((a=u.customData)==null?void 0:a.httpStatus),this._throttleData),hn.create("initial-throttle",{time:Fw(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):u}return this._throttleData=null,t}initialize(e){this._app=e,this._heartbeatServiceProvider=Zl(e,"heartbeat"),YP(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof Ch?this._siteKey===e._siteKey:!1}}function nC(n,e){if(n===404||n===403)return{backoffCount:1,allowRequestsAfter:Date.now()+CP,httpStatus:n};{const t=e?e.backoffCount:0,r=fA(t,1e3,2);return{backoffCount:t+1,allowRequestsAfter:Date.now()+r,httpStatus:n}}}function rC(n){if(n&&Date.now()-n.allowRequestsAfter<=0)throw hn.create("throttled",{time:Fw(n.allowRequestsAfter-Date.now()),httpStatus:n.httpStatus})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(n=Yp(),e){n=bn(n);const t=Zl(n,"app-check");if(Ph().initialized||jP(),em()&&tm().then(o=>console.log(`App Check debug token: ${o}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(a.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&a.provider.isEqual(e.provider))return o;throw hn.create("already-initialized",{appName:n.name})}const r=t.initialize({options:e});return iC(n,e.provider,e.isTokenAutoRefreshEnabled),It(n).isTokenAutoRefreshEnabled&&Ww(r,"INTERNAL",()=>{}),r}function iC(n,e,t=!1){const r=SP(n,{...Lw});r.activated=!0,r.provider=e,r.cachedTokenPromise=FP(n).then(o=>(o&&$o(o)&&(r.token=o,qw(n,{token:o.token})),o)),r.isTokenAutoRefreshEnabled=t&&n.automaticDataCollectionEnabled,!n.automaticDataCollectionEnabled&&t&&bi.warn("`isTokenAutoRefreshEnabled` is true but `automaticDataCollectionEnabled` was set to false during `initializeApp()`. This blocks automatic token refresh."),r.provider.initialize(n)}const sC="app-check",Hv="app-check-internal";function oC(){Bi(new Jr(sC,n=>{const e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return KP(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Hv).initialize()})),Bi(new Jr(Hv,n=>{const e=n.getProvider("app-check").getImmediate();return qP(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Xr(GP,QP)}oC();function Qw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const aC=Qw,Xw=new ca("auth","Firebase",Qw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const th=new Ah("@firebase/auth");function lC(n,...e){th.logLevel<=ke.WARN&&th.warn(`Auth (${ha}): ${n}`,...e)}function Uc(n,...e){th.logLevel<=ke.ERROR&&th.error(`Auth (${ha}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(n,...e){throw rm(n,...e)}function tr(n,...e){return rm(n,...e)}function nm(n,e,t){const r={...aC(),[e]:t};return new ca("auth","Firebase",r).create(e,{appName:n.name})}function Ns(n){return nm(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function uC(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Er(n,"argument-error"),nm(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function rm(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Xw.create(n,...e)}function Ee(n,e,...t){if(!n)throw rm(e,...t)}function Gr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Uc(e),new Error(e)}function ei(n,e){n||Gr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ap(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function cC(){return Wv()==="http:"||Wv()==="https:"}function Wv(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cC()||X1()||"connection"in navigator)?navigator.onLine:!0}function fC(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,t){this.shortDelay=e,this.longDelay=t,ei(t>e,"Short delay should be less than long delay!"),this.isMobile=q1()||Y1()}get(){return hC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function im(n,e){ei(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mC=new eu(3e4,6e4);function sm(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function fa(n,e,t,r,o={}){return Jw(n,o,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const f=Jl({key:n.config.apiKey,...u}).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const m={method:e,headers:d,...a};return Q1()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&ua(n.emulatorConfig.host)&&(m.credentials="include"),Yw.fetch()(await Zw(n,n.config.apiHost,t,f),m)})}async function Jw(n,e,t){n._canInitEmulator=!1;const r={...dC,...e};try{const o=new yC(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Rc(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const f=a.ok?u.errorMessage:u.error.message,[d,m]=f.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rc(n,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw Rc(n,"email-already-in-use",u);if(d==="USER_DISABLED")throw Rc(n,"user-disabled",u);const v=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw nm(n,v,m);Er(n,v)}}catch(o){if(o instanceof si)throw o;Er(n,"network-request-failed",{message:String(o)})}}async function gC(n,e,t,r,o={}){const a=await fa(n,e,t,r,o);return"mfaPendingCredential"in a&&Er(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function Zw(n,e,t,r){const o=`${e}${t}?${r}`,a=n,u=a.config.emulator?im(n.config,o):`${n.config.apiScheme}://${o}`;return pC.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}class yC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(tr(this.auth,"network-request-failed")),mC.get())})}}function Rc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=tr(n,e,r);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vC(n,e){return fa(n,"POST","/v1/accounts:delete",e)}async function nh(n,e){return fa(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Il(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _C(n,e=!1){const t=bn(n),r=await t.getIdToken(e),o=om(r);Ee(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:o,token:r,authTime:Il(Pd(o.auth_time)),issuedAtTime:Il(Pd(o.iat)),expirationTime:Il(Pd(o.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Pd(n){return Number(n)*1e3}function om(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Uc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Aw(t);return o?JSON.parse(o):(Uc("Failed to decode base64 JWT payload"),null)}catch(o){return Uc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Kv(n){const e=om(n);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ol(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof si&&wC(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function wC({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Il(this.lastLoginAt),this.creationTime=Il(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rh(n){var w;const e=n.auth,t=await n.getIdToken(),r=await Ol(n,nh(e,{idToken:t}));Ee(r==null?void 0:r.users.length,e,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const a=(w=o.providerUserInfo)!=null&&w.length?eT(o.providerUserInfo):[],u=IC(n.providerData,a),f=n.isAnonymous,d=!(n.email&&o.passwordHash)&&!(u!=null&&u.length),m=f?d:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new lp(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(n,v)}async function EC(n){const e=bn(n);await rh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function IC(n,e){return[...n.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function eT(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SC(n,e){const t=await Jw(n,{},async()=>{const r=Jl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,u=await Zw(n,o,"/v1/token",`key=${a}`),f=await n._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:f,body:r};return n.emulatorConfig&&ua(n.emulatorConfig.host)&&(d.credentials="include"),Yw.fetch()(u,d)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function AC(n,e){return fa(n,"POST","/v2/accounts:revokeToken",sm(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Kv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const t=Kv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:o,expiresIn:a}=await SC(e,t);this.updateTokensAndExpiration(r,o,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:a}=t,u=new Qo;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),o&&(Ee(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),a&&(Ee(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qo,this.toJSON())}_performRefresh(){return Gr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(n,e){Ee(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Zn{constructor({uid:e,auth:t,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new TC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new lp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Ol(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return _C(this,e)}reload(){return EC(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Zn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await rh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jn(this.auth.app))return Promise.reject(Ns(this.auth));const e=await this.getIdToken();return await Ol(this,vC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,o=t.email??void 0,a=t.phoneNumber??void 0,u=t.photoURL??void 0,f=t.tenantId??void 0,d=t._redirectEventId??void 0,m=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:w,emailVerified:E,isAnonymous:C,providerData:O,stsTokenManager:B}=t;Ee(w&&B,e,"internal-error");const U=Qo.fromJSON(this.name,B);Ee(typeof w=="string",e,"internal-error"),Di(r,e.name),Di(o,e.name),Ee(typeof E=="boolean",e,"internal-error"),Ee(typeof C=="boolean",e,"internal-error"),Di(a,e.name),Di(u,e.name),Di(f,e.name),Di(d,e.name),Di(m,e.name),Di(v,e.name);const H=new Zn({uid:w,auth:e,email:o,emailVerified:E,displayName:r,isAnonymous:C,photoURL:u,phoneNumber:a,tenantId:f,stsTokenManager:U,createdAt:m,lastLoginAt:v});return O&&Array.isArray(O)&&(H.providerData=O.map(X=>({...X}))),d&&(H._redirectEventId=d),H}static async _fromIdTokenResponse(e,t,r=!1){const o=new Qo;o.updateFromServerResponse(t);const a=new Zn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await rh(a),a}static async _fromGetAccountInfoResponse(e,t,r){const o=t.users[0];Ee(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?eT(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),f=new Qo;f.updateFromIdToken(r);const d=new Zn({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:u}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new lp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(d,m),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv=new Map;function Qr(n){ei(n instanceof Function,"Expected a class definition");let e=qv.get(n);return e?(ei(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,qv.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}tT.type="NONE";const Gv=tT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jc(n,e,t){return`firebase:${n}:${e}:${t}`}class Xo{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:a}=this.auth;this.fullUserKey=jc(this.userKey,o.apiKey,a),this.fullPersistenceKey=jc("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await nh(this.auth,{idToken:e}).catch(()=>{});return t?Zn._fromGetAccountInfoResponse(this.auth,t,e):null}return Zn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Xo(Qr(Gv),e,r);const o=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=o[0]||Qr(Gv);const u=jc(r,e.config.apiKey,e.name);let f=null;for(const m of t)try{const v=await m._get(u);if(v){let w;if(typeof v=="string"){const E=await nh(e,{idToken:v}).catch(()=>{});if(!E)break;w=await Zn._fromGetAccountInfoResponse(e,E,v)}else w=Zn._fromJSON(e,v);m!==a&&(f=w),a=m;break}}catch{}const d=o.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new Xo(a,e,r):(a=d[0],f&&await a._set(u,f.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(u)}catch{}})),new Xo(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(sT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(aT(e))return"Blackberry";if(lT(e))return"Webos";if(rT(e))return"Safari";if((e.includes("chrome/")||iT(e))&&!e.includes("edge/"))return"Chrome";if(oT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function nT(n=Qt()){return/firefox\//i.test(n)}function rT(n=Qt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function iT(n=Qt()){return/crios\//i.test(n)}function sT(n=Qt()){return/iemobile/i.test(n)}function oT(n=Qt()){return/android/i.test(n)}function aT(n=Qt()){return/blackberry/i.test(n)}function lT(n=Qt()){return/webos/i.test(n)}function am(n=Qt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function PC(n=Qt()){var e;return am(n)&&!!((e=window.navigator)!=null&&e.standalone)}function CC(){return J1()&&document.documentMode===10}function uT(n=Qt()){return am(n)||oT(n)||lT(n)||aT(n)||/windows phone/i.test(n)||sT(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(n,e=[]){let t;switch(n){case"Browser":t=Qv(Qt());break;case"Worker":t=`${Qv(Qt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ha}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,f)=>{try{const d=e(a);u(d)}catch(d){f(d)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RC(n,e={}){return fa(n,"GET","/v2/passwordPolicy",sm(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC=6;class DC{constructor(e){var r;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??kC,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xv(this),this.idTokenSubscription=new Xv(this),this.beforeStateQueue=new xC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Xw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Qr(t)),this._initializationPromise=this.queue(async()=>{var r,o,a;if(!this._deleted&&(this.persistenceManager=await Xo.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await nh(this,{idToken:e}),r=await Zn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(Jn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(a=this.redirectUser)==null?void 0:a._redirectEventId,f=r==null?void 0:r._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===f)&&(d!=null&&d.user)&&(r=d.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await rh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=fC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Jn(this.app))return Promise.reject(Ns(this));const t=e?bn(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Jn(this.app)?Promise.reject(Ns(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Jn(this.app)?Promise.reject(Ns(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Qr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await RC(this),t=new DC(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ca("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await AC(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Qr(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=await Xo.create(this,[Qr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(f,this,"internal-error"),f.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,o);return()=>{u=!0,d()}}else{const d=e.addObserver(t);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;if(Jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&lC(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function xh(n){return bn(n)}class Xv{constructor(e){this.auth=e,this.observer=null,this.addObserver=sA(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function VC(n){lm=n}function MC(n){return lm.loadJS(n)}function bC(){return lm.gapiScript}function LC(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(n,e){const t=Zl(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(Ls(a,e??{}))return o;Er(o,"already-initialized")}return t.initialize({options:e})}function FC(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Qr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function UC(n,e,t){const r=xh(n);Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,a=hT(e),{host:u,port:f}=jC(e),d=f===null?"":`:${f}`,m={url:`${a}//${u}${d}/`},v=Object.freeze({host:u,port:f,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Ee(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ee(Ls(m,r.config.emulator)&&Ls(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,ua(u)?(kw(`${a}//${u}${d}`),Dw("Auth",!0)):BC()}function hT(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function jC(n){const e=hT(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const a=o[1];return{host:a,port:Yv(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:Yv(u)}}}function Yv(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function BC(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Gr("not implemented")}_getIdTokenResponse(e){return Gr("not implemented")}_linkToIdToken(e,t){return Gr("not implemented")}_getReauthenticationResolver(e){return Gr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yo(n,e){return gC(n,"POST","/v1/accounts:signInWithIdp",sm(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC="http://localhost";class Os extends fT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Os(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Er("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...a}=t;if(!r||!o)return null;const u=new Os(r,o);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Yo(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Yo(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Yo(e,t)}buildRequest(){const e={requestUri:zC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Jl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu extends um{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends tu{constructor(){super("facebook.com")}static credential(e){return Os._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vi.credentialFromTaggedObject(e)}static credentialFromError(e){return Vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vi.credential(e.oauthAccessToken)}catch{return null}}}Vi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends tu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Os._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Kr.credential(t,r)}catch{return null}}}Kr.GOOGLE_SIGN_IN_METHOD="google.com";Kr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends tu{constructor(){super("github.com")}static credential(e){return Os._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qr.credentialFromTaggedObject(e)}static credentialFromError(e){return qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qr.credential(e.oauthAccessToken)}catch{return null}}}qr.GITHUB_SIGN_IN_METHOD="github.com";qr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends tu{constructor(){super("twitter.com")}static credential(e,t){return Os._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Mi.credential(t,r)}catch{return null}}}Mi.TWITTER_SIGN_IN_METHOD="twitter.com";Mi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,o=!1){const a=await Zn._fromIdTokenResponse(e,r,o),u=Jv(r);return new ea({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const o=Jv(r);return new ea({user:e,providerId:o,_tokenResponse:r,operationType:t})}}function Jv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih extends si{constructor(e,t,r,o){super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,ih.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new ih(e,t,r,o)}}function dT(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?ih._fromErrorAndOperation(n,a,e,r):a})}async function $C(n,e,t=!1){const r=await Ol(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ea._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HC(n,e,t=!1){const{auth:r}=n;if(Jn(r.app))return Promise.reject(Ns(r));const o="reauthenticate";try{const a=await Ol(n,dT(r,o,e,n),t);Ee(a.idToken,r,"internal-error");const u=om(a.idToken);Ee(u,r,"internal-error");const{sub:f}=u;return Ee(n.uid===f,r,"user-mismatch"),ea._forOperation(n,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Er(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WC(n,e,t=!1){if(Jn(n.app))return Promise.reject(Ns(n));const r="signIn",o=await dT(n,r,e),a=await ea._fromIdTokenResponse(n,r,o);return t||await n._updateCurrentUser(a.user),a}function KC(n,e,t,r){return bn(n).onIdTokenChanged(e,t,r)}function qC(n,e,t){return bn(n).beforeAuthStateChanged(e,t)}function Fo(n,e,t,r){return bn(n).onAuthStateChanged(e,t,r)}const sh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(sh,"1"),this.storage.removeItem(sh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC=1e3,QC=10;class mT extends pT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=uT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),o=this.localCache[t];r!==o&&e(t,o,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,f,d)=>{this.notifyListeners(u,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);CC()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,QC):o()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},GC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}mT.type="LOCAL";const XC=mT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT extends pT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}gT.type="SESSION";const yT=gT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const r=new Rh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:o,data:a}=t.data,u=this.handlersMap[o];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const f=Array.from(u).map(async m=>m(t.origin,a)),d=await YC(f);t.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,u;return new Promise((f,d)=>{const m=cm("",20);o.port1.start();const v=setTimeout(()=>{d(new Error("unsupported_event"))},r);u={messageChannel:o,onMessage(w){const E=w;if(E.data.eventId===m)switch(E.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),f(E.data.response);break;default:clearTimeout(v),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(){return window}function ZC(n){pr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(){return typeof pr().WorkerGlobalScope<"u"&&typeof pr().importScripts=="function"}async function ex(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tx(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function nx(){return vT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="firebaseLocalStorageDb",rx=1,oh="firebaseLocalStorage",wT="fbase_key";class nu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function kh(n,e){return n.transaction([oh],e?"readwrite":"readonly").objectStore(oh)}function ix(){const n=indexedDB.deleteDatabase(_T);return new nu(n).toPromise()}function up(){const n=indexedDB.open(_T,rx);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(oh,{keyPath:wT})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(oh)?e(r):(r.close(),await ix(),e(await up()))})})}async function Zv(n,e,t){const r=kh(n,!0).put({[wT]:e,value:t});return new nu(r).toPromise()}async function sx(n,e){const t=kh(n,!1).get(e),r=await new nu(t).toPromise();return r===void 0?null:r.value}function e_(n,e){const t=kh(n,!0).delete(e);return new nu(t).toPromise()}const ox=800,ax=3;class TT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await up(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>ax)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rh._getInstance(nx()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await ex(),!this.activeServiceWorker)return;this.sender=new JC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||tx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await up();return await Zv(e,sh,"1"),await e_(e,sh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Zv(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>sx(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>e_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=kh(o,!1).getAll();return new nu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ox)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}TT.type="LOCAL";const lx=TT;new eu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(n,e){return e?Qr(e):(Ee(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm extends fT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Yo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Yo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ux(n){return WC(n.auth,new hm(n),n.bypassAuthState)}function cx(n){const{auth:e,user:t}=n;return Ee(t,e,"internal-error"),HC(t,new hm(n),n.bypassAuthState)}async function hx(n){const{auth:e,user:t}=n;return Ee(t,e,"internal-error"),$C(t,new hm(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e,t,r,o,a=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:o,tenantId:a,error:u,type:f}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(d))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ux;case"linkViaPopup":case"linkViaRedirect":return hx;case"reauthViaPopup":case"reauthViaRedirect":return cx;default:Er(this.auth,"internal-error")}}resolve(e){ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx=new eu(2e3,1e4);async function t_(n,e,t){if(Jn(n.app))return Promise.reject(tr(n,"operation-not-supported-in-this-environment"));const r=xh(n);uC(n,e,um);const o=ET(r,t);return new xs(r,"signInViaPopup",e,o).executeNotNull()}class xs extends IT{constructor(e,t,r,o,a){super(e,t,o,a),this.provider=r,this.authWindow=null,this.pollId=null,xs.currentPopupAction&&xs.currentPopupAction.cancel(),xs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){ei(this.filter.length===1,"Popup operations only handle one event");const e=cm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(tr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(tr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if((r=(t=this.authWindow)==null?void 0:t.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(tr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,fx.get())};e()}}xs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx="pendingRedirect",Bc=new Map;class px extends IT{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Bc.get(this.auth._key());if(!e){try{const r=await mx(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Bc.set(this.auth._key(),e)}return this.bypassAuthState||Bc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function mx(n,e){const t=vx(e),r=yx(n);if(!await r._isAvailable())return!1;const o=await r._get(t)==="true";return await r._remove(t),o}function gx(n,e){Bc.set(n._key(),e)}function yx(n){return Qr(n._redirectPersistence)}function vx(n){return jc(dx,n.config.apiKey,n.name)}async function _x(n,e,t=!1){if(Jn(n.app))return Promise.reject(Ns(n));const r=xh(n),o=ET(r,e),u=await new px(r,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx=600*1e3;class Tx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Ex(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!ST(e)){const o=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";t.onError(tr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=wx&&this.cachedEventUids.clear(),this.cachedEventUids.has(n_(e))}saveEventToCache(e){this.cachedEventUids.add(n_(e)),this.lastProcessedEventTime=Date.now()}}function n_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function ST({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Ex(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ST(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ix(n,e={}){return fa(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ax=/^https?/;async function Px(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Ix(n);for(const t of e)try{if(Cx(t))return}catch{}Er(n,"unauthorized-domain")}function Cx(n){const e=ap(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!Ax.test(t))return!1;if(Sx.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx=new eu(3e4,6e4);function r_(){const n=pr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Rx(n){return new Promise((e,t)=>{var o,a,u;function r(){r_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{r_(),t(tr(n,"network-request-failed"))},timeout:xx.get()})}if((a=(o=pr().gapi)==null?void 0:o.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((u=pr().gapi)!=null&&u.load)r();else{const f=LC("iframefcb");return pr()[f]=()=>{gapi.load?r():t(tr(n,"network-request-failed"))},MC(`${bC()}?onload=${f}`).catch(d=>t(d))}}).catch(e=>{throw zc=null,e})}let zc=null;function kx(n){return zc=zc||Rx(n),zc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx=new eu(5e3,15e3),Nx="__/auth/iframe",Vx="emulator/auth/iframe",Mx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Lx(n){const e=n.config;Ee(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?im(e,Vx):`https://${n.config.authDomain}/${Nx}`,r={apiKey:e.apiKey,appName:n.name,v:ha},o=bx.get(n.config.apiHost);o&&(r.eid=o);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${Jl(r).slice(1)}`}async function Ox(n){const e=await kx(n),t=pr().gapi;return Ee(t,n,"internal-error"),e.open({where:document.body,url:Lx(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Mx,dontclear:!0},r=>new Promise(async(o,a)=>{await r.restyle({setHideOnLeave:!1});const u=tr(n,"network-request-failed"),f=pr().setTimeout(()=>{a(u)},Dx.get());function d(){pr().clearTimeout(f),o(r)}r.ping(d).then(d,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ux=500,jx=600,Bx="_blank",zx="http://localhost";class i_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $x(n,e,t,r=Ux,o=jx){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const d={...Fx,width:r.toString(),height:o.toString(),top:a,left:u},m=Qt().toLowerCase();t&&(f=iT(m)?Bx:t),nT(m)&&(e=e||zx,d.scrollbars="yes");const v=Object.entries(d).reduce((E,[C,O])=>`${E}${C}=${O},`,"");if(PC(m)&&f!=="_self")return Hx(e||"",f),new i_(null);const w=window.open(e||"",f,v);Ee(w,n,"popup-blocked");try{w.focus()}catch{}return new i_(w)}function Hx(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx="__/auth/handler",Kx="emulator/auth/handler",qx=encodeURIComponent("fac");async function s_(n,e,t,r,o,a){Ee(n.config.authDomain,n,"auth-domain-config-required"),Ee(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ha,eventId:o};if(e instanceof um){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",iA(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,w]of Object.entries({}))u[v]=w}if(e instanceof tu){const v=e.getScopes().filter(w=>w!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const f=u;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const d=await n._getAppCheckToken(),m=d?`#${qx}=${encodeURIComponent(d)}`:"";return`${Gx(n)}?${Jl(f).slice(1)}${m}`}function Gx({config:n}){return n.emulator?im(n,Kx):`https://${n.authDomain}/${Wx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd="webStorageSupport";class Qx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yT,this._completeRedirectFn=_x,this._overrideRedirectResult=gx}async _openPopup(e,t,r,o){var u;ei((u=this.eventManagers[e._key()])==null?void 0:u.manager,"_initialize() not called before _openPopup()");const a=await s_(e,t,r,ap(),o);return $x(e,a,cm())}async _openRedirect(e,t,r,o){await this._originValidation(e);const a=await s_(e,t,r,ap(),o);return ZC(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(ei(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await Ox(e),r=new Tx(e);return t.register("authEvent",o=>(Ee(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Cd,{type:Cd},o=>{var u;const a=(u=o==null?void 0:o[0])==null?void 0:u[Cd];a!==void 0&&t(!!a),Er(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Px(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return uT()||rT()||am()}}const Xx=Qx;var o_="@firebase/auth",a_="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jx(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Zx(n){Bi(new Jr("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=r.options;Ee(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:u,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cT(n)},m=new NC(r,o,a,d);return FC(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Bi(new Jr("auth-internal",e=>{const t=xh(e.getProvider("auth").getImmediate());return(r=>new Yx(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xr(o_,a_,Jx(n)),Xr(o_,a_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR=300,tR=Rw("authIdTokenMaxAge")||eR;let l_=null;const nR=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>tR)return;const o=t==null?void 0:t.token;l_!==o&&(l_=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function AT(n=Yp()){const e=Zl(n,"auth");if(e.isInitialized())return e.getImmediate();const t=OC(n,{popupRedirectResolver:Xx,persistence:[lx,XC,yT]}),r=Rw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=nR(a.toString());qC(t,u,()=>u(t.currentUser)),KC(t,f=>u(f))}}const o=Cw("auth");return o&&UC(t,`http://${o}`),t}function rR(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}VC({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=o=>{const a=tr("internal-error");a.customData=o,t(a)},r.type="text/javascript",r.charset="UTF-8",rR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Zx("Browser");const iR={apiKey:"AIzaSyBwhy3ZWHvYf5r9c7TrabP7ONCG5CXftgk",authDomain:"ai-hub-8f387.firebaseapp.com",projectId:"ai-hub-8f387",storageBucket:"ai-hub-8f387.firebasestorage.app",messagingSenderId:"721658943205",appId:"1:721658943205:web:36e4e757a3f8b45f71a60c",measurementId:"G-6ESG13BJGF"},PT=Xp(iR);Gw(PT,{provider:new Ch("6LeUEpErAAAAAHJn66FWfNdoc9QSsqxjeVpj6DPa"),isTokenAutoRefreshEnabled:!0});const CT=AT(PT);CT.useDeviceLanguage();Fo(CT,n=>{n==null?console.log("user, not found"):console.log("user, logged in")});var xd={exports:{}},pl={},Rd={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u_;function sR(){if(u_)return Re;u_=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function E(M){return M===null||typeof M!="object"?null:(M=w&&M[w]||M["@@iterator"],typeof M=="function"?M:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,B={};function U(M,K,me){this.props=M,this.context=K,this.refs=B,this.updater=me||C}U.prototype.isReactComponent={},U.prototype.setState=function(M,K){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,K,"setState")},U.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function H(){}H.prototype=U.prototype;function X(M,K,me){this.props=M,this.context=K,this.refs=B,this.updater=me||C}var q=X.prototype=new H;q.constructor=X,O(q,U.prototype),q.isPureReactComponent=!0;var ie=Array.isArray,oe=Object.prototype.hasOwnProperty,fe={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(M,K,me){var Ce,xe={},Me=null,Ue=null;if(K!=null)for(Ce in K.ref!==void 0&&(Ue=K.ref),K.key!==void 0&&(Me=""+K.key),K)oe.call(K,Ce)&&!k.hasOwnProperty(Ce)&&(xe[Ce]=K[Ce]);var je=arguments.length-2;if(je===1)xe.children=me;else if(1<je){for(var He=Array(je),At=0;At<je;At++)He[At]=arguments[At+2];xe.children=He}if(M&&M.defaultProps)for(Ce in je=M.defaultProps,je)xe[Ce]===void 0&&(xe[Ce]=je[Ce]);return{$$typeof:n,type:M,key:Me,ref:Ue,props:xe,_owner:fe.current}}function P(M,K){return{$$typeof:n,type:M.type,key:K,ref:M.ref,props:M.props,_owner:M._owner}}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===n}function V(M){var K={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(me){return K[me]})}var b=/\/+/g;function x(M,K){return typeof M=="object"&&M!==null&&M.key!=null?V(""+M.key):K.toString(36)}function Xe(M,K,me,Ce,xe){var Me=typeof M;(Me==="undefined"||Me==="boolean")&&(M=null);var Ue=!1;if(M===null)Ue=!0;else switch(Me){case"string":case"number":Ue=!0;break;case"object":switch(M.$$typeof){case n:case e:Ue=!0}}if(Ue)return Ue=M,xe=xe(Ue),M=Ce===""?"."+x(Ue,0):Ce,ie(xe)?(me="",M!=null&&(me=M.replace(b,"$&/")+"/"),Xe(xe,K,me,"",function(At){return At})):xe!=null&&(D(xe)&&(xe=P(xe,me+(!xe.key||Ue&&Ue.key===xe.key?"":(""+xe.key).replace(b,"$&/")+"/")+M)),K.push(xe)),1;if(Ue=0,Ce=Ce===""?".":Ce+":",ie(M))for(var je=0;je<M.length;je++){Me=M[je];var He=Ce+x(Me,je);Ue+=Xe(Me,K,me,He,xe)}else if(He=E(M),typeof He=="function")for(M=He.call(M),je=0;!(Me=M.next()).done;)Me=Me.value,He=Ce+x(Me,je++),Ue+=Xe(Me,K,me,He,xe);else if(Me==="object")throw K=String(M),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return Ue}function gt(M,K,me){if(M==null)return M;var Ce=[],xe=0;return Xe(M,Ce,"","",function(Me){return K.call(me,Me,xe++)}),Ce}function Nt(M){if(M._status===-1){var K=M._result;K=K(),K.then(function(me){(M._status===0||M._status===-1)&&(M._status=1,M._result=me)},function(me){(M._status===0||M._status===-1)&&(M._status=2,M._result=me)}),M._status===-1&&(M._status=0,M._result=K)}if(M._status===1)return M._result.default;throw M._result}var Ie={current:null},ee={transition:null},he={ReactCurrentDispatcher:Ie,ReactCurrentBatchConfig:ee,ReactCurrentOwner:fe};function re(){throw Error("act(...) is not supported in production builds of React.")}return Re.Children={map:gt,forEach:function(M,K,me){gt(M,function(){K.apply(this,arguments)},me)},count:function(M){var K=0;return gt(M,function(){K++}),K},toArray:function(M){return gt(M,function(K){return K})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Re.Component=U,Re.Fragment=t,Re.Profiler=o,Re.PureComponent=X,Re.StrictMode=r,Re.Suspense=d,Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=he,Re.act=re,Re.cloneElement=function(M,K,me){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var Ce=O({},M.props),xe=M.key,Me=M.ref,Ue=M._owner;if(K!=null){if(K.ref!==void 0&&(Me=K.ref,Ue=fe.current),K.key!==void 0&&(xe=""+K.key),M.type&&M.type.defaultProps)var je=M.type.defaultProps;for(He in K)oe.call(K,He)&&!k.hasOwnProperty(He)&&(Ce[He]=K[He]===void 0&&je!==void 0?je[He]:K[He])}var He=arguments.length-2;if(He===1)Ce.children=me;else if(1<He){je=Array(He);for(var At=0;At<He;At++)je[At]=arguments[At+2];Ce.children=je}return{$$typeof:n,type:M.type,key:xe,ref:Me,props:Ce,_owner:Ue}},Re.createContext=function(M){return M={$$typeof:u,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:a,_context:M},M.Consumer=M},Re.createElement=S,Re.createFactory=function(M){var K=S.bind(null,M);return K.type=M,K},Re.createRef=function(){return{current:null}},Re.forwardRef=function(M){return{$$typeof:f,render:M}},Re.isValidElement=D,Re.lazy=function(M){return{$$typeof:v,_payload:{_status:-1,_result:M},_init:Nt}},Re.memo=function(M,K){return{$$typeof:m,type:M,compare:K===void 0?null:K}},Re.startTransition=function(M){var K=ee.transition;ee.transition={};try{M()}finally{ee.transition=K}},Re.unstable_act=re,Re.useCallback=function(M,K){return Ie.current.useCallback(M,K)},Re.useContext=function(M){return Ie.current.useContext(M)},Re.useDebugValue=function(){},Re.useDeferredValue=function(M){return Ie.current.useDeferredValue(M)},Re.useEffect=function(M,K){return Ie.current.useEffect(M,K)},Re.useId=function(){return Ie.current.useId()},Re.useImperativeHandle=function(M,K,me){return Ie.current.useImperativeHandle(M,K,me)},Re.useInsertionEffect=function(M,K){return Ie.current.useInsertionEffect(M,K)},Re.useLayoutEffect=function(M,K){return Ie.current.useLayoutEffect(M,K)},Re.useMemo=function(M,K){return Ie.current.useMemo(M,K)},Re.useReducer=function(M,K,me){return Ie.current.useReducer(M,K,me)},Re.useRef=function(M){return Ie.current.useRef(M)},Re.useState=function(M){return Ie.current.useState(M)},Re.useSyncExternalStore=function(M,K,me){return Ie.current.useSyncExternalStore(M,K,me)},Re.useTransition=function(){return Ie.current.useTransition()},Re.version="18.3.1",Re}var c_;function fm(){return c_||(c_=1,Rd.exports=sR()),Rd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h_;function oR(){if(h_)return pl;h_=1;var n=fm(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(f,d,m){var v,w={},E=null,C=null;m!==void 0&&(E=""+m),d.key!==void 0&&(E=""+d.key),d.ref!==void 0&&(C=d.ref);for(v in d)r.call(d,v)&&!a.hasOwnProperty(v)&&(w[v]=d[v]);if(f&&f.defaultProps)for(v in d=f.defaultProps,d)w[v]===void 0&&(w[v]=d[v]);return{$$typeof:e,type:f,key:E,ref:C,props:w,_owner:o.current}}return pl.Fragment=t,pl.jsx=u,pl.jsxs=u,pl}var f_;function aR(){return f_||(f_=1,xd.exports=oR()),xd.exports}var G=aR(),Pe=fm(),kc={},kd={exports:{}},un={},Dd={exports:{}},Nd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d_;function lR(){return d_||(d_=1,function(n){function e(ee,he){var re=ee.length;ee.push(he);e:for(;0<re;){var M=re-1>>>1,K=ee[M];if(0<o(K,he))ee[M]=he,ee[re]=K,re=M;else break e}}function t(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var he=ee[0],re=ee.pop();if(re!==he){ee[0]=re;e:for(var M=0,K=ee.length,me=K>>>1;M<me;){var Ce=2*(M+1)-1,xe=ee[Ce],Me=Ce+1,Ue=ee[Me];if(0>o(xe,re))Me<K&&0>o(Ue,xe)?(ee[M]=Ue,ee[Me]=re,M=Me):(ee[M]=xe,ee[Ce]=re,M=Ce);else if(Me<K&&0>o(Ue,re))ee[M]=Ue,ee[Me]=re,M=Me;else break e}}return he}function o(ee,he){var re=ee.sortIndex-he.sortIndex;return re!==0?re:ee.id-he.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,f=u.now();n.unstable_now=function(){return u.now()-f}}var d=[],m=[],v=1,w=null,E=3,C=!1,O=!1,B=!1,U=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function q(ee){for(var he=t(m);he!==null;){if(he.callback===null)r(m);else if(he.startTime<=ee)r(m),he.sortIndex=he.expirationTime,e(d,he);else break;he=t(m)}}function ie(ee){if(B=!1,q(ee),!O)if(t(d)!==null)O=!0,Nt(oe);else{var he=t(m);he!==null&&Ie(ie,he.startTime-ee)}}function oe(ee,he){O=!1,B&&(B=!1,H(S),S=-1),C=!0;var re=E;try{for(q(he),w=t(d);w!==null&&(!(w.expirationTime>he)||ee&&!V());){var M=w.callback;if(typeof M=="function"){w.callback=null,E=w.priorityLevel;var K=M(w.expirationTime<=he);he=n.unstable_now(),typeof K=="function"?w.callback=K:w===t(d)&&r(d),q(he)}else r(d);w=t(d)}if(w!==null)var me=!0;else{var Ce=t(m);Ce!==null&&Ie(ie,Ce.startTime-he),me=!1}return me}finally{w=null,E=re,C=!1}}var fe=!1,k=null,S=-1,P=5,D=-1;function V(){return!(n.unstable_now()-D<P)}function b(){if(k!==null){var ee=n.unstable_now();D=ee;var he=!0;try{he=k(!0,ee)}finally{he?x():(fe=!1,k=null)}}else fe=!1}var x;if(typeof X=="function")x=function(){X(b)};else if(typeof MessageChannel<"u"){var Xe=new MessageChannel,gt=Xe.port2;Xe.port1.onmessage=b,x=function(){gt.postMessage(null)}}else x=function(){U(b,0)};function Nt(ee){k=ee,fe||(fe=!0,x())}function Ie(ee,he){S=U(function(){ee(n.unstable_now())},he)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ee){ee.callback=null},n.unstable_continueExecution=function(){O||C||(O=!0,Nt(oe))},n.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<ee?Math.floor(1e3/ee):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(ee){switch(E){case 1:case 2:case 3:var he=3;break;default:he=E}var re=E;E=he;try{return ee()}finally{E=re}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ee,he){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var re=E;E=ee;try{return he()}finally{E=re}},n.unstable_scheduleCallback=function(ee,he,re){var M=n.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?M+re:M):re=M,ee){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=re+K,ee={id:v++,callback:he,priorityLevel:ee,startTime:re,expirationTime:K,sortIndex:-1},re>M?(ee.sortIndex=re,e(m,ee),t(d)===null&&ee===t(m)&&(B?(H(S),S=-1):B=!0,Ie(ie,re-M))):(ee.sortIndex=K,e(d,ee),O||C||(O=!0,Nt(oe))),ee},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(ee){var he=E;return function(){var re=E;E=he;try{return ee.apply(this,arguments)}finally{E=re}}}}(Nd)),Nd}var p_;function uR(){return p_||(p_=1,Dd.exports=lR()),Dd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m_;function cR(){if(m_)return un;m_=1;var n=fm(),e=uR();function t(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function a(i,s){u(i,s),u(i+"Capture",s)}function u(i,s){for(o[i]=s,i=0;i<s.length;i++)r.add(s[i])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},w={};function E(i){return d.call(w,i)?!0:d.call(v,i)?!1:m.test(i)?w[i]=!0:(v[i]=!0,!1)}function C(i,s,l,h){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function O(i,s,l,h){if(s===null||typeof s>"u"||C(i,s,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function B(i,s,l,h,p,y,T){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=i,this.type=s,this.sanitizeURL=y,this.removeEmptyString=T}var U={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){U[i]=new B(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var s=i[0];U[s]=new B(s,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){U[i]=new B(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){U[i]=new B(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){U[i]=new B(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){U[i]=new B(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){U[i]=new B(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){U[i]=new B(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){U[i]=new B(i,5,!1,i.toLowerCase(),null,!1,!1)});var H=/[\-:]([a-z])/g;function X(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var s=i.replace(H,X);U[s]=new B(s,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var s=i.replace(H,X);U[s]=new B(s,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var s=i.replace(H,X);U[s]=new B(s,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){U[i]=new B(i,1,!1,i.toLowerCase(),null,!1,!1)}),U.xlinkHref=new B("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){U[i]=new B(i,1,!1,i.toLowerCase(),null,!0,!0)});function q(i,s,l,h){var p=U.hasOwnProperty(s)?U[s]:null;(p!==null?p.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(O(s,l,p,h)&&(l=null),h||p===null?E(s)&&(l===null?i.removeAttribute(s):i.setAttribute(s,""+l)):p.mustUseProperty?i[p.propertyName]=l===null?p.type===3?!1:"":l:(s=p.attributeName,h=p.attributeNamespace,l===null?i.removeAttribute(s):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,h?i.setAttributeNS(h,s,l):i.setAttribute(s,l))))}var ie=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,oe=Symbol.for("react.element"),fe=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),V=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),Xe=Symbol.for("react.suspense_list"),gt=Symbol.for("react.memo"),Nt=Symbol.for("react.lazy"),Ie=Symbol.for("react.offscreen"),ee=Symbol.iterator;function he(i){return i===null||typeof i!="object"?null:(i=ee&&i[ee]||i["@@iterator"],typeof i=="function"?i:null)}var re=Object.assign,M;function K(i){if(M===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);M=s&&s[1]||""}return`
`+M+i}var me=!1;function Ce(i,s){if(!i||me)return"";me=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(z){var h=z}Reflect.construct(i,[],s)}else{try{s.call()}catch(z){h=z}i.call(s.prototype)}else{try{throw Error()}catch(z){h=z}i()}}catch(z){if(z&&h&&typeof z.stack=="string"){for(var p=z.stack.split(`
`),y=h.stack.split(`
`),T=p.length-1,A=y.length-1;1<=T&&0<=A&&p[T]!==y[A];)A--;for(;1<=T&&0<=A;T--,A--)if(p[T]!==y[A]){if(T!==1||A!==1)do if(T--,A--,0>A||p[T]!==y[A]){var R=`
`+p[T].replace(" at new "," at ");return i.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",i.displayName)),R}while(1<=T&&0<=A);break}}}finally{me=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?K(i):""}function xe(i){switch(i.tag){case 5:return K(i.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return i=Ce(i.type,!1),i;case 11:return i=Ce(i.type.render,!1),i;case 1:return i=Ce(i.type,!0),i;default:return""}}function Me(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case k:return"Fragment";case fe:return"Portal";case P:return"Profiler";case S:return"StrictMode";case x:return"Suspense";case Xe:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case V:return(i.displayName||"Context")+".Consumer";case D:return(i._context.displayName||"Context")+".Provider";case b:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case gt:return s=i.displayName||null,s!==null?s:Me(i.type)||"Memo";case Nt:s=i._payload,i=i._init;try{return Me(i(s))}catch{}}return null}function Ue(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Me(s);case 8:return s===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function je(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function He(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function At(i){var s=He(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),h=""+i[s];if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return p.call(this)},set:function(T){h=""+T,y.call(this,T)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(T){h=""+T},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Ar(i){i._valueTracker||(i._valueTracker=At(i))}function Hs(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return i&&(h=He(i)?i.checked?"true":"false":i.value),i=h,i!==l?(s.setValue(i),!0):!1}function oi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Yi(i,s){var l=s.checked;return re({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function Ws(i,s){var l=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;l=je(s.value!=null?s.value:l),i._wrapperState={initialChecked:h,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function wa(i,s){s=s.checked,s!=null&&q(i,"checked",s,!1)}function Ta(i,s){wa(i,s);var l=je(s.value),h=s.type;if(l!=null)h==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(h==="submit"||h==="reset"){i.removeAttribute("value");return}s.hasOwnProperty("value")?Ks(i,s.type,l):s.hasOwnProperty("defaultValue")&&Ks(i,s.type,je(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(i.defaultChecked=!!s.defaultChecked)}function fu(i,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+i._wrapperState.initialValue,l||s===i.value||(i.value=s),i.defaultValue=s}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function Ks(i,s,l){(s!=="number"||oi(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var Pr=Array.isArray;function Cr(i,s,l,h){if(i=i.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<i.length;l++)p=s.hasOwnProperty("$"+i[l].value),i[l].selected!==p&&(i[l].selected=p),p&&h&&(i[l].defaultSelected=!0)}else{for(l=""+je(l),s=null,p=0;p<i.length;p++){if(i[p].value===l){i[p].selected=!0,h&&(i[p].defaultSelected=!0);return}s!==null||i[p].disabled||(s=i[p])}s!==null&&(s.selected=!0)}}function Ea(i,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return re({},s,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function qs(i,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(Pr(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}i._wrapperState={initialValue:je(l)}}function Gs(i,s){var l=je(s.value),h=je(s.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),s.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),h!=null&&(i.defaultValue=""+h)}function Ia(i){var s=i.textContent;s===i._wrapperState.initialValue&&s!==""&&s!==null&&(i.value=s)}function yt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vt(i,s){return i==null||i==="http://www.w3.org/1999/xhtml"?yt(s):i==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var xr,Sa=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,h,p){MSApp.execUnsafeLocalFunction(function(){return i(s,l,h,p)})}:i}(function(i,s){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=s;else{for(xr=xr||document.createElement("div"),xr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=xr.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;s.firstChild;)i.appendChild(s.firstChild)}});function ai(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var Ji={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zi=["Webkit","ms","Moz","O"];Object.keys(Ji).forEach(function(i){Zi.forEach(function(s){s=s+i.charAt(0).toUpperCase()+i.substring(1),Ji[s]=Ji[i]})});function Aa(i,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||Ji.hasOwnProperty(i)&&Ji[i]?(""+s).trim():s+"px"}function Pa(i,s){i=i.style;for(var l in s)if(s.hasOwnProperty(l)){var h=l.indexOf("--")===0,p=Aa(l,s[l],h);l==="float"&&(l="cssFloat"),h?i.setProperty(l,p):i[l]=p}}var Ca=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xa(i,s){if(s){if(Ca[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Ra(i,s){if(i.indexOf("-")===-1)return typeof s.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var es=null;function Qs(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Xs=null,wn=null,nr=null;function Ys(i){if(i=Za(i)){if(typeof Xs!="function")throw Error(t(280));var s=i.stateNode;s&&(s=zu(s),Xs(i.stateNode,i.type,s))}}function rr(i){wn?nr?nr.push(i):nr=[i]:wn=i}function ka(){if(wn){var i=wn,s=nr;if(nr=wn=null,Ys(i),s)for(i=0;i<s.length;i++)Ys(s[i])}}function ts(i,s){return i(s)}function Da(){}var Rr=!1;function Na(i,s,l){if(Rr)return i(s,l);Rr=!0;try{return ts(i,s,l)}finally{Rr=!1,(wn!==null||nr!==null)&&(Da(),ka())}}function at(i,s){var l=i.stateNode;if(l===null)return null;var h=zu(l);if(h===null)return null;l=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var Js=!1;if(f)try{var Ln={};Object.defineProperty(Ln,"passive",{get:function(){Js=!0}}),window.addEventListener("test",Ln,Ln),window.removeEventListener("test",Ln,Ln)}catch{Js=!1}function ns(i,s,l,h,p,y,T,A,R){var z=Array.prototype.slice.call(arguments,3);try{s.apply(l,z)}catch(Y){this.onError(Y)}}var rs=!1,Zs=null,On=!1,Va=null,Kh={onError:function(i){rs=!0,Zs=i}};function eo(i,s,l,h,p,y,T,A,R){rs=!1,Zs=null,ns.apply(Kh,arguments)}function du(i,s,l,h,p,y,T,A,R){if(eo.apply(this,arguments),rs){if(rs){var z=Zs;rs=!1,Zs=null}else throw Error(t(198));On||(On=!0,Va=z)}}function Fn(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function is(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function Un(i){if(Fn(i)!==i)throw Error(t(188))}function pu(i){var s=i.alternate;if(!s){if(s=Fn(i),s===null)throw Error(t(188));return s!==i?null:i}for(var l=i,h=s;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(h=p.return,h!==null){l=h;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return Un(p),i;if(y===h)return Un(p),s;y=y.sibling}throw Error(t(188))}if(l.return!==h.return)l=p,h=y;else{for(var T=!1,A=p.child;A;){if(A===l){T=!0,l=p,h=y;break}if(A===h){T=!0,h=p,l=y;break}A=A.sibling}if(!T){for(A=y.child;A;){if(A===l){T=!0,l=y,h=p;break}if(A===h){T=!0,h=y,l=p;break}A=A.sibling}if(!T)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?i:s}function Ma(i){return i=pu(i),i!==null?to(i):null}function to(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=to(i);if(s!==null)return s;i=i.sibling}return null}var no=e.unstable_scheduleCallback,ba=e.unstable_cancelCallback,mu=e.unstable_shouldYield,qh=e.unstable_requestPaint,We=e.unstable_now,gu=e.unstable_getCurrentPriorityLevel,ss=e.unstable_ImmediatePriority,li=e.unstable_UserBlockingPriority,Tn=e.unstable_NormalPriority,La=e.unstable_LowPriority,yu=e.unstable_IdlePriority,os=null,dn=null;function vu(i){if(dn&&typeof dn.onCommitFiberRoot=="function")try{dn.onCommitFiberRoot(os,i,void 0,(i.current.flags&128)===128)}catch{}}var Xt=Math.clz32?Math.clz32:wu,Oa=Math.log,_u=Math.LN2;function wu(i){return i>>>=0,i===0?32:31-(Oa(i)/_u|0)|0}var ro=64,io=4194304;function ui(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function as(i,s){var l=i.pendingLanes;if(l===0)return 0;var h=0,p=i.suspendedLanes,y=i.pingedLanes,T=l&268435455;if(T!==0){var A=T&~p;A!==0?h=ui(A):(y&=T,y!==0&&(h=ui(y)))}else T=l&~p,T!==0?h=ui(T):y!==0&&(h=ui(y));if(h===0)return 0;if(s!==0&&s!==h&&(s&p)===0&&(p=h&-h,y=s&-s,p>=y||p===16&&(y&4194240)!==0))return s;if((h&4)!==0&&(h|=l&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=h;0<s;)l=31-Xt(s),p=1<<l,h|=i[l],s&=~p;return h}function Gh(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kr(i,s){for(var l=i.suspendedLanes,h=i.pingedLanes,p=i.expirationTimes,y=i.pendingLanes;0<y;){var T=31-Xt(y),A=1<<T,R=p[T];R===-1?((A&l)===0||(A&h)!==0)&&(p[T]=Gh(A,s)):R<=s&&(i.expiredLanes|=A),y&=~A}}function pn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function ls(){var i=ro;return ro<<=1,(ro&4194240)===0&&(ro=64),i}function ci(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function hi(i,s,l){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-Xt(s),i[s]=l}function $e(i,s){var l=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var h=i.eventTimes;for(i=i.expirationTimes;0<l;){var p=31-Xt(l),y=1<<p;s[p]=0,h[p]=-1,i[p]=-1,l&=~y}}function fi(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var h=31-Xt(l),p=1<<h;p&s|i[h]&s&&(i[h]|=s),l&=~p}}var Ve=0;function di(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Tu,so,Eu,Iu,Su,Fa=!1,ir=[],Vt=null,jn=null,Bn=null,pi=new Map,En=new Map,sr=[],Qh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Au(i,s){switch(i){case"focusin":case"focusout":Vt=null;break;case"dragenter":case"dragleave":jn=null;break;case"mouseover":case"mouseout":Bn=null;break;case"pointerover":case"pointerout":pi.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":En.delete(s.pointerId)}}function tn(i,s,l,h,p,y){return i===null||i.nativeEvent!==y?(i={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:y,targetContainers:[p]},s!==null&&(s=Za(s),s!==null&&so(s)),i):(i.eventSystemFlags|=h,s=i.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),i)}function Xh(i,s,l,h,p){switch(s){case"focusin":return Vt=tn(Vt,i,s,l,h,p),!0;case"dragenter":return jn=tn(jn,i,s,l,h,p),!0;case"mouseover":return Bn=tn(Bn,i,s,l,h,p),!0;case"pointerover":var y=p.pointerId;return pi.set(y,tn(pi.get(y)||null,i,s,l,h,p)),!0;case"gotpointercapture":return y=p.pointerId,En.set(y,tn(En.get(y)||null,i,s,l,h,p)),!0}return!1}function Pu(i){var s=ds(i.target);if(s!==null){var l=Fn(s);if(l!==null){if(s=l.tag,s===13){if(s=is(l),s!==null){i.blockedOn=s,Su(i.priority,function(){Eu(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Dr(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=oo(i.domEventName,i.eventSystemFlags,s[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);es=h,l.target.dispatchEvent(h),es=null}else return s=Za(l),s!==null&&so(s),i.blockedOn=l,!1;s.shift()}return!0}function us(i,s,l){Dr(i)&&l.delete(s)}function Cu(){Fa=!1,Vt!==null&&Dr(Vt)&&(Vt=null),jn!==null&&Dr(jn)&&(jn=null),Bn!==null&&Dr(Bn)&&(Bn=null),pi.forEach(us),En.forEach(us)}function zn(i,s){i.blockedOn===s&&(i.blockedOn=null,Fa||(Fa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Cu)))}function $n(i){function s(p){return zn(p,i)}if(0<ir.length){zn(ir[0],i);for(var l=1;l<ir.length;l++){var h=ir[l];h.blockedOn===i&&(h.blockedOn=null)}}for(Vt!==null&&zn(Vt,i),jn!==null&&zn(jn,i),Bn!==null&&zn(Bn,i),pi.forEach(s),En.forEach(s),l=0;l<sr.length;l++)h=sr[l],h.blockedOn===i&&(h.blockedOn=null);for(;0<sr.length&&(l=sr[0],l.blockedOn===null);)Pu(l),l.blockedOn===null&&sr.shift()}var Nr=ie.ReactCurrentBatchConfig,mi=!0;function Ye(i,s,l,h){var p=Ve,y=Nr.transition;Nr.transition=null;try{Ve=1,Ua(i,s,l,h)}finally{Ve=p,Nr.transition=y}}function Yh(i,s,l,h){var p=Ve,y=Nr.transition;Nr.transition=null;try{Ve=4,Ua(i,s,l,h)}finally{Ve=p,Nr.transition=y}}function Ua(i,s,l,h){if(mi){var p=oo(i,s,l,h);if(p===null)uf(i,s,h,cs,l),Au(i,h);else if(Xh(p,i,s,l,h))h.stopPropagation();else if(Au(i,h),s&4&&-1<Qh.indexOf(i)){for(;p!==null;){var y=Za(p);if(y!==null&&Tu(y),y=oo(i,s,l,h),y===null&&uf(i,s,h,cs,l),y===p)break;p=y}p!==null&&h.stopPropagation()}else uf(i,s,h,null,l)}}var cs=null;function oo(i,s,l,h){if(cs=null,i=Qs(h),i=ds(i),i!==null)if(s=Fn(i),s===null)i=null;else if(l=s.tag,l===13){if(i=is(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null);return cs=i,null}function ja(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gu()){case ss:return 1;case li:return 4;case Tn:case La:return 16;case yu:return 536870912;default:return 16}default:return 16}}var mn=null,ao=null,nn=null;function Ba(){if(nn)return nn;var i,s=ao,l=s.length,h,p="value"in mn?mn.value:mn.textContent,y=p.length;for(i=0;i<l&&s[i]===p[i];i++);var T=l-i;for(h=1;h<=T&&s[l-h]===p[y-h];h++);return nn=p.slice(i,1<h?1-h:void 0)}function lo(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function or(){return!0}function za(){return!1}function Mt(i){function s(l,h,p,y,T){this._reactName=l,this._targetInst=p,this.type=h,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(l=i[A],this[A]=l?l(y):y[A]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?or:za,this.isPropagationStopped=za,this}return re(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=or)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=or)},persist:function(){},isPersistent:or}),s}var Hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uo=Mt(Hn),ar=re({},Hn,{view:0,detail:0}),Jh=Mt(ar),co,Vr,gi,hs=re({},ar,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==gi&&(gi&&i.type==="mousemove"?(co=i.screenX-gi.screenX,Vr=i.screenY-gi.screenY):Vr=co=0,gi=i),co)},movementY:function(i){return"movementY"in i?i.movementY:Vr}}),ho=Mt(hs),$a=re({},hs,{dataTransfer:0}),xu=Mt($a),fo=re({},ar,{relatedTarget:0}),po=Mt(fo),Ru=re({},Hn,{animationName:0,elapsedTime:0,pseudoElement:0}),Mr=Mt(Ru),ku=re({},Hn,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Du=Mt(ku),Nu=re({},Hn,{data:0}),Ha=Mt(Nu),mo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mu(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Vu[i])?!!s[i]:!1}function lr(){return Mu}var c=re({},ar,{key:function(i){if(i.key){var s=mo[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=lo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Yt[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lr,charCode:function(i){return i.type==="keypress"?lo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?lo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),g=Mt(c),_=re({},hs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I=Mt(_),L=re({},ar,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lr}),$=Mt(L),ne=re({},Hn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ze=Mt(ne),_t=re({},hs,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),be=Mt(_t),Pt=[9,13,27,32],ht=f&&"CompositionEvent"in window,In=null;f&&"documentMode"in document&&(In=document.documentMode);var gn=f&&"TextEvent"in window&&!In,fs=f&&(!ht||In&&8<In&&11>=In),go=" ",Ig=!1;function Sg(i,s){switch(i){case"keyup":return Pt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ag(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var yo=!1;function VS(i,s){switch(i){case"compositionend":return Ag(s);case"keypress":return s.which!==32?null:(Ig=!0,go);case"textInput":return i=s.data,i===go&&Ig?null:i;default:return null}}function MS(i,s){if(yo)return i==="compositionend"||!ht&&Sg(i,s)?(i=Ba(),nn=ao=mn=null,yo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return fs&&s.locale!=="ko"?null:s.data;default:return null}}var bS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pg(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!bS[i.type]:s==="textarea"}function Cg(i,s,l,h){rr(h),s=Uu(s,"onChange"),0<s.length&&(l=new uo("onChange","change",null,l,h),i.push({event:l,listeners:s}))}var Wa=null,Ka=null;function LS(i){Wg(i,0)}function bu(i){var s=Eo(i);if(Hs(s))return i}function OS(i,s){if(i==="change")return s}var xg=!1;if(f){var Zh;if(f){var ef="oninput"in document;if(!ef){var Rg=document.createElement("div");Rg.setAttribute("oninput","return;"),ef=typeof Rg.oninput=="function"}Zh=ef}else Zh=!1;xg=Zh&&(!document.documentMode||9<document.documentMode)}function kg(){Wa&&(Wa.detachEvent("onpropertychange",Dg),Ka=Wa=null)}function Dg(i){if(i.propertyName==="value"&&bu(Ka)){var s=[];Cg(s,Ka,i,Qs(i)),Na(LS,s)}}function FS(i,s,l){i==="focusin"?(kg(),Wa=s,Ka=l,Wa.attachEvent("onpropertychange",Dg)):i==="focusout"&&kg()}function US(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return bu(Ka)}function jS(i,s){if(i==="click")return bu(s)}function BS(i,s){if(i==="input"||i==="change")return bu(s)}function zS(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Wn=typeof Object.is=="function"?Object.is:zS;function qa(i,s){if(Wn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var p=l[h];if(!d.call(s,p)||!Wn(i[p],s[p]))return!1}return!0}function Ng(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Vg(i,s){var l=Ng(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=s&&h>=s)return{node:l,offset:s-i};i=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Ng(l)}}function Mg(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Mg(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function bg(){for(var i=window,s=oi();s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=oi(i.document)}return s}function tf(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function $S(i){var s=bg(),l=i.focusedElem,h=i.selectionRange;if(s!==l&&l&&l.ownerDocument&&Mg(l.ownerDocument.documentElement,l)){if(h!==null&&tf(l)){if(s=h.start,i=h.end,i===void 0&&(i=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(i,l.value.length);else if(i=(s=l.ownerDocument||document)&&s.defaultView||window,i.getSelection){i=i.getSelection();var p=l.textContent.length,y=Math.min(h.start,p);h=h.end===void 0?y:Math.min(h.end,p),!i.extend&&y>h&&(p=h,h=y,y=p),p=Vg(l,y);var T=Vg(l,h);p&&T&&(i.rangeCount!==1||i.anchorNode!==p.node||i.anchorOffset!==p.offset||i.focusNode!==T.node||i.focusOffset!==T.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),i.removeAllRanges(),y>h?(i.addRange(s),i.extend(T.node,T.offset)):(s.setEnd(T.node,T.offset),i.addRange(s)))}}for(s=[],i=l;i=i.parentNode;)i.nodeType===1&&s.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)i=s[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var HS=f&&"documentMode"in document&&11>=document.documentMode,vo=null,nf=null,Ga=null,rf=!1;function Lg(i,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;rf||vo==null||vo!==oi(h)||(h=vo,"selectionStart"in h&&tf(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ga&&qa(Ga,h)||(Ga=h,h=Uu(nf,"onSelect"),0<h.length&&(s=new uo("onSelect","select",null,s,l),i.push({event:s,listeners:h}),s.target=vo)))}function Lu(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var _o={animationend:Lu("Animation","AnimationEnd"),animationiteration:Lu("Animation","AnimationIteration"),animationstart:Lu("Animation","AnimationStart"),transitionend:Lu("Transition","TransitionEnd")},sf={},Og={};f&&(Og=document.createElement("div").style,"AnimationEvent"in window||(delete _o.animationend.animation,delete _o.animationiteration.animation,delete _o.animationstart.animation),"TransitionEvent"in window||delete _o.transitionend.transition);function Ou(i){if(sf[i])return sf[i];if(!_o[i])return i;var s=_o[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in Og)return sf[i]=s[l];return i}var Fg=Ou("animationend"),Ug=Ou("animationiteration"),jg=Ou("animationstart"),Bg=Ou("transitionend"),zg=new Map,$g="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yi(i,s){zg.set(i,s),a(s,[i])}for(var of=0;of<$g.length;of++){var af=$g[of],WS=af.toLowerCase(),KS=af[0].toUpperCase()+af.slice(1);yi(WS,"on"+KS)}yi(Fg,"onAnimationEnd"),yi(Ug,"onAnimationIteration"),yi(jg,"onAnimationStart"),yi("dblclick","onDoubleClick"),yi("focusin","onFocus"),yi("focusout","onBlur"),yi(Bg,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qa));function Hg(i,s,l){var h=i.type||"unknown-event";i.currentTarget=l,du(h,s,void 0,i),i.currentTarget=null}function Wg(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],p=h.event;h=h.listeners;e:{var y=void 0;if(s)for(var T=h.length-1;0<=T;T--){var A=h[T],R=A.instance,z=A.currentTarget;if(A=A.listener,R!==y&&p.isPropagationStopped())break e;Hg(p,A,z),y=R}else for(T=0;T<h.length;T++){if(A=h[T],R=A.instance,z=A.currentTarget,A=A.listener,R!==y&&p.isPropagationStopped())break e;Hg(p,A,z),y=R}}}if(On)throw i=Va,On=!1,Va=null,i}function qe(i,s){var l=s[mf];l===void 0&&(l=s[mf]=new Set);var h=i+"__bubble";l.has(h)||(Kg(s,i,2,!1),l.add(h))}function lf(i,s,l){var h=0;s&&(h|=4),Kg(l,i,h,s)}var Fu="_reactListening"+Math.random().toString(36).slice(2);function Xa(i){if(!i[Fu]){i[Fu]=!0,r.forEach(function(l){l!=="selectionchange"&&(qS.has(l)||lf(l,!1,i),lf(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Fu]||(s[Fu]=!0,lf("selectionchange",!1,s))}}function Kg(i,s,l,h){switch(ja(s)){case 1:var p=Ye;break;case 4:p=Yh;break;default:p=Ua}l=p.bind(null,s,l,i),p=void 0,!Js||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),h?p!==void 0?i.addEventListener(s,l,{capture:!0,passive:p}):i.addEventListener(s,l,!0):p!==void 0?i.addEventListener(s,l,{passive:p}):i.addEventListener(s,l,!1)}function uf(i,s,l,h,p){var y=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var T=h.tag;if(T===3||T===4){var A=h.stateNode.containerInfo;if(A===p||A.nodeType===8&&A.parentNode===p)break;if(T===4)for(T=h.return;T!==null;){var R=T.tag;if((R===3||R===4)&&(R=T.stateNode.containerInfo,R===p||R.nodeType===8&&R.parentNode===p))return;T=T.return}for(;A!==null;){if(T=ds(A),T===null)return;if(R=T.tag,R===5||R===6){h=y=T;continue e}A=A.parentNode}}h=h.return}Na(function(){var z=y,Y=Qs(l),Z=[];e:{var Q=zg.get(i);if(Q!==void 0){var se=uo,ue=i;switch(i){case"keypress":if(lo(l)===0)break e;case"keydown":case"keyup":se=g;break;case"focusin":ue="focus",se=po;break;case"focusout":ue="blur",se=po;break;case"beforeblur":case"afterblur":se=po;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=ho;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=xu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=$;break;case Fg:case Ug:case jg:se=Mr;break;case Bg:se=ze;break;case"scroll":se=Jh;break;case"wheel":se=be;break;case"copy":case"cut":case"paste":se=Du;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=I}var ce=(s&4)!==0,lt=!ce&&i==="scroll",F=ce?Q!==null?Q+"Capture":null:Q;ce=[];for(var N=z,j;N!==null;){j=N;var te=j.stateNode;if(j.tag===5&&te!==null&&(j=te,F!==null&&(te=at(N,F),te!=null&&ce.push(Ya(N,te,j)))),lt)break;N=N.return}0<ce.length&&(Q=new se(Q,ue,null,l,Y),Z.push({event:Q,listeners:ce}))}}if((s&7)===0){e:{if(Q=i==="mouseover"||i==="pointerover",se=i==="mouseout"||i==="pointerout",Q&&l!==es&&(ue=l.relatedTarget||l.fromElement)&&(ds(ue)||ue[br]))break e;if((se||Q)&&(Q=Y.window===Y?Y:(Q=Y.ownerDocument)?Q.defaultView||Q.parentWindow:window,se?(ue=l.relatedTarget||l.toElement,se=z,ue=ue?ds(ue):null,ue!==null&&(lt=Fn(ue),ue!==lt||ue.tag!==5&&ue.tag!==6)&&(ue=null)):(se=null,ue=z),se!==ue)){if(ce=ho,te="onMouseLeave",F="onMouseEnter",N="mouse",(i==="pointerout"||i==="pointerover")&&(ce=I,te="onPointerLeave",F="onPointerEnter",N="pointer"),lt=se==null?Q:Eo(se),j=ue==null?Q:Eo(ue),Q=new ce(te,N+"leave",se,l,Y),Q.target=lt,Q.relatedTarget=j,te=null,ds(Y)===z&&(ce=new ce(F,N+"enter",ue,l,Y),ce.target=j,ce.relatedTarget=lt,te=ce),lt=te,se&&ue)t:{for(ce=se,F=ue,N=0,j=ce;j;j=wo(j))N++;for(j=0,te=F;te;te=wo(te))j++;for(;0<N-j;)ce=wo(ce),N--;for(;0<j-N;)F=wo(F),j--;for(;N--;){if(ce===F||F!==null&&ce===F.alternate)break t;ce=wo(ce),F=wo(F)}ce=null}else ce=null;se!==null&&qg(Z,Q,se,ce,!1),ue!==null&&lt!==null&&qg(Z,lt,ue,ce,!0)}}e:{if(Q=z?Eo(z):window,se=Q.nodeName&&Q.nodeName.toLowerCase(),se==="select"||se==="input"&&Q.type==="file")var de=OS;else if(Pg(Q))if(xg)de=BS;else{de=US;var ge=FS}else(se=Q.nodeName)&&se.toLowerCase()==="input"&&(Q.type==="checkbox"||Q.type==="radio")&&(de=jS);if(de&&(de=de(i,z))){Cg(Z,de,l,Y);break e}ge&&ge(i,Q,z),i==="focusout"&&(ge=Q._wrapperState)&&ge.controlled&&Q.type==="number"&&Ks(Q,"number",Q.value)}switch(ge=z?Eo(z):window,i){case"focusin":(Pg(ge)||ge.contentEditable==="true")&&(vo=ge,nf=z,Ga=null);break;case"focusout":Ga=nf=vo=null;break;case"mousedown":rf=!0;break;case"contextmenu":case"mouseup":case"dragend":rf=!1,Lg(Z,l,Y);break;case"selectionchange":if(HS)break;case"keydown":case"keyup":Lg(Z,l,Y)}var ye;if(ht)e:{switch(i){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else yo?Sg(i,l)&&(Te="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Te="onCompositionStart");Te&&(fs&&l.locale!=="ko"&&(yo||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&yo&&(ye=Ba()):(mn=Y,ao="value"in mn?mn.value:mn.textContent,yo=!0)),ge=Uu(z,Te),0<ge.length&&(Te=new Ha(Te,i,null,l,Y),Z.push({event:Te,listeners:ge}),ye?Te.data=ye:(ye=Ag(l),ye!==null&&(Te.data=ye)))),(ye=gn?VS(i,l):MS(i,l))&&(z=Uu(z,"onBeforeInput"),0<z.length&&(Y=new Ha("onBeforeInput","beforeinput",null,l,Y),Z.push({event:Y,listeners:z}),Y.data=ye))}Wg(Z,s)})}function Ya(i,s,l){return{instance:i,listener:s,currentTarget:l}}function Uu(i,s){for(var l=s+"Capture",h=[];i!==null;){var p=i,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=at(i,l),y!=null&&h.unshift(Ya(i,y,p)),y=at(i,s),y!=null&&h.push(Ya(i,y,p))),i=i.return}return h}function wo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function qg(i,s,l,h,p){for(var y=s._reactName,T=[];l!==null&&l!==h;){var A=l,R=A.alternate,z=A.stateNode;if(R!==null&&R===h)break;A.tag===5&&z!==null&&(A=z,p?(R=at(l,y),R!=null&&T.unshift(Ya(l,R,A))):p||(R=at(l,y),R!=null&&T.push(Ya(l,R,A)))),l=l.return}T.length!==0&&i.push({event:s,listeners:T})}var GS=/\r\n?/g,QS=/\u0000|\uFFFD/g;function Gg(i){return(typeof i=="string"?i:""+i).replace(GS,`
`).replace(QS,"")}function ju(i,s,l){if(s=Gg(s),Gg(i)!==s&&l)throw Error(t(425))}function Bu(){}var cf=null,hf=null;function ff(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var df=typeof setTimeout=="function"?setTimeout:void 0,XS=typeof clearTimeout=="function"?clearTimeout:void 0,Qg=typeof Promise=="function"?Promise:void 0,YS=typeof queueMicrotask=="function"?queueMicrotask:typeof Qg<"u"?function(i){return Qg.resolve(null).then(i).catch(JS)}:df;function JS(i){setTimeout(function(){throw i})}function pf(i,s){var l=s,h=0;do{var p=l.nextSibling;if(i.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(h===0){i.removeChild(p),$n(s);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=p}while(l);$n(s)}function vi(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return i}function Xg(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return i;s--}else l==="/$"&&s++}i=i.previousSibling}return null}var To=Math.random().toString(36).slice(2),ur="__reactFiber$"+To,Ja="__reactProps$"+To,br="__reactContainer$"+To,mf="__reactEvents$"+To,ZS="__reactListeners$"+To,e1="__reactHandles$"+To;function ds(i){var s=i[ur];if(s)return s;for(var l=i.parentNode;l;){if(s=l[br]||l[ur]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=Xg(i);i!==null;){if(l=i[ur])return l;i=Xg(i)}return s}i=l,l=i.parentNode}return null}function Za(i){return i=i[ur]||i[br],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Eo(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function zu(i){return i[Ja]||null}var gf=[],Io=-1;function _i(i){return{current:i}}function Ge(i){0>Io||(i.current=gf[Io],gf[Io]=null,Io--)}function Ke(i,s){Io++,gf[Io]=i.current,i.current=s}var wi={},Bt=_i(wi),rn=_i(!1),ps=wi;function So(i,s){var l=i.type.contextTypes;if(!l)return wi;var h=i.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in l)p[y]=s[y];return h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=p),p}function sn(i){return i=i.childContextTypes,i!=null}function $u(){Ge(rn),Ge(Bt)}function Yg(i,s,l){if(Bt.current!==wi)throw Error(t(168));Ke(Bt,s),Ke(rn,l)}function Jg(i,s,l){var h=i.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var p in h)if(!(p in s))throw Error(t(108,Ue(i)||"Unknown",p));return re({},l,h)}function Hu(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||wi,ps=Bt.current,Ke(Bt,i),Ke(rn,rn.current),!0}function Zg(i,s,l){var h=i.stateNode;if(!h)throw Error(t(169));l?(i=Jg(i,s,ps),h.__reactInternalMemoizedMergedChildContext=i,Ge(rn),Ge(Bt),Ke(Bt,i)):Ge(rn),Ke(rn,l)}var Lr=null,Wu=!1,yf=!1;function ey(i){Lr===null?Lr=[i]:Lr.push(i)}function t1(i){Wu=!0,ey(i)}function Ti(){if(!yf&&Lr!==null){yf=!0;var i=0,s=Ve;try{var l=Lr;for(Ve=1;i<l.length;i++){var h=l[i];do h=h(!0);while(h!==null)}Lr=null,Wu=!1}catch(p){throw Lr!==null&&(Lr=Lr.slice(i+1)),no(ss,Ti),p}finally{Ve=s,yf=!1}}return null}var Ao=[],Po=0,Ku=null,qu=0,Sn=[],An=0,ms=null,Or=1,Fr="";function gs(i,s){Ao[Po++]=qu,Ao[Po++]=Ku,Ku=i,qu=s}function ty(i,s,l){Sn[An++]=Or,Sn[An++]=Fr,Sn[An++]=ms,ms=i;var h=Or;i=Fr;var p=32-Xt(h)-1;h&=~(1<<p),l+=1;var y=32-Xt(s)+p;if(30<y){var T=p-p%5;y=(h&(1<<T)-1).toString(32),h>>=T,p-=T,Or=1<<32-Xt(s)+p|l<<p|h,Fr=y+i}else Or=1<<y|l<<p|h,Fr=i}function vf(i){i.return!==null&&(gs(i,1),ty(i,1,0))}function _f(i){for(;i===Ku;)Ku=Ao[--Po],Ao[Po]=null,qu=Ao[--Po],Ao[Po]=null;for(;i===ms;)ms=Sn[--An],Sn[An]=null,Fr=Sn[--An],Sn[An]=null,Or=Sn[--An],Sn[An]=null}var yn=null,vn=null,Je=!1,Kn=null;function ny(i,s){var l=Rn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=i,s=i.deletions,s===null?(i.deletions=[l],i.flags|=16):s.push(l)}function ry(i,s){switch(i.tag){case 5:var l=i.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(i.stateNode=s,yn=i,vn=vi(s.firstChild),!0):!1;case 6:return s=i.pendingProps===""||s.nodeType!==3?null:s,s!==null?(i.stateNode=s,yn=i,vn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=ms!==null?{id:Or,overflow:Fr}:null,i.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=Rn(18,null,null,0),l.stateNode=s,l.return=i,i.child=l,yn=i,vn=null,!0):!1;default:return!1}}function wf(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Tf(i){if(Je){var s=vn;if(s){var l=s;if(!ry(i,s)){if(wf(i))throw Error(t(418));s=vi(l.nextSibling);var h=yn;s&&ry(i,s)?ny(h,l):(i.flags=i.flags&-4097|2,Je=!1,yn=i)}}else{if(wf(i))throw Error(t(418));i.flags=i.flags&-4097|2,Je=!1,yn=i}}}function iy(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;yn=i}function Gu(i){if(i!==yn)return!1;if(!Je)return iy(i),Je=!0,!1;var s;if((s=i.tag!==3)&&!(s=i.tag!==5)&&(s=i.type,s=s!=="head"&&s!=="body"&&!ff(i.type,i.memoizedProps)),s&&(s=vn)){if(wf(i))throw sy(),Error(t(418));for(;s;)ny(i,s),s=vi(s.nextSibling)}if(iy(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(s===0){vn=vi(i.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}i=i.nextSibling}vn=null}}else vn=yn?vi(i.stateNode.nextSibling):null;return!0}function sy(){for(var i=vn;i;)i=vi(i.nextSibling)}function Co(){vn=yn=null,Je=!1}function Ef(i){Kn===null?Kn=[i]:Kn.push(i)}var n1=ie.ReactCurrentBatchConfig;function el(i,s,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,i));var p=h,y=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===y?s.ref:(s=function(T){var A=p.refs;T===null?delete A[y]:A[y]=T},s._stringRef=y,s)}if(typeof i!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,i))}return i}function Qu(i,s){throw i=Object.prototype.toString.call(s),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function oy(i){var s=i._init;return s(i._payload)}function ay(i){function s(F,N){if(i){var j=F.deletions;j===null?(F.deletions=[N],F.flags|=16):j.push(N)}}function l(F,N){if(!i)return null;for(;N!==null;)s(F,N),N=N.sibling;return null}function h(F,N){for(F=new Map;N!==null;)N.key!==null?F.set(N.key,N):F.set(N.index,N),N=N.sibling;return F}function p(F,N){return F=Ri(F,N),F.index=0,F.sibling=null,F}function y(F,N,j){return F.index=j,i?(j=F.alternate,j!==null?(j=j.index,j<N?(F.flags|=2,N):j):(F.flags|=2,N)):(F.flags|=1048576,N)}function T(F){return i&&F.alternate===null&&(F.flags|=2),F}function A(F,N,j,te){return N===null||N.tag!==6?(N=dd(j,F.mode,te),N.return=F,N):(N=p(N,j),N.return=F,N)}function R(F,N,j,te){var de=j.type;return de===k?Y(F,N,j.props.children,te,j.key):N!==null&&(N.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===Nt&&oy(de)===N.type)?(te=p(N,j.props),te.ref=el(F,N,j),te.return=F,te):(te=_c(j.type,j.key,j.props,null,F.mode,te),te.ref=el(F,N,j),te.return=F,te)}function z(F,N,j,te){return N===null||N.tag!==4||N.stateNode.containerInfo!==j.containerInfo||N.stateNode.implementation!==j.implementation?(N=pd(j,F.mode,te),N.return=F,N):(N=p(N,j.children||[]),N.return=F,N)}function Y(F,N,j,te,de){return N===null||N.tag!==7?(N=Ss(j,F.mode,te,de),N.return=F,N):(N=p(N,j),N.return=F,N)}function Z(F,N,j){if(typeof N=="string"&&N!==""||typeof N=="number")return N=dd(""+N,F.mode,j),N.return=F,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case oe:return j=_c(N.type,N.key,N.props,null,F.mode,j),j.ref=el(F,null,N),j.return=F,j;case fe:return N=pd(N,F.mode,j),N.return=F,N;case Nt:var te=N._init;return Z(F,te(N._payload),j)}if(Pr(N)||he(N))return N=Ss(N,F.mode,j,null),N.return=F,N;Qu(F,N)}return null}function Q(F,N,j,te){var de=N!==null?N.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return de!==null?null:A(F,N,""+j,te);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case oe:return j.key===de?R(F,N,j,te):null;case fe:return j.key===de?z(F,N,j,te):null;case Nt:return de=j._init,Q(F,N,de(j._payload),te)}if(Pr(j)||he(j))return de!==null?null:Y(F,N,j,te,null);Qu(F,j)}return null}function se(F,N,j,te,de){if(typeof te=="string"&&te!==""||typeof te=="number")return F=F.get(j)||null,A(N,F,""+te,de);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case oe:return F=F.get(te.key===null?j:te.key)||null,R(N,F,te,de);case fe:return F=F.get(te.key===null?j:te.key)||null,z(N,F,te,de);case Nt:var ge=te._init;return se(F,N,j,ge(te._payload),de)}if(Pr(te)||he(te))return F=F.get(j)||null,Y(N,F,te,de,null);Qu(N,te)}return null}function ue(F,N,j,te){for(var de=null,ge=null,ye=N,Te=N=0,Rt=null;ye!==null&&Te<j.length;Te++){ye.index>Te?(Rt=ye,ye=null):Rt=ye.sibling;var Fe=Q(F,ye,j[Te],te);if(Fe===null){ye===null&&(ye=Rt);break}i&&ye&&Fe.alternate===null&&s(F,ye),N=y(Fe,N,Te),ge===null?de=Fe:ge.sibling=Fe,ge=Fe,ye=Rt}if(Te===j.length)return l(F,ye),Je&&gs(F,Te),de;if(ye===null){for(;Te<j.length;Te++)ye=Z(F,j[Te],te),ye!==null&&(N=y(ye,N,Te),ge===null?de=ye:ge.sibling=ye,ge=ye);return Je&&gs(F,Te),de}for(ye=h(F,ye);Te<j.length;Te++)Rt=se(ye,F,Te,j[Te],te),Rt!==null&&(i&&Rt.alternate!==null&&ye.delete(Rt.key===null?Te:Rt.key),N=y(Rt,N,Te),ge===null?de=Rt:ge.sibling=Rt,ge=Rt);return i&&ye.forEach(function(ki){return s(F,ki)}),Je&&gs(F,Te),de}function ce(F,N,j,te){var de=he(j);if(typeof de!="function")throw Error(t(150));if(j=de.call(j),j==null)throw Error(t(151));for(var ge=de=null,ye=N,Te=N=0,Rt=null,Fe=j.next();ye!==null&&!Fe.done;Te++,Fe=j.next()){ye.index>Te?(Rt=ye,ye=null):Rt=ye.sibling;var ki=Q(F,ye,Fe.value,te);if(ki===null){ye===null&&(ye=Rt);break}i&&ye&&ki.alternate===null&&s(F,ye),N=y(ki,N,Te),ge===null?de=ki:ge.sibling=ki,ge=ki,ye=Rt}if(Fe.done)return l(F,ye),Je&&gs(F,Te),de;if(ye===null){for(;!Fe.done;Te++,Fe=j.next())Fe=Z(F,Fe.value,te),Fe!==null&&(N=y(Fe,N,Te),ge===null?de=Fe:ge.sibling=Fe,ge=Fe);return Je&&gs(F,Te),de}for(ye=h(F,ye);!Fe.done;Te++,Fe=j.next())Fe=se(ye,F,Te,Fe.value,te),Fe!==null&&(i&&Fe.alternate!==null&&ye.delete(Fe.key===null?Te:Fe.key),N=y(Fe,N,Te),ge===null?de=Fe:ge.sibling=Fe,ge=Fe);return i&&ye.forEach(function(b1){return s(F,b1)}),Je&&gs(F,Te),de}function lt(F,N,j,te){if(typeof j=="object"&&j!==null&&j.type===k&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case oe:e:{for(var de=j.key,ge=N;ge!==null;){if(ge.key===de){if(de=j.type,de===k){if(ge.tag===7){l(F,ge.sibling),N=p(ge,j.props.children),N.return=F,F=N;break e}}else if(ge.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===Nt&&oy(de)===ge.type){l(F,ge.sibling),N=p(ge,j.props),N.ref=el(F,ge,j),N.return=F,F=N;break e}l(F,ge);break}else s(F,ge);ge=ge.sibling}j.type===k?(N=Ss(j.props.children,F.mode,te,j.key),N.return=F,F=N):(te=_c(j.type,j.key,j.props,null,F.mode,te),te.ref=el(F,N,j),te.return=F,F=te)}return T(F);case fe:e:{for(ge=j.key;N!==null;){if(N.key===ge)if(N.tag===4&&N.stateNode.containerInfo===j.containerInfo&&N.stateNode.implementation===j.implementation){l(F,N.sibling),N=p(N,j.children||[]),N.return=F,F=N;break e}else{l(F,N);break}else s(F,N);N=N.sibling}N=pd(j,F.mode,te),N.return=F,F=N}return T(F);case Nt:return ge=j._init,lt(F,N,ge(j._payload),te)}if(Pr(j))return ue(F,N,j,te);if(he(j))return ce(F,N,j,te);Qu(F,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,N!==null&&N.tag===6?(l(F,N.sibling),N=p(N,j),N.return=F,F=N):(l(F,N),N=dd(j,F.mode,te),N.return=F,F=N),T(F)):l(F,N)}return lt}var xo=ay(!0),ly=ay(!1),Xu=_i(null),Yu=null,Ro=null,If=null;function Sf(){If=Ro=Yu=null}function Af(i){var s=Xu.current;Ge(Xu),i._currentValue=s}function Pf(i,s,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),i===l)break;i=i.return}}function ko(i,s){Yu=i,If=Ro=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&s)!==0&&(on=!0),i.firstContext=null)}function Pn(i){var s=i._currentValue;if(If!==i)if(i={context:i,memoizedValue:s,next:null},Ro===null){if(Yu===null)throw Error(t(308));Ro=i,Yu.dependencies={lanes:0,firstContext:i}}else Ro=Ro.next=i;return s}var ys=null;function Cf(i){ys===null?ys=[i]:ys.push(i)}function uy(i,s,l,h){var p=s.interleaved;return p===null?(l.next=l,Cf(s)):(l.next=p.next,p.next=l),s.interleaved=l,Ur(i,h)}function Ur(i,s){i.lanes|=s;var l=i.alternate;for(l!==null&&(l.lanes|=s),l=i,i=i.return;i!==null;)i.childLanes|=s,l=i.alternate,l!==null&&(l.childLanes|=s),l=i,i=i.return;return l.tag===3?l.stateNode:null}var Ei=!1;function xf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cy(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function jr(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function Ii(i,s,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(Oe&2)!==0){var p=h.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),h.pending=s,Ur(i,l)}return p=h.interleaved,p===null?(s.next=s,Cf(h)):(s.next=p.next,p.next=s),h.interleaved=s,Ur(i,l)}function Ju(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var h=s.lanes;h&=i.pendingLanes,l|=h,s.lanes=l,fi(i,l)}}function hy(i,s){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var T={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?p=y=T:y=y.next=T,l=l.next}while(l!==null);y===null?p=y=s:y=y.next=s}else p=y=s;l={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:h.shared,effects:h.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}function Zu(i,s,l,h){var p=i.updateQueue;Ei=!1;var y=p.firstBaseUpdate,T=p.lastBaseUpdate,A=p.shared.pending;if(A!==null){p.shared.pending=null;var R=A,z=R.next;R.next=null,T===null?y=z:T.next=z,T=R;var Y=i.alternate;Y!==null&&(Y=Y.updateQueue,A=Y.lastBaseUpdate,A!==T&&(A===null?Y.firstBaseUpdate=z:A.next=z,Y.lastBaseUpdate=R))}if(y!==null){var Z=p.baseState;T=0,Y=z=R=null,A=y;do{var Q=A.lane,se=A.eventTime;if((h&Q)===Q){Y!==null&&(Y=Y.next={eventTime:se,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var ue=i,ce=A;switch(Q=s,se=l,ce.tag){case 1:if(ue=ce.payload,typeof ue=="function"){Z=ue.call(se,Z,Q);break e}Z=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=ce.payload,Q=typeof ue=="function"?ue.call(se,Z,Q):ue,Q==null)break e;Z=re({},Z,Q);break e;case 2:Ei=!0}}A.callback!==null&&A.lane!==0&&(i.flags|=64,Q=p.effects,Q===null?p.effects=[A]:Q.push(A))}else se={eventTime:se,lane:Q,tag:A.tag,payload:A.payload,callback:A.callback,next:null},Y===null?(z=Y=se,R=Z):Y=Y.next=se,T|=Q;if(A=A.next,A===null){if(A=p.shared.pending,A===null)break;Q=A,A=Q.next,Q.next=null,p.lastBaseUpdate=Q,p.shared.pending=null}}while(!0);if(Y===null&&(R=Z),p.baseState=R,p.firstBaseUpdate=z,p.lastBaseUpdate=Y,s=p.shared.interleaved,s!==null){p=s;do T|=p.lane,p=p.next;while(p!==s)}else y===null&&(p.shared.lanes=0);ws|=T,i.lanes=T,i.memoizedState=Z}}function fy(i,s,l){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var h=i[s],p=h.callback;if(p!==null){if(h.callback=null,h=l,typeof p!="function")throw Error(t(191,p));p.call(h)}}}var tl={},cr=_i(tl),nl=_i(tl),rl=_i(tl);function vs(i){if(i===tl)throw Error(t(174));return i}function Rf(i,s){switch(Ke(rl,s),Ke(nl,i),Ke(cr,tl),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:vt(null,"");break;default:i=i===8?s.parentNode:s,s=i.namespaceURI||null,i=i.tagName,s=vt(s,i)}Ge(cr),Ke(cr,s)}function Do(){Ge(cr),Ge(nl),Ge(rl)}function dy(i){vs(rl.current);var s=vs(cr.current),l=vt(s,i.type);s!==l&&(Ke(nl,i),Ke(cr,l))}function kf(i){nl.current===i&&(Ge(cr),Ge(nl))}var et=_i(0);function ec(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Df=[];function Nf(){for(var i=0;i<Df.length;i++)Df[i]._workInProgressVersionPrimary=null;Df.length=0}var tc=ie.ReactCurrentDispatcher,Vf=ie.ReactCurrentBatchConfig,_s=0,tt=null,wt=null,Ct=null,nc=!1,il=!1,sl=0,r1=0;function zt(){throw Error(t(321))}function Mf(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!Wn(i[l],s[l]))return!1;return!0}function bf(i,s,l,h,p,y){if(_s=y,tt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,tc.current=i===null||i.memoizedState===null?a1:l1,i=l(h,p),il){y=0;do{if(il=!1,sl=0,25<=y)throw Error(t(301));y+=1,Ct=wt=null,s.updateQueue=null,tc.current=u1,i=l(h,p)}while(il)}if(tc.current=sc,s=wt!==null&&wt.next!==null,_s=0,Ct=wt=tt=null,nc=!1,s)throw Error(t(300));return i}function Lf(){var i=sl!==0;return sl=0,i}function hr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?tt.memoizedState=Ct=i:Ct=Ct.next=i,Ct}function Cn(){if(wt===null){var i=tt.alternate;i=i!==null?i.memoizedState:null}else i=wt.next;var s=Ct===null?tt.memoizedState:Ct.next;if(s!==null)Ct=s,wt=i;else{if(i===null)throw Error(t(310));wt=i,i={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},Ct===null?tt.memoizedState=Ct=i:Ct=Ct.next=i}return Ct}function ol(i,s){return typeof s=="function"?s(i):s}function Of(i){var s=Cn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var h=wt,p=h.baseQueue,y=l.pending;if(y!==null){if(p!==null){var T=p.next;p.next=y.next,y.next=T}h.baseQueue=p=y,l.pending=null}if(p!==null){y=p.next,h=h.baseState;var A=T=null,R=null,z=y;do{var Y=z.lane;if((_s&Y)===Y)R!==null&&(R=R.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),h=z.hasEagerState?z.eagerState:i(h,z.action);else{var Z={lane:Y,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};R===null?(A=R=Z,T=h):R=R.next=Z,tt.lanes|=Y,ws|=Y}z=z.next}while(z!==null&&z!==y);R===null?T=h:R.next=A,Wn(h,s.memoizedState)||(on=!0),s.memoizedState=h,s.baseState=T,s.baseQueue=R,l.lastRenderedState=h}if(i=l.interleaved,i!==null){p=i;do y=p.lane,tt.lanes|=y,ws|=y,p=p.next;while(p!==i)}else p===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function Ff(i){var s=Cn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var h=l.dispatch,p=l.pending,y=s.memoizedState;if(p!==null){l.pending=null;var T=p=p.next;do y=i(y,T.action),T=T.next;while(T!==p);Wn(y,s.memoizedState)||(on=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,h]}function py(){}function my(i,s){var l=tt,h=Cn(),p=s(),y=!Wn(h.memoizedState,p);if(y&&(h.memoizedState=p,on=!0),h=h.queue,Uf(vy.bind(null,l,h,i),[i]),h.getSnapshot!==s||y||Ct!==null&&Ct.memoizedState.tag&1){if(l.flags|=2048,al(9,yy.bind(null,l,h,p,s),void 0,null),xt===null)throw Error(t(349));(_s&30)!==0||gy(l,s,p)}return p}function gy(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=tt.updateQueue,s===null?(s={lastEffect:null,stores:null},tt.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function yy(i,s,l,h){s.value=l,s.getSnapshot=h,_y(s)&&wy(i)}function vy(i,s,l){return l(function(){_y(s)&&wy(i)})}function _y(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!Wn(i,l)}catch{return!0}}function wy(i){var s=Ur(i,1);s!==null&&Xn(s,i,1,-1)}function Ty(i){var s=hr();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ol,lastRenderedState:i},s.queue=i,i=i.dispatch=o1.bind(null,tt,i),[s.memoizedState,i]}function al(i,s,l,h){return i={tag:i,create:s,destroy:l,deps:h,next:null},s=tt.updateQueue,s===null?(s={lastEffect:null,stores:null},tt.updateQueue=s,s.lastEffect=i.next=i):(l=s.lastEffect,l===null?s.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,s.lastEffect=i)),i}function Ey(){return Cn().memoizedState}function rc(i,s,l,h){var p=hr();tt.flags|=i,p.memoizedState=al(1|s,l,void 0,h===void 0?null:h)}function ic(i,s,l,h){var p=Cn();h=h===void 0?null:h;var y=void 0;if(wt!==null){var T=wt.memoizedState;if(y=T.destroy,h!==null&&Mf(h,T.deps)){p.memoizedState=al(s,l,y,h);return}}tt.flags|=i,p.memoizedState=al(1|s,l,y,h)}function Iy(i,s){return rc(8390656,8,i,s)}function Uf(i,s){return ic(2048,8,i,s)}function Sy(i,s){return ic(4,2,i,s)}function Ay(i,s){return ic(4,4,i,s)}function Py(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Cy(i,s,l){return l=l!=null?l.concat([i]):null,ic(4,4,Py.bind(null,s,i),l)}function jf(){}function xy(i,s){var l=Cn();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&Mf(s,h[1])?h[0]:(l.memoizedState=[i,s],i)}function Ry(i,s){var l=Cn();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&Mf(s,h[1])?h[0]:(i=i(),l.memoizedState=[i,s],i)}function ky(i,s,l){return(_s&21)===0?(i.baseState&&(i.baseState=!1,on=!0),i.memoizedState=l):(Wn(l,s)||(l=ls(),tt.lanes|=l,ws|=l,i.baseState=!0),s)}function i1(i,s){var l=Ve;Ve=l!==0&&4>l?l:4,i(!0);var h=Vf.transition;Vf.transition={};try{i(!1),s()}finally{Ve=l,Vf.transition=h}}function Dy(){return Cn().memoizedState}function s1(i,s,l){var h=Ci(i);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},Ny(i))Vy(s,l);else if(l=uy(i,s,l,h),l!==null){var p=Zt();Xn(l,i,h,p),My(l,s,h)}}function o1(i,s,l){var h=Ci(i),p={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ny(i))Vy(s,p);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var T=s.lastRenderedState,A=y(T,l);if(p.hasEagerState=!0,p.eagerState=A,Wn(A,T)){var R=s.interleaved;R===null?(p.next=p,Cf(s)):(p.next=R.next,R.next=p),s.interleaved=p;return}}catch{}finally{}l=uy(i,s,p,h),l!==null&&(p=Zt(),Xn(l,i,h,p),My(l,s,h))}}function Ny(i){var s=i.alternate;return i===tt||s!==null&&s===tt}function Vy(i,s){il=nc=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function My(i,s,l){if((l&4194240)!==0){var h=s.lanes;h&=i.pendingLanes,l|=h,s.lanes=l,fi(i,l)}}var sc={readContext:Pn,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useInsertionEffect:zt,useLayoutEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useMutableSource:zt,useSyncExternalStore:zt,useId:zt,unstable_isNewReconciler:!1},a1={readContext:Pn,useCallback:function(i,s){return hr().memoizedState=[i,s===void 0?null:s],i},useContext:Pn,useEffect:Iy,useImperativeHandle:function(i,s,l){return l=l!=null?l.concat([i]):null,rc(4194308,4,Py.bind(null,s,i),l)},useLayoutEffect:function(i,s){return rc(4194308,4,i,s)},useInsertionEffect:function(i,s){return rc(4,2,i,s)},useMemo:function(i,s){var l=hr();return s=s===void 0?null:s,i=i(),l.memoizedState=[i,s],i},useReducer:function(i,s,l){var h=hr();return s=l!==void 0?l(s):s,h.memoizedState=h.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},h.queue=i,i=i.dispatch=s1.bind(null,tt,i),[h.memoizedState,i]},useRef:function(i){var s=hr();return i={current:i},s.memoizedState=i},useState:Ty,useDebugValue:jf,useDeferredValue:function(i){return hr().memoizedState=i},useTransition:function(){var i=Ty(!1),s=i[0];return i=i1.bind(null,i[1]),hr().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,l){var h=tt,p=hr();if(Je){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),xt===null)throw Error(t(349));(_s&30)!==0||gy(h,s,l)}p.memoizedState=l;var y={value:l,getSnapshot:s};return p.queue=y,Iy(vy.bind(null,h,y,i),[i]),h.flags|=2048,al(9,yy.bind(null,h,y,l,s),void 0,null),l},useId:function(){var i=hr(),s=xt.identifierPrefix;if(Je){var l=Fr,h=Or;l=(h&~(1<<32-Xt(h)-1)).toString(32)+l,s=":"+s+"R"+l,l=sl++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=r1++,s=":"+s+"r"+l.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},l1={readContext:Pn,useCallback:xy,useContext:Pn,useEffect:Uf,useImperativeHandle:Cy,useInsertionEffect:Sy,useLayoutEffect:Ay,useMemo:Ry,useReducer:Of,useRef:Ey,useState:function(){return Of(ol)},useDebugValue:jf,useDeferredValue:function(i){var s=Cn();return ky(s,wt.memoizedState,i)},useTransition:function(){var i=Of(ol)[0],s=Cn().memoizedState;return[i,s]},useMutableSource:py,useSyncExternalStore:my,useId:Dy,unstable_isNewReconciler:!1},u1={readContext:Pn,useCallback:xy,useContext:Pn,useEffect:Uf,useImperativeHandle:Cy,useInsertionEffect:Sy,useLayoutEffect:Ay,useMemo:Ry,useReducer:Ff,useRef:Ey,useState:function(){return Ff(ol)},useDebugValue:jf,useDeferredValue:function(i){var s=Cn();return wt===null?s.memoizedState=i:ky(s,wt.memoizedState,i)},useTransition:function(){var i=Ff(ol)[0],s=Cn().memoizedState;return[i,s]},useMutableSource:py,useSyncExternalStore:my,useId:Dy,unstable_isNewReconciler:!1};function qn(i,s){if(i&&i.defaultProps){s=re({},s),i=i.defaultProps;for(var l in i)s[l]===void 0&&(s[l]=i[l]);return s}return s}function Bf(i,s,l,h){s=i.memoizedState,l=l(h,s),l=l==null?s:re({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var oc={isMounted:function(i){return(i=i._reactInternals)?Fn(i)===i:!1},enqueueSetState:function(i,s,l){i=i._reactInternals;var h=Zt(),p=Ci(i),y=jr(h,p);y.payload=s,l!=null&&(y.callback=l),s=Ii(i,y,p),s!==null&&(Xn(s,i,p,h),Ju(s,i,p))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var h=Zt(),p=Ci(i),y=jr(h,p);y.tag=1,y.payload=s,l!=null&&(y.callback=l),s=Ii(i,y,p),s!==null&&(Xn(s,i,p,h),Ju(s,i,p))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=Zt(),h=Ci(i),p=jr(l,h);p.tag=2,s!=null&&(p.callback=s),s=Ii(i,p,h),s!==null&&(Xn(s,i,h,l),Ju(s,i,h))}};function by(i,s,l,h,p,y,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,y,T):s.prototype&&s.prototype.isPureReactComponent?!qa(l,h)||!qa(p,y):!0}function Ly(i,s,l){var h=!1,p=wi,y=s.contextType;return typeof y=="object"&&y!==null?y=Pn(y):(p=sn(s)?ps:Bt.current,h=s.contextTypes,y=(h=h!=null)?So(i,p):wi),s=new s(l,y),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=oc,i.stateNode=s,s._reactInternals=i,h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=p,i.__reactInternalMemoizedMaskedChildContext=y),s}function Oy(i,s,l,h){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==i&&oc.enqueueReplaceState(s,s.state,null)}function zf(i,s,l,h){var p=i.stateNode;p.props=l,p.state=i.memoizedState,p.refs={},xf(i);var y=s.contextType;typeof y=="object"&&y!==null?p.context=Pn(y):(y=sn(s)?ps:Bt.current,p.context=So(i,y)),p.state=i.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Bf(i,s,y,l),p.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&oc.enqueueReplaceState(p,p.state,null),Zu(i,l,p,h),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308)}function No(i,s){try{var l="",h=s;do l+=xe(h),h=h.return;while(h);var p=l}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:i,source:s,stack:p,digest:null}}function $f(i,s,l){return{value:i,source:null,stack:l??null,digest:s??null}}function Hf(i,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var c1=typeof WeakMap=="function"?WeakMap:Map;function Fy(i,s,l){l=jr(-1,l),l.tag=3,l.payload={element:null};var h=s.value;return l.callback=function(){dc||(dc=!0,sd=h),Hf(i,s)},l}function Uy(i,s,l){l=jr(-1,l),l.tag=3;var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var p=s.value;l.payload=function(){return h(p)},l.callback=function(){Hf(i,s)}}var y=i.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){Hf(i,s),typeof h!="function"&&(Ai===null?Ai=new Set([this]):Ai.add(this));var T=s.stack;this.componentDidCatch(s.value,{componentStack:T!==null?T:""})}),l}function jy(i,s,l){var h=i.pingCache;if(h===null){h=i.pingCache=new c1;var p=new Set;h.set(s,p)}else p=h.get(s),p===void 0&&(p=new Set,h.set(s,p));p.has(l)||(p.add(l),i=S1.bind(null,i,s,l),s.then(i,i))}function By(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function zy(i,s,l,h,p){return(i.mode&1)===0?(i===s?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=jr(-1,1),s.tag=2,Ii(l,s,1))),l.lanes|=1),i):(i.flags|=65536,i.lanes=p,i)}var h1=ie.ReactCurrentOwner,on=!1;function Jt(i,s,l,h){s.child=i===null?ly(s,null,l,h):xo(s,i.child,l,h)}function $y(i,s,l,h,p){l=l.render;var y=s.ref;return ko(s,p),h=bf(i,s,l,h,y,p),l=Lf(),i!==null&&!on?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~p,Br(i,s,p)):(Je&&l&&vf(s),s.flags|=1,Jt(i,s,h,p),s.child)}function Hy(i,s,l,h,p){if(i===null){var y=l.type;return typeof y=="function"&&!fd(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=y,Wy(i,s,y,h,p)):(i=_c(l.type,null,h,s,s.mode,p),i.ref=s.ref,i.return=s,s.child=i)}if(y=i.child,(i.lanes&p)===0){var T=y.memoizedProps;if(l=l.compare,l=l!==null?l:qa,l(T,h)&&i.ref===s.ref)return Br(i,s,p)}return s.flags|=1,i=Ri(y,h),i.ref=s.ref,i.return=s,s.child=i}function Wy(i,s,l,h,p){if(i!==null){var y=i.memoizedProps;if(qa(y,h)&&i.ref===s.ref)if(on=!1,s.pendingProps=h=y,(i.lanes&p)!==0)(i.flags&131072)!==0&&(on=!0);else return s.lanes=i.lanes,Br(i,s,p)}return Wf(i,s,l,h,p)}function Ky(i,s,l){var h=s.pendingProps,p=h.children,y=i!==null?i.memoizedState:null;if(h.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(Mo,_n),_n|=l;else{if((l&1073741824)===0)return i=y!==null?y.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,Ke(Mo,_n),_n|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:l,Ke(Mo,_n),_n|=h}else y!==null?(h=y.baseLanes|l,s.memoizedState=null):h=l,Ke(Mo,_n),_n|=h;return Jt(i,s,p,l),s.child}function qy(i,s){var l=s.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function Wf(i,s,l,h,p){var y=sn(l)?ps:Bt.current;return y=So(s,y),ko(s,p),l=bf(i,s,l,h,y,p),h=Lf(),i!==null&&!on?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~p,Br(i,s,p)):(Je&&h&&vf(s),s.flags|=1,Jt(i,s,l,p),s.child)}function Gy(i,s,l,h,p){if(sn(l)){var y=!0;Hu(s)}else y=!1;if(ko(s,p),s.stateNode===null)lc(i,s),Ly(s,l,h),zf(s,l,h,p),h=!0;else if(i===null){var T=s.stateNode,A=s.memoizedProps;T.props=A;var R=T.context,z=l.contextType;typeof z=="object"&&z!==null?z=Pn(z):(z=sn(l)?ps:Bt.current,z=So(s,z));var Y=l.getDerivedStateFromProps,Z=typeof Y=="function"||typeof T.getSnapshotBeforeUpdate=="function";Z||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(A!==h||R!==z)&&Oy(s,T,h,z),Ei=!1;var Q=s.memoizedState;T.state=Q,Zu(s,h,T,p),R=s.memoizedState,A!==h||Q!==R||rn.current||Ei?(typeof Y=="function"&&(Bf(s,l,Y,h),R=s.memoizedState),(A=Ei||by(s,l,A,h,Q,R,z))?(Z||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(s.flags|=4194308)):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=R),T.props=h,T.state=R,T.context=z,h=A):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{T=s.stateNode,cy(i,s),A=s.memoizedProps,z=s.type===s.elementType?A:qn(s.type,A),T.props=z,Z=s.pendingProps,Q=T.context,R=l.contextType,typeof R=="object"&&R!==null?R=Pn(R):(R=sn(l)?ps:Bt.current,R=So(s,R));var se=l.getDerivedStateFromProps;(Y=typeof se=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(A!==Z||Q!==R)&&Oy(s,T,h,R),Ei=!1,Q=s.memoizedState,T.state=Q,Zu(s,h,T,p);var ue=s.memoizedState;A!==Z||Q!==ue||rn.current||Ei?(typeof se=="function"&&(Bf(s,l,se,h),ue=s.memoizedState),(z=Ei||by(s,l,z,h,Q,ue,R)||!1)?(Y||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(h,ue,R),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(h,ue,R)),typeof T.componentDidUpdate=="function"&&(s.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof T.componentDidUpdate!="function"||A===i.memoizedProps&&Q===i.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&Q===i.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=ue),T.props=h,T.state=ue,T.context=R,h=z):(typeof T.componentDidUpdate!="function"||A===i.memoizedProps&&Q===i.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&Q===i.memoizedState||(s.flags|=1024),h=!1)}return Kf(i,s,l,h,y,p)}function Kf(i,s,l,h,p,y){qy(i,s);var T=(s.flags&128)!==0;if(!h&&!T)return p&&Zg(s,l,!1),Br(i,s,y);h=s.stateNode,h1.current=s;var A=T&&typeof l.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,i!==null&&T?(s.child=xo(s,i.child,null,y),s.child=xo(s,null,A,y)):Jt(i,s,A,y),s.memoizedState=h.state,p&&Zg(s,l,!0),s.child}function Qy(i){var s=i.stateNode;s.pendingContext?Yg(i,s.pendingContext,s.pendingContext!==s.context):s.context&&Yg(i,s.context,!1),Rf(i,s.containerInfo)}function Xy(i,s,l,h,p){return Co(),Ef(p),s.flags|=256,Jt(i,s,l,h),s.child}var qf={dehydrated:null,treeContext:null,retryLane:0};function Gf(i){return{baseLanes:i,cachePool:null,transitions:null}}function Yy(i,s,l){var h=s.pendingProps,p=et.current,y=!1,T=(s.flags&128)!==0,A;if((A=T)||(A=i!==null&&i.memoizedState===null?!1:(p&2)!==0),A?(y=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(p|=1),Ke(et,p&1),i===null)return Tf(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((s.mode&1)===0?s.lanes=1:i.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(T=h.children,i=h.fallback,y?(h=s.mode,y=s.child,T={mode:"hidden",children:T},(h&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=T):y=wc(T,h,0,null),i=Ss(i,h,l,null),y.return=s,i.return=s,y.sibling=i,s.child=y,s.child.memoizedState=Gf(l),s.memoizedState=qf,i):Qf(s,T));if(p=i.memoizedState,p!==null&&(A=p.dehydrated,A!==null))return f1(i,s,T,h,A,p,l);if(y){y=h.fallback,T=s.mode,p=i.child,A=p.sibling;var R={mode:"hidden",children:h.children};return(T&1)===0&&s.child!==p?(h=s.child,h.childLanes=0,h.pendingProps=R,s.deletions=null):(h=Ri(p,R),h.subtreeFlags=p.subtreeFlags&14680064),A!==null?y=Ri(A,y):(y=Ss(y,T,l,null),y.flags|=2),y.return=s,h.return=s,h.sibling=y,s.child=h,h=y,y=s.child,T=i.child.memoizedState,T=T===null?Gf(l):{baseLanes:T.baseLanes|l,cachePool:null,transitions:T.transitions},y.memoizedState=T,y.childLanes=i.childLanes&~l,s.memoizedState=qf,h}return y=i.child,i=y.sibling,h=Ri(y,{mode:"visible",children:h.children}),(s.mode&1)===0&&(h.lanes=l),h.return=s,h.sibling=null,i!==null&&(l=s.deletions,l===null?(s.deletions=[i],s.flags|=16):l.push(i)),s.child=h,s.memoizedState=null,h}function Qf(i,s){return s=wc({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function ac(i,s,l,h){return h!==null&&Ef(h),xo(s,i.child,null,l),i=Qf(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function f1(i,s,l,h,p,y,T){if(l)return s.flags&256?(s.flags&=-257,h=$f(Error(t(422))),ac(i,s,T,h)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(y=h.fallback,p=s.mode,h=wc({mode:"visible",children:h.children},p,0,null),y=Ss(y,p,T,null),y.flags|=2,h.return=s,y.return=s,h.sibling=y,s.child=h,(s.mode&1)!==0&&xo(s,i.child,null,T),s.child.memoizedState=Gf(T),s.memoizedState=qf,y);if((s.mode&1)===0)return ac(i,s,T,null);if(p.data==="$!"){if(h=p.nextSibling&&p.nextSibling.dataset,h)var A=h.dgst;return h=A,y=Error(t(419)),h=$f(y,h,void 0),ac(i,s,T,h)}if(A=(T&i.childLanes)!==0,on||A){if(h=xt,h!==null){switch(T&-T){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(h.suspendedLanes|T))!==0?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,Ur(i,p),Xn(h,i,p,-1))}return hd(),h=$f(Error(t(421))),ac(i,s,T,h)}return p.data==="$?"?(s.flags|=128,s.child=i.child,s=A1.bind(null,i),p._reactRetry=s,null):(i=y.treeContext,vn=vi(p.nextSibling),yn=s,Je=!0,Kn=null,i!==null&&(Sn[An++]=Or,Sn[An++]=Fr,Sn[An++]=ms,Or=i.id,Fr=i.overflow,ms=s),s=Qf(s,h.children),s.flags|=4096,s)}function Jy(i,s,l){i.lanes|=s;var h=i.alternate;h!==null&&(h.lanes|=s),Pf(i.return,s,l)}function Xf(i,s,l,h,p){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:p}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=l,y.tailMode=p)}function Zy(i,s,l){var h=s.pendingProps,p=h.revealOrder,y=h.tail;if(Jt(i,s,h.children,l),h=et.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Jy(i,l,s);else if(i.tag===19)Jy(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}if(Ke(et,h),(s.mode&1)===0)s.memoizedState=null;else switch(p){case"forwards":for(l=s.child,p=null;l!==null;)i=l.alternate,i!==null&&ec(i)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),Xf(s,!1,p,l,y);break;case"backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(i=p.alternate,i!==null&&ec(i)===null){s.child=p;break}i=p.sibling,p.sibling=l,l=p,p=i}Xf(s,!0,l,null,y);break;case"together":Xf(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function lc(i,s){(s.mode&1)===0&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function Br(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),ws|=s.lanes,(l&s.childLanes)===0)return null;if(i!==null&&s.child!==i.child)throw Error(t(153));if(s.child!==null){for(i=s.child,l=Ri(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=Ri(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function d1(i,s,l){switch(s.tag){case 3:Qy(s),Co();break;case 5:dy(s);break;case 1:sn(s.type)&&Hu(s);break;case 4:Rf(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,p=s.memoizedProps.value;Ke(Xu,h._currentValue),h._currentValue=p;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(Ke(et,et.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?Yy(i,s,l):(Ke(et,et.current&1),i=Br(i,s,l),i!==null?i.sibling:null);Ke(et,et.current&1);break;case 19:if(h=(l&s.childLanes)!==0,(i.flags&128)!==0){if(h)return Zy(i,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Ke(et,et.current),h)break;return null;case 22:case 23:return s.lanes=0,Ky(i,s,l)}return Br(i,s,l)}var ev,Yf,tv,nv;ev=function(i,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Yf=function(){},tv=function(i,s,l,h){var p=i.memoizedProps;if(p!==h){i=s.stateNode,vs(cr.current);var y=null;switch(l){case"input":p=Yi(i,p),h=Yi(i,h),y=[];break;case"select":p=re({},p,{value:void 0}),h=re({},h,{value:void 0}),y=[];break;case"textarea":p=Ea(i,p),h=Ea(i,h),y=[];break;default:typeof p.onClick!="function"&&typeof h.onClick=="function"&&(i.onclick=Bu)}xa(l,h);var T;l=null;for(z in p)if(!h.hasOwnProperty(z)&&p.hasOwnProperty(z)&&p[z]!=null)if(z==="style"){var A=p[z];for(T in A)A.hasOwnProperty(T)&&(l||(l={}),l[T]="")}else z!=="dangerouslySetInnerHTML"&&z!=="children"&&z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(o.hasOwnProperty(z)?y||(y=[]):(y=y||[]).push(z,null));for(z in h){var R=h[z];if(A=p!=null?p[z]:void 0,h.hasOwnProperty(z)&&R!==A&&(R!=null||A!=null))if(z==="style")if(A){for(T in A)!A.hasOwnProperty(T)||R&&R.hasOwnProperty(T)||(l||(l={}),l[T]="");for(T in R)R.hasOwnProperty(T)&&A[T]!==R[T]&&(l||(l={}),l[T]=R[T])}else l||(y||(y=[]),y.push(z,l)),l=R;else z==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,A=A?A.__html:void 0,R!=null&&A!==R&&(y=y||[]).push(z,R)):z==="children"?typeof R!="string"&&typeof R!="number"||(y=y||[]).push(z,""+R):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&(o.hasOwnProperty(z)?(R!=null&&z==="onScroll"&&qe("scroll",i),y||A===R||(y=[])):(y=y||[]).push(z,R))}l&&(y=y||[]).push("style",l);var z=y;(s.updateQueue=z)&&(s.flags|=4)}},nv=function(i,s,l,h){l!==h&&(s.flags|=4)};function ll(i,s){if(!Je)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function $t(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(s)for(var p=i.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags&14680064,h|=p.flags&14680064,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=h,i.childLanes=l,s}function p1(i,s,l){var h=s.pendingProps;switch(_f(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(s),null;case 1:return sn(s.type)&&$u(),$t(s),null;case 3:return h=s.stateNode,Do(),Ge(rn),Ge(Bt),Nf(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(Gu(s)?s.flags|=4:i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Kn!==null&&(ld(Kn),Kn=null))),Yf(i,s),$t(s),null;case 5:kf(s);var p=vs(rl.current);if(l=s.type,i!==null&&s.stateNode!=null)tv(i,s,l,h,p),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return $t(s),null}if(i=vs(cr.current),Gu(s)){h=s.stateNode,l=s.type;var y=s.memoizedProps;switch(h[ur]=s,h[Ja]=y,i=(s.mode&1)!==0,l){case"dialog":qe("cancel",h),qe("close",h);break;case"iframe":case"object":case"embed":qe("load",h);break;case"video":case"audio":for(p=0;p<Qa.length;p++)qe(Qa[p],h);break;case"source":qe("error",h);break;case"img":case"image":case"link":qe("error",h),qe("load",h);break;case"details":qe("toggle",h);break;case"input":Ws(h,y),qe("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},qe("invalid",h);break;case"textarea":qs(h,y),qe("invalid",h)}xa(l,y),p=null;for(var T in y)if(y.hasOwnProperty(T)){var A=y[T];T==="children"?typeof A=="string"?h.textContent!==A&&(y.suppressHydrationWarning!==!0&&ju(h.textContent,A,i),p=["children",A]):typeof A=="number"&&h.textContent!==""+A&&(y.suppressHydrationWarning!==!0&&ju(h.textContent,A,i),p=["children",""+A]):o.hasOwnProperty(T)&&A!=null&&T==="onScroll"&&qe("scroll",h)}switch(l){case"input":Ar(h),fu(h,y,!0);break;case"textarea":Ar(h),Ia(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=Bu)}h=p,s.updateQueue=h,h!==null&&(s.flags|=4)}else{T=p.nodeType===9?p:p.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=yt(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=T.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof h.is=="string"?i=T.createElement(l,{is:h.is}):(i=T.createElement(l),l==="select"&&(T=i,h.multiple?T.multiple=!0:h.size&&(T.size=h.size))):i=T.createElementNS(i,l),i[ur]=s,i[Ja]=h,ev(i,s,!1,!1),s.stateNode=i;e:{switch(T=Ra(l,h),l){case"dialog":qe("cancel",i),qe("close",i),p=h;break;case"iframe":case"object":case"embed":qe("load",i),p=h;break;case"video":case"audio":for(p=0;p<Qa.length;p++)qe(Qa[p],i);p=h;break;case"source":qe("error",i),p=h;break;case"img":case"image":case"link":qe("error",i),qe("load",i),p=h;break;case"details":qe("toggle",i),p=h;break;case"input":Ws(i,h),p=Yi(i,h),qe("invalid",i);break;case"option":p=h;break;case"select":i._wrapperState={wasMultiple:!!h.multiple},p=re({},h,{value:void 0}),qe("invalid",i);break;case"textarea":qs(i,h),p=Ea(i,h),qe("invalid",i);break;default:p=h}xa(l,p),A=p;for(y in A)if(A.hasOwnProperty(y)){var R=A[y];y==="style"?Pa(i,R):y==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,R!=null&&Sa(i,R)):y==="children"?typeof R=="string"?(l!=="textarea"||R!=="")&&ai(i,R):typeof R=="number"&&ai(i,""+R):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?R!=null&&y==="onScroll"&&qe("scroll",i):R!=null&&q(i,y,R,T))}switch(l){case"input":Ar(i),fu(i,h,!1);break;case"textarea":Ar(i),Ia(i);break;case"option":h.value!=null&&i.setAttribute("value",""+je(h.value));break;case"select":i.multiple=!!h.multiple,y=h.value,y!=null?Cr(i,!!h.multiple,y,!1):h.defaultValue!=null&&Cr(i,!!h.multiple,h.defaultValue,!0);break;default:typeof p.onClick=="function"&&(i.onclick=Bu)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return $t(s),null;case 6:if(i&&s.stateNode!=null)nv(i,s,i.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(l=vs(rl.current),vs(cr.current),Gu(s)){if(h=s.stateNode,l=s.memoizedProps,h[ur]=s,(y=h.nodeValue!==l)&&(i=yn,i!==null))switch(i.tag){case 3:ju(h.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&ju(h.nodeValue,l,(i.mode&1)!==0)}y&&(s.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[ur]=s,s.stateNode=h}return $t(s),null;case 13:if(Ge(et),h=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Je&&vn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)sy(),Co(),s.flags|=98560,y=!1;else if(y=Gu(s),h!==null&&h.dehydrated!==null){if(i===null){if(!y)throw Error(t(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[ur]=s}else Co(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;$t(s),y=!1}else Kn!==null&&(ld(Kn),Kn=null),y=!0;if(!y)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(h=h!==null,h!==(i!==null&&i.memoizedState!==null)&&h&&(s.child.flags|=8192,(s.mode&1)!==0&&(i===null||(et.current&1)!==0?Tt===0&&(Tt=3):hd())),s.updateQueue!==null&&(s.flags|=4),$t(s),null);case 4:return Do(),Yf(i,s),i===null&&Xa(s.stateNode.containerInfo),$t(s),null;case 10:return Af(s.type._context),$t(s),null;case 17:return sn(s.type)&&$u(),$t(s),null;case 19:if(Ge(et),y=s.memoizedState,y===null)return $t(s),null;if(h=(s.flags&128)!==0,T=y.rendering,T===null)if(h)ll(y,!1);else{if(Tt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(T=ec(i),T!==null){for(s.flags|=128,ll(y,!1),h=T.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=l,l=s.child;l!==null;)y=l,i=h,y.flags&=14680066,T=y.alternate,T===null?(y.childLanes=0,y.lanes=i,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=T.childLanes,y.lanes=T.lanes,y.child=T.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=T.memoizedProps,y.memoizedState=T.memoizedState,y.updateQueue=T.updateQueue,y.type=T.type,i=T.dependencies,y.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return Ke(et,et.current&1|2),s.child}i=i.sibling}y.tail!==null&&We()>bo&&(s.flags|=128,h=!0,ll(y,!1),s.lanes=4194304)}else{if(!h)if(i=ec(T),i!==null){if(s.flags|=128,h=!0,l=i.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),ll(y,!0),y.tail===null&&y.tailMode==="hidden"&&!T.alternate&&!Je)return $t(s),null}else 2*We()-y.renderingStartTime>bo&&l!==1073741824&&(s.flags|=128,h=!0,ll(y,!1),s.lanes=4194304);y.isBackwards?(T.sibling=s.child,s.child=T):(l=y.last,l!==null?l.sibling=T:s.child=T,y.last=T)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=We(),s.sibling=null,l=et.current,Ke(et,h?l&1|2:l&1),s):($t(s),null);case 22:case 23:return cd(),h=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==h&&(s.flags|=8192),h&&(s.mode&1)!==0?(_n&1073741824)!==0&&($t(s),s.subtreeFlags&6&&(s.flags|=8192)):$t(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function m1(i,s){switch(_f(s),s.tag){case 1:return sn(s.type)&&$u(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Do(),Ge(rn),Ge(Bt),Nf(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 5:return kf(s),null;case 13:if(Ge(et),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Co()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return Ge(et),null;case 4:return Do(),null;case 10:return Af(s.type._context),null;case 22:case 23:return cd(),null;case 24:return null;default:return null}}var uc=!1,Ht=!1,g1=typeof WeakSet=="function"?WeakSet:Set,le=null;function Vo(i,s){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){st(i,s,h)}else l.current=null}function Jf(i,s,l){try{l()}catch(h){st(i,s,h)}}var rv=!1;function y1(i,s){if(cf=mi,i=bg(),tf(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var p=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var T=0,A=-1,R=-1,z=0,Y=0,Z=i,Q=null;t:for(;;){for(var se;Z!==l||p!==0&&Z.nodeType!==3||(A=T+p),Z!==y||h!==0&&Z.nodeType!==3||(R=T+h),Z.nodeType===3&&(T+=Z.nodeValue.length),(se=Z.firstChild)!==null;)Q=Z,Z=se;for(;;){if(Z===i)break t;if(Q===l&&++z===p&&(A=T),Q===y&&++Y===h&&(R=T),(se=Z.nextSibling)!==null)break;Z=Q,Q=Z.parentNode}Z=se}l=A===-1||R===-1?null:{start:A,end:R}}else l=null}l=l||{start:0,end:0}}else l=null;for(hf={focusedElem:i,selectionRange:l},mi=!1,le=s;le!==null;)if(s=le,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,le=i;else for(;le!==null;){s=le;try{var ue=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ue!==null){var ce=ue.memoizedProps,lt=ue.memoizedState,F=s.stateNode,N=F.getSnapshotBeforeUpdate(s.elementType===s.type?ce:qn(s.type,ce),lt);F.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var j=s.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(te){st(s,s.return,te)}if(i=s.sibling,i!==null){i.return=s.return,le=i;break}le=s.return}return ue=rv,rv=!1,ue}function ul(i,s,l){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var p=h=h.next;do{if((p.tag&i)===i){var y=p.destroy;p.destroy=void 0,y!==void 0&&Jf(s,l,y)}p=p.next}while(p!==h)}}function cc(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&i)===i){var h=l.create;l.destroy=h()}l=l.next}while(l!==s)}}function Zf(i){var s=i.ref;if(s!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof s=="function"?s(i):s.current=i}}function iv(i){var s=i.alternate;s!==null&&(i.alternate=null,iv(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&(delete s[ur],delete s[Ja],delete s[mf],delete s[ZS],delete s[e1])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function sv(i){return i.tag===5||i.tag===3||i.tag===4}function ov(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||sv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function ed(i,s,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(i,s):l.insertBefore(i,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(i,l)):(s=l,s.appendChild(i)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Bu));else if(h!==4&&(i=i.child,i!==null))for(ed(i,s,l),i=i.sibling;i!==null;)ed(i,s,l),i=i.sibling}function td(i,s,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(h!==4&&(i=i.child,i!==null))for(td(i,s,l),i=i.sibling;i!==null;)td(i,s,l),i=i.sibling}var bt=null,Gn=!1;function Si(i,s,l){for(l=l.child;l!==null;)av(i,s,l),l=l.sibling}function av(i,s,l){if(dn&&typeof dn.onCommitFiberUnmount=="function")try{dn.onCommitFiberUnmount(os,l)}catch{}switch(l.tag){case 5:Ht||Vo(l,s);case 6:var h=bt,p=Gn;bt=null,Si(i,s,l),bt=h,Gn=p,bt!==null&&(Gn?(i=bt,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):bt.removeChild(l.stateNode));break;case 18:bt!==null&&(Gn?(i=bt,l=l.stateNode,i.nodeType===8?pf(i.parentNode,l):i.nodeType===1&&pf(i,l),$n(i)):pf(bt,l.stateNode));break;case 4:h=bt,p=Gn,bt=l.stateNode.containerInfo,Gn=!0,Si(i,s,l),bt=h,Gn=p;break;case 0:case 11:case 14:case 15:if(!Ht&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){p=h=h.next;do{var y=p,T=y.destroy;y=y.tag,T!==void 0&&((y&2)!==0||(y&4)!==0)&&Jf(l,s,T),p=p.next}while(p!==h)}Si(i,s,l);break;case 1:if(!Ht&&(Vo(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(A){st(l,s,A)}Si(i,s,l);break;case 21:Si(i,s,l);break;case 22:l.mode&1?(Ht=(h=Ht)||l.memoizedState!==null,Si(i,s,l),Ht=h):Si(i,s,l);break;default:Si(i,s,l)}}function lv(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new g1),s.forEach(function(h){var p=P1.bind(null,i,h);l.has(h)||(l.add(h),h.then(p,p))})}}function Qn(i,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var p=l[h];try{var y=i,T=s,A=T;e:for(;A!==null;){switch(A.tag){case 5:bt=A.stateNode,Gn=!1;break e;case 3:bt=A.stateNode.containerInfo,Gn=!0;break e;case 4:bt=A.stateNode.containerInfo,Gn=!0;break e}A=A.return}if(bt===null)throw Error(t(160));av(y,T,p),bt=null,Gn=!1;var R=p.alternate;R!==null&&(R.return=null),p.return=null}catch(z){st(p,s,z)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)uv(s,i),s=s.sibling}function uv(i,s){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Qn(s,i),fr(i),h&4){try{ul(3,i,i.return),cc(3,i)}catch(ce){st(i,i.return,ce)}try{ul(5,i,i.return)}catch(ce){st(i,i.return,ce)}}break;case 1:Qn(s,i),fr(i),h&512&&l!==null&&Vo(l,l.return);break;case 5:if(Qn(s,i),fr(i),h&512&&l!==null&&Vo(l,l.return),i.flags&32){var p=i.stateNode;try{ai(p,"")}catch(ce){st(i,i.return,ce)}}if(h&4&&(p=i.stateNode,p!=null)){var y=i.memoizedProps,T=l!==null?l.memoizedProps:y,A=i.type,R=i.updateQueue;if(i.updateQueue=null,R!==null)try{A==="input"&&y.type==="radio"&&y.name!=null&&wa(p,y),Ra(A,T);var z=Ra(A,y);for(T=0;T<R.length;T+=2){var Y=R[T],Z=R[T+1];Y==="style"?Pa(p,Z):Y==="dangerouslySetInnerHTML"?Sa(p,Z):Y==="children"?ai(p,Z):q(p,Y,Z,z)}switch(A){case"input":Ta(p,y);break;case"textarea":Gs(p,y);break;case"select":var Q=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var se=y.value;se!=null?Cr(p,!!y.multiple,se,!1):Q!==!!y.multiple&&(y.defaultValue!=null?Cr(p,!!y.multiple,y.defaultValue,!0):Cr(p,!!y.multiple,y.multiple?[]:"",!1))}p[Ja]=y}catch(ce){st(i,i.return,ce)}}break;case 6:if(Qn(s,i),fr(i),h&4){if(i.stateNode===null)throw Error(t(162));p=i.stateNode,y=i.memoizedProps;try{p.nodeValue=y}catch(ce){st(i,i.return,ce)}}break;case 3:if(Qn(s,i),fr(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{$n(s.containerInfo)}catch(ce){st(i,i.return,ce)}break;case 4:Qn(s,i),fr(i);break;case 13:Qn(s,i),fr(i),p=i.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(id=We())),h&4&&lv(i);break;case 22:if(Y=l!==null&&l.memoizedState!==null,i.mode&1?(Ht=(z=Ht)||Y,Qn(s,i),Ht=z):Qn(s,i),fr(i),h&8192){if(z=i.memoizedState!==null,(i.stateNode.isHidden=z)&&!Y&&(i.mode&1)!==0)for(le=i,Y=i.child;Y!==null;){for(Z=le=Y;le!==null;){switch(Q=le,se=Q.child,Q.tag){case 0:case 11:case 14:case 15:ul(4,Q,Q.return);break;case 1:Vo(Q,Q.return);var ue=Q.stateNode;if(typeof ue.componentWillUnmount=="function"){h=Q,l=Q.return;try{s=h,ue.props=s.memoizedProps,ue.state=s.memoizedState,ue.componentWillUnmount()}catch(ce){st(h,l,ce)}}break;case 5:Vo(Q,Q.return);break;case 22:if(Q.memoizedState!==null){fv(Z);continue}}se!==null?(se.return=Q,le=se):fv(Z)}Y=Y.sibling}e:for(Y=null,Z=i;;){if(Z.tag===5){if(Y===null){Y=Z;try{p=Z.stateNode,z?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(A=Z.stateNode,R=Z.memoizedProps.style,T=R!=null&&R.hasOwnProperty("display")?R.display:null,A.style.display=Aa("display",T))}catch(ce){st(i,i.return,ce)}}}else if(Z.tag===6){if(Y===null)try{Z.stateNode.nodeValue=z?"":Z.memoizedProps}catch(ce){st(i,i.return,ce)}}else if((Z.tag!==22&&Z.tag!==23||Z.memoizedState===null||Z===i)&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===i)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===i)break e;Y===Z&&(Y=null),Z=Z.return}Y===Z&&(Y=null),Z.sibling.return=Z.return,Z=Z.sibling}}break;case 19:Qn(s,i),fr(i),h&4&&lv(i);break;case 21:break;default:Qn(s,i),fr(i)}}function fr(i){var s=i.flags;if(s&2){try{e:{for(var l=i.return;l!==null;){if(sv(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var p=h.stateNode;h.flags&32&&(ai(p,""),h.flags&=-33);var y=ov(i);td(i,y,p);break;case 3:case 4:var T=h.stateNode.containerInfo,A=ov(i);ed(i,A,T);break;default:throw Error(t(161))}}catch(R){st(i,i.return,R)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function v1(i,s,l){le=i,cv(i)}function cv(i,s,l){for(var h=(i.mode&1)!==0;le!==null;){var p=le,y=p.child;if(p.tag===22&&h){var T=p.memoizedState!==null||uc;if(!T){var A=p.alternate,R=A!==null&&A.memoizedState!==null||Ht;A=uc;var z=Ht;if(uc=T,(Ht=R)&&!z)for(le=p;le!==null;)T=le,R=T.child,T.tag===22&&T.memoizedState!==null?dv(p):R!==null?(R.return=T,le=R):dv(p);for(;y!==null;)le=y,cv(y),y=y.sibling;le=p,uc=A,Ht=z}hv(i)}else(p.subtreeFlags&8772)!==0&&y!==null?(y.return=p,le=y):hv(i)}}function hv(i){for(;le!==null;){var s=le;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Ht||cc(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!Ht)if(l===null)h.componentDidMount();else{var p=s.elementType===s.type?l.memoizedProps:qn(s.type,l.memoizedProps);h.componentDidUpdate(p,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=s.updateQueue;y!==null&&fy(s,y,h);break;case 3:var T=s.updateQueue;if(T!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}fy(s,T,l)}break;case 5:var A=s.stateNode;if(l===null&&s.flags&4){l=A;var R=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":R.autoFocus&&l.focus();break;case"img":R.src&&(l.src=R.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var z=s.alternate;if(z!==null){var Y=z.memoizedState;if(Y!==null){var Z=Y.dehydrated;Z!==null&&$n(Z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Ht||s.flags&512&&Zf(s)}catch(Q){st(s,s.return,Q)}}if(s===i){le=null;break}if(l=s.sibling,l!==null){l.return=s.return,le=l;break}le=s.return}}function fv(i){for(;le!==null;){var s=le;if(s===i){le=null;break}var l=s.sibling;if(l!==null){l.return=s.return,le=l;break}le=s.return}}function dv(i){for(;le!==null;){var s=le;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{cc(4,s)}catch(R){st(s,l,R)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var p=s.return;try{h.componentDidMount()}catch(R){st(s,p,R)}}var y=s.return;try{Zf(s)}catch(R){st(s,y,R)}break;case 5:var T=s.return;try{Zf(s)}catch(R){st(s,T,R)}}}catch(R){st(s,s.return,R)}if(s===i){le=null;break}var A=s.sibling;if(A!==null){A.return=s.return,le=A;break}le=s.return}}var _1=Math.ceil,hc=ie.ReactCurrentDispatcher,nd=ie.ReactCurrentOwner,xn=ie.ReactCurrentBatchConfig,Oe=0,xt=null,ft=null,Lt=0,_n=0,Mo=_i(0),Tt=0,cl=null,ws=0,fc=0,rd=0,hl=null,an=null,id=0,bo=1/0,zr=null,dc=!1,sd=null,Ai=null,pc=!1,Pi=null,mc=0,fl=0,od=null,gc=-1,yc=0;function Zt(){return(Oe&6)!==0?We():gc!==-1?gc:gc=We()}function Ci(i){return(i.mode&1)===0?1:(Oe&2)!==0&&Lt!==0?Lt&-Lt:n1.transition!==null?(yc===0&&(yc=ls()),yc):(i=Ve,i!==0||(i=window.event,i=i===void 0?16:ja(i.type)),i)}function Xn(i,s,l,h){if(50<fl)throw fl=0,od=null,Error(t(185));hi(i,l,h),((Oe&2)===0||i!==xt)&&(i===xt&&((Oe&2)===0&&(fc|=l),Tt===4&&xi(i,Lt)),ln(i,h),l===1&&Oe===0&&(s.mode&1)===0&&(bo=We()+500,Wu&&Ti()))}function ln(i,s){var l=i.callbackNode;kr(i,s);var h=as(i,i===xt?Lt:0);if(h===0)l!==null&&ba(l),i.callbackNode=null,i.callbackPriority=0;else if(s=h&-h,i.callbackPriority!==s){if(l!=null&&ba(l),s===1)i.tag===0?t1(mv.bind(null,i)):ey(mv.bind(null,i)),YS(function(){(Oe&6)===0&&Ti()}),l=null;else{switch(di(h)){case 1:l=ss;break;case 4:l=li;break;case 16:l=Tn;break;case 536870912:l=yu;break;default:l=Tn}l=Iv(l,pv.bind(null,i))}i.callbackPriority=s,i.callbackNode=l}}function pv(i,s){if(gc=-1,yc=0,(Oe&6)!==0)throw Error(t(327));var l=i.callbackNode;if(Lo()&&i.callbackNode!==l)return null;var h=as(i,i===xt?Lt:0);if(h===0)return null;if((h&30)!==0||(h&i.expiredLanes)!==0||s)s=vc(i,h);else{s=h;var p=Oe;Oe|=2;var y=yv();(xt!==i||Lt!==s)&&(zr=null,bo=We()+500,Es(i,s));do try{E1();break}catch(A){gv(i,A)}while(!0);Sf(),hc.current=y,Oe=p,ft!==null?s=0:(xt=null,Lt=0,s=Tt)}if(s!==0){if(s===2&&(p=pn(i),p!==0&&(h=p,s=ad(i,p))),s===1)throw l=cl,Es(i,0),xi(i,h),ln(i,We()),l;if(s===6)xi(i,h);else{if(p=i.current.alternate,(h&30)===0&&!w1(p)&&(s=vc(i,h),s===2&&(y=pn(i),y!==0&&(h=y,s=ad(i,y))),s===1))throw l=cl,Es(i,0),xi(i,h),ln(i,We()),l;switch(i.finishedWork=p,i.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:Is(i,an,zr);break;case 3:if(xi(i,h),(h&130023424)===h&&(s=id+500-We(),10<s)){if(as(i,0)!==0)break;if(p=i.suspendedLanes,(p&h)!==h){Zt(),i.pingedLanes|=i.suspendedLanes&p;break}i.timeoutHandle=df(Is.bind(null,i,an,zr),s);break}Is(i,an,zr);break;case 4:if(xi(i,h),(h&4194240)===h)break;for(s=i.eventTimes,p=-1;0<h;){var T=31-Xt(h);y=1<<T,T=s[T],T>p&&(p=T),h&=~y}if(h=p,h=We()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*_1(h/1960))-h,10<h){i.timeoutHandle=df(Is.bind(null,i,an,zr),h);break}Is(i,an,zr);break;case 5:Is(i,an,zr);break;default:throw Error(t(329))}}}return ln(i,We()),i.callbackNode===l?pv.bind(null,i):null}function ad(i,s){var l=hl;return i.current.memoizedState.isDehydrated&&(Es(i,s).flags|=256),i=vc(i,s),i!==2&&(s=an,an=l,s!==null&&ld(s)),i}function ld(i){an===null?an=i:an.push.apply(an,i)}function w1(i){for(var s=i;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var p=l[h],y=p.getSnapshot;p=p.value;try{if(!Wn(y(),p))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function xi(i,s){for(s&=~rd,s&=~fc,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var l=31-Xt(s),h=1<<l;i[l]=-1,s&=~h}}function mv(i){if((Oe&6)!==0)throw Error(t(327));Lo();var s=as(i,0);if((s&1)===0)return ln(i,We()),null;var l=vc(i,s);if(i.tag!==0&&l===2){var h=pn(i);h!==0&&(s=h,l=ad(i,h))}if(l===1)throw l=cl,Es(i,0),xi(i,s),ln(i,We()),l;if(l===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,Is(i,an,zr),ln(i,We()),null}function ud(i,s){var l=Oe;Oe|=1;try{return i(s)}finally{Oe=l,Oe===0&&(bo=We()+500,Wu&&Ti())}}function Ts(i){Pi!==null&&Pi.tag===0&&(Oe&6)===0&&Lo();var s=Oe;Oe|=1;var l=xn.transition,h=Ve;try{if(xn.transition=null,Ve=1,i)return i()}finally{Ve=h,xn.transition=l,Oe=s,(Oe&6)===0&&Ti()}}function cd(){_n=Mo.current,Ge(Mo)}function Es(i,s){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,XS(l)),ft!==null)for(l=ft.return;l!==null;){var h=l;switch(_f(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&$u();break;case 3:Do(),Ge(rn),Ge(Bt),Nf();break;case 5:kf(h);break;case 4:Do();break;case 13:Ge(et);break;case 19:Ge(et);break;case 10:Af(h.type._context);break;case 22:case 23:cd()}l=l.return}if(xt=i,ft=i=Ri(i.current,null),Lt=_n=s,Tt=0,cl=null,rd=fc=ws=0,an=hl=null,ys!==null){for(s=0;s<ys.length;s++)if(l=ys[s],h=l.interleaved,h!==null){l.interleaved=null;var p=h.next,y=l.pending;if(y!==null){var T=y.next;y.next=p,h.next=T}l.pending=h}ys=null}return i}function gv(i,s){do{var l=ft;try{if(Sf(),tc.current=sc,nc){for(var h=tt.memoizedState;h!==null;){var p=h.queue;p!==null&&(p.pending=null),h=h.next}nc=!1}if(_s=0,Ct=wt=tt=null,il=!1,sl=0,nd.current=null,l===null||l.return===null){Tt=1,cl=s,ft=null;break}e:{var y=i,T=l.return,A=l,R=s;if(s=Lt,A.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){var z=R,Y=A,Z=Y.tag;if((Y.mode&1)===0&&(Z===0||Z===11||Z===15)){var Q=Y.alternate;Q?(Y.updateQueue=Q.updateQueue,Y.memoizedState=Q.memoizedState,Y.lanes=Q.lanes):(Y.updateQueue=null,Y.memoizedState=null)}var se=By(T);if(se!==null){se.flags&=-257,zy(se,T,A,y,s),se.mode&1&&jy(y,z,s),s=se,R=z;var ue=s.updateQueue;if(ue===null){var ce=new Set;ce.add(R),s.updateQueue=ce}else ue.add(R);break e}else{if((s&1)===0){jy(y,z,s),hd();break e}R=Error(t(426))}}else if(Je&&A.mode&1){var lt=By(T);if(lt!==null){(lt.flags&65536)===0&&(lt.flags|=256),zy(lt,T,A,y,s),Ef(No(R,A));break e}}y=R=No(R,A),Tt!==4&&(Tt=2),hl===null?hl=[y]:hl.push(y),y=T;do{switch(y.tag){case 3:y.flags|=65536,s&=-s,y.lanes|=s;var F=Fy(y,R,s);hy(y,F);break e;case 1:A=R;var N=y.type,j=y.stateNode;if((y.flags&128)===0&&(typeof N.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Ai===null||!Ai.has(j)))){y.flags|=65536,s&=-s,y.lanes|=s;var te=Uy(y,A,s);hy(y,te);break e}}y=y.return}while(y!==null)}_v(l)}catch(de){s=de,ft===l&&l!==null&&(ft=l=l.return);continue}break}while(!0)}function yv(){var i=hc.current;return hc.current=sc,i===null?sc:i}function hd(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),xt===null||(ws&268435455)===0&&(fc&268435455)===0||xi(xt,Lt)}function vc(i,s){var l=Oe;Oe|=2;var h=yv();(xt!==i||Lt!==s)&&(zr=null,Es(i,s));do try{T1();break}catch(p){gv(i,p)}while(!0);if(Sf(),Oe=l,hc.current=h,ft!==null)throw Error(t(261));return xt=null,Lt=0,Tt}function T1(){for(;ft!==null;)vv(ft)}function E1(){for(;ft!==null&&!mu();)vv(ft)}function vv(i){var s=Ev(i.alternate,i,_n);i.memoizedProps=i.pendingProps,s===null?_v(i):ft=s,nd.current=null}function _v(i){var s=i;do{var l=s.alternate;if(i=s.return,(s.flags&32768)===0){if(l=p1(l,s,_n),l!==null){ft=l;return}}else{if(l=m1(l,s),l!==null){l.flags&=32767,ft=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Tt=6,ft=null;return}}if(s=s.sibling,s!==null){ft=s;return}ft=s=i}while(s!==null);Tt===0&&(Tt=5)}function Is(i,s,l){var h=Ve,p=xn.transition;try{xn.transition=null,Ve=1,I1(i,s,l,h)}finally{xn.transition=p,Ve=h}return null}function I1(i,s,l,h){do Lo();while(Pi!==null);if((Oe&6)!==0)throw Error(t(327));l=i.finishedWork;var p=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var y=l.lanes|l.childLanes;if($e(i,y),i===xt&&(ft=xt=null,Lt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||pc||(pc=!0,Iv(Tn,function(){return Lo(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=xn.transition,xn.transition=null;var T=Ve;Ve=1;var A=Oe;Oe|=4,nd.current=null,y1(i,l),uv(l,i),$S(hf),mi=!!cf,hf=cf=null,i.current=l,v1(l),qh(),Oe=A,Ve=T,xn.transition=y}else i.current=l;if(pc&&(pc=!1,Pi=i,mc=p),y=i.pendingLanes,y===0&&(Ai=null),vu(l.stateNode),ln(i,We()),s!==null)for(h=i.onRecoverableError,l=0;l<s.length;l++)p=s[l],h(p.value,{componentStack:p.stack,digest:p.digest});if(dc)throw dc=!1,i=sd,sd=null,i;return(mc&1)!==0&&i.tag!==0&&Lo(),y=i.pendingLanes,(y&1)!==0?i===od?fl++:(fl=0,od=i):fl=0,Ti(),null}function Lo(){if(Pi!==null){var i=di(mc),s=xn.transition,l=Ve;try{if(xn.transition=null,Ve=16>i?16:i,Pi===null)var h=!1;else{if(i=Pi,Pi=null,mc=0,(Oe&6)!==0)throw Error(t(331));var p=Oe;for(Oe|=4,le=i.current;le!==null;){var y=le,T=y.child;if((le.flags&16)!==0){var A=y.deletions;if(A!==null){for(var R=0;R<A.length;R++){var z=A[R];for(le=z;le!==null;){var Y=le;switch(Y.tag){case 0:case 11:case 15:ul(8,Y,y)}var Z=Y.child;if(Z!==null)Z.return=Y,le=Z;else for(;le!==null;){Y=le;var Q=Y.sibling,se=Y.return;if(iv(Y),Y===z){le=null;break}if(Q!==null){Q.return=se,le=Q;break}le=se}}}var ue=y.alternate;if(ue!==null){var ce=ue.child;if(ce!==null){ue.child=null;do{var lt=ce.sibling;ce.sibling=null,ce=lt}while(ce!==null)}}le=y}}if((y.subtreeFlags&2064)!==0&&T!==null)T.return=y,le=T;else e:for(;le!==null;){if(y=le,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:ul(9,y,y.return)}var F=y.sibling;if(F!==null){F.return=y.return,le=F;break e}le=y.return}}var N=i.current;for(le=N;le!==null;){T=le;var j=T.child;if((T.subtreeFlags&2064)!==0&&j!==null)j.return=T,le=j;else e:for(T=N;le!==null;){if(A=le,(A.flags&2048)!==0)try{switch(A.tag){case 0:case 11:case 15:cc(9,A)}}catch(de){st(A,A.return,de)}if(A===T){le=null;break e}var te=A.sibling;if(te!==null){te.return=A.return,le=te;break e}le=A.return}}if(Oe=p,Ti(),dn&&typeof dn.onPostCommitFiberRoot=="function")try{dn.onPostCommitFiberRoot(os,i)}catch{}h=!0}return h}finally{Ve=l,xn.transition=s}}return!1}function wv(i,s,l){s=No(l,s),s=Fy(i,s,1),i=Ii(i,s,1),s=Zt(),i!==null&&(hi(i,1,s),ln(i,s))}function st(i,s,l){if(i.tag===3)wv(i,i,l);else for(;s!==null;){if(s.tag===3){wv(s,i,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ai===null||!Ai.has(h))){i=No(l,i),i=Uy(s,i,1),s=Ii(s,i,1),i=Zt(),s!==null&&(hi(s,1,i),ln(s,i));break}}s=s.return}}function S1(i,s,l){var h=i.pingCache;h!==null&&h.delete(s),s=Zt(),i.pingedLanes|=i.suspendedLanes&l,xt===i&&(Lt&l)===l&&(Tt===4||Tt===3&&(Lt&130023424)===Lt&&500>We()-id?Es(i,0):rd|=l),ln(i,s)}function Tv(i,s){s===0&&((i.mode&1)===0?s=1:(s=io,io<<=1,(io&130023424)===0&&(io=4194304)));var l=Zt();i=Ur(i,s),i!==null&&(hi(i,s,l),ln(i,l))}function A1(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),Tv(i,l)}function P1(i,s){var l=0;switch(i.tag){case 13:var h=i.stateNode,p=i.memoizedState;p!==null&&(l=p.retryLane);break;case 19:h=i.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),Tv(i,l)}var Ev;Ev=function(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps||rn.current)on=!0;else{if((i.lanes&l)===0&&(s.flags&128)===0)return on=!1,d1(i,s,l);on=(i.flags&131072)!==0}else on=!1,Je&&(s.flags&1048576)!==0&&ty(s,qu,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;lc(i,s),i=s.pendingProps;var p=So(s,Bt.current);ko(s,l),p=bf(null,s,h,i,p,l);var y=Lf();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,sn(h)?(y=!0,Hu(s)):y=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,xf(s),p.updater=oc,s.stateNode=p,p._reactInternals=s,zf(s,h,i,l),s=Kf(null,s,h,!0,y,l)):(s.tag=0,Je&&y&&vf(s),Jt(null,s,p,l),s=s.child),s;case 16:h=s.elementType;e:{switch(lc(i,s),i=s.pendingProps,p=h._init,h=p(h._payload),s.type=h,p=s.tag=x1(h),i=qn(h,i),p){case 0:s=Wf(null,s,h,i,l);break e;case 1:s=Gy(null,s,h,i,l);break e;case 11:s=$y(null,s,h,i,l);break e;case 14:s=Hy(null,s,h,qn(h.type,i),l);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:qn(h,p),Wf(i,s,h,p,l);case 1:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:qn(h,p),Gy(i,s,h,p,l);case 3:e:{if(Qy(s),i===null)throw Error(t(387));h=s.pendingProps,y=s.memoizedState,p=y.element,cy(i,s),Zu(s,h,null,l);var T=s.memoizedState;if(h=T.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){p=No(Error(t(423)),s),s=Xy(i,s,h,l,p);break e}else if(h!==p){p=No(Error(t(424)),s),s=Xy(i,s,h,l,p);break e}else for(vn=vi(s.stateNode.containerInfo.firstChild),yn=s,Je=!0,Kn=null,l=ly(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Co(),h===p){s=Br(i,s,l);break e}Jt(i,s,h,l)}s=s.child}return s;case 5:return dy(s),i===null&&Tf(s),h=s.type,p=s.pendingProps,y=i!==null?i.memoizedProps:null,T=p.children,ff(h,p)?T=null:y!==null&&ff(h,y)&&(s.flags|=32),qy(i,s),Jt(i,s,T,l),s.child;case 6:return i===null&&Tf(s),null;case 13:return Yy(i,s,l);case 4:return Rf(s,s.stateNode.containerInfo),h=s.pendingProps,i===null?s.child=xo(s,null,h,l):Jt(i,s,h,l),s.child;case 11:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:qn(h,p),$y(i,s,h,p,l);case 7:return Jt(i,s,s.pendingProps,l),s.child;case 8:return Jt(i,s,s.pendingProps.children,l),s.child;case 12:return Jt(i,s,s.pendingProps.children,l),s.child;case 10:e:{if(h=s.type._context,p=s.pendingProps,y=s.memoizedProps,T=p.value,Ke(Xu,h._currentValue),h._currentValue=T,y!==null)if(Wn(y.value,T)){if(y.children===p.children&&!rn.current){s=Br(i,s,l);break e}}else for(y=s.child,y!==null&&(y.return=s);y!==null;){var A=y.dependencies;if(A!==null){T=y.child;for(var R=A.firstContext;R!==null;){if(R.context===h){if(y.tag===1){R=jr(-1,l&-l),R.tag=2;var z=y.updateQueue;if(z!==null){z=z.shared;var Y=z.pending;Y===null?R.next=R:(R.next=Y.next,Y.next=R),z.pending=R}}y.lanes|=l,R=y.alternate,R!==null&&(R.lanes|=l),Pf(y.return,l,s),A.lanes|=l;break}R=R.next}}else if(y.tag===10)T=y.type===s.type?null:y.child;else if(y.tag===18){if(T=y.return,T===null)throw Error(t(341));T.lanes|=l,A=T.alternate,A!==null&&(A.lanes|=l),Pf(T,l,s),T=y.sibling}else T=y.child;if(T!==null)T.return=y;else for(T=y;T!==null;){if(T===s){T=null;break}if(y=T.sibling,y!==null){y.return=T.return,T=y;break}T=T.return}y=T}Jt(i,s,p.children,l),s=s.child}return s;case 9:return p=s.type,h=s.pendingProps.children,ko(s,l),p=Pn(p),h=h(p),s.flags|=1,Jt(i,s,h,l),s.child;case 14:return h=s.type,p=qn(h,s.pendingProps),p=qn(h.type,p),Hy(i,s,h,p,l);case 15:return Wy(i,s,s.type,s.pendingProps,l);case 17:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:qn(h,p),lc(i,s),s.tag=1,sn(h)?(i=!0,Hu(s)):i=!1,ko(s,l),Ly(s,h,p),zf(s,h,p,l),Kf(null,s,h,!0,i,l);case 19:return Zy(i,s,l);case 22:return Ky(i,s,l)}throw Error(t(156,s.tag))};function Iv(i,s){return no(i,s)}function C1(i,s,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(i,s,l,h){return new C1(i,s,l,h)}function fd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function x1(i){if(typeof i=="function")return fd(i)?1:0;if(i!=null){if(i=i.$$typeof,i===b)return 11;if(i===gt)return 14}return 2}function Ri(i,s){var l=i.alternate;return l===null?(l=Rn(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function _c(i,s,l,h,p,y){var T=2;if(h=i,typeof i=="function")fd(i)&&(T=1);else if(typeof i=="string")T=5;else e:switch(i){case k:return Ss(l.children,p,y,s);case S:T=8,p|=8;break;case P:return i=Rn(12,l,s,p|2),i.elementType=P,i.lanes=y,i;case x:return i=Rn(13,l,s,p),i.elementType=x,i.lanes=y,i;case Xe:return i=Rn(19,l,s,p),i.elementType=Xe,i.lanes=y,i;case Ie:return wc(l,p,y,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case D:T=10;break e;case V:T=9;break e;case b:T=11;break e;case gt:T=14;break e;case Nt:T=16,h=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return s=Rn(T,l,s,p),s.elementType=i,s.type=h,s.lanes=y,s}function Ss(i,s,l,h){return i=Rn(7,i,h,s),i.lanes=l,i}function wc(i,s,l,h){return i=Rn(22,i,h,s),i.elementType=Ie,i.lanes=l,i.stateNode={isHidden:!1},i}function dd(i,s,l){return i=Rn(6,i,null,s),i.lanes=l,i}function pd(i,s,l){return s=Rn(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function R1(i,s,l,h,p){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ci(0),this.expirationTimes=ci(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ci(0),this.identifierPrefix=h,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function md(i,s,l,h,p,y,T,A,R){return i=new R1(i,s,l,A,R),s===1?(s=1,y===!0&&(s|=8)):s=0,y=Rn(3,null,null,s),i.current=y,y.stateNode=i,y.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},xf(y),i}function k1(i,s,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fe,key:h==null?null:""+h,children:i,containerInfo:s,implementation:l}}function Sv(i){if(!i)return wi;i=i._reactInternals;e:{if(Fn(i)!==i||i.tag!==1)throw Error(t(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(sn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(i.tag===1){var l=i.type;if(sn(l))return Jg(i,l,s)}return s}function Av(i,s,l,h,p,y,T,A,R){return i=md(l,h,!0,i,p,y,T,A,R),i.context=Sv(null),l=i.current,h=Zt(),p=Ci(l),y=jr(h,p),y.callback=s??null,Ii(l,y,p),i.current.lanes=p,hi(i,p,h),ln(i,h),i}function Tc(i,s,l,h){var p=s.current,y=Zt(),T=Ci(p);return l=Sv(l),s.context===null?s.context=l:s.pendingContext=l,s=jr(y,T),s.payload={element:i},h=h===void 0?null:h,h!==null&&(s.callback=h),i=Ii(p,s,T),i!==null&&(Xn(i,p,T,y),Ju(i,p,T)),T}function Ec(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Pv(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function gd(i,s){Pv(i,s),(i=i.alternate)&&Pv(i,s)}function D1(){return null}var Cv=typeof reportError=="function"?reportError:function(i){console.error(i)};function yd(i){this._internalRoot=i}Ic.prototype.render=yd.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(t(409));Tc(i,s,null,null)},Ic.prototype.unmount=yd.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Ts(function(){Tc(null,i,null,null)}),s[br]=null}};function Ic(i){this._internalRoot=i}Ic.prototype.unstable_scheduleHydration=function(i){if(i){var s=Iu();i={blockedOn:null,target:i,priority:s};for(var l=0;l<sr.length&&s!==0&&s<sr[l].priority;l++);sr.splice(l,0,i),l===0&&Pu(i)}};function vd(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Sc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function xv(){}function N1(i,s,l,h,p){if(p){if(typeof h=="function"){var y=h;h=function(){var z=Ec(T);y.call(z)}}var T=Av(s,h,i,0,null,!1,!1,"",xv);return i._reactRootContainer=T,i[br]=T.current,Xa(i.nodeType===8?i.parentNode:i),Ts(),T}for(;p=i.lastChild;)i.removeChild(p);if(typeof h=="function"){var A=h;h=function(){var z=Ec(R);A.call(z)}}var R=md(i,0,!1,null,null,!1,!1,"",xv);return i._reactRootContainer=R,i[br]=R.current,Xa(i.nodeType===8?i.parentNode:i),Ts(function(){Tc(s,R,l,h)}),R}function Ac(i,s,l,h,p){var y=l._reactRootContainer;if(y){var T=y;if(typeof p=="function"){var A=p;p=function(){var R=Ec(T);A.call(R)}}Tc(s,T,i,p)}else T=N1(l,s,i,p,h);return Ec(T)}Tu=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var l=ui(s.pendingLanes);l!==0&&(fi(s,l|1),ln(s,We()),(Oe&6)===0&&(bo=We()+500,Ti()))}break;case 13:Ts(function(){var h=Ur(i,1);if(h!==null){var p=Zt();Xn(h,i,1,p)}}),gd(i,1)}},so=function(i){if(i.tag===13){var s=Ur(i,134217728);if(s!==null){var l=Zt();Xn(s,i,134217728,l)}gd(i,134217728)}},Eu=function(i){if(i.tag===13){var s=Ci(i),l=Ur(i,s);if(l!==null){var h=Zt();Xn(l,i,s,h)}gd(i,s)}},Iu=function(){return Ve},Su=function(i,s){var l=Ve;try{return Ve=i,s()}finally{Ve=l}},Xs=function(i,s,l){switch(s){case"input":if(Ta(i,l),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==i&&h.form===i.form){var p=zu(h);if(!p)throw Error(t(90));Hs(h),Ta(h,p)}}}break;case"textarea":Gs(i,l);break;case"select":s=l.value,s!=null&&Cr(i,!!l.multiple,s,!1)}},ts=ud,Da=Ts;var V1={usingClientEntryPoint:!1,Events:[Za,Eo,zu,rr,ka,ud]},dl={findFiberByHostInstance:ds,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},M1={bundleType:dl.bundleType,version:dl.version,rendererPackageName:dl.rendererPackageName,rendererConfig:dl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ie.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Ma(i),i===null?null:i.stateNode},findFiberByHostInstance:dl.findFiberByHostInstance||D1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pc.isDisabled&&Pc.supportsFiber)try{os=Pc.inject(M1),dn=Pc}catch{}}return un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V1,un.createPortal=function(i,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vd(s))throw Error(t(200));return k1(i,s,null,l)},un.createRoot=function(i,s){if(!vd(i))throw Error(t(299));var l=!1,h="",p=Cv;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=md(i,1,!1,null,null,l,!1,h,p),i[br]=s.current,Xa(i.nodeType===8?i.parentNode:i),new yd(s)},un.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Ma(s),i=i===null?null:i.stateNode,i},un.flushSync=function(i){return Ts(i)},un.hydrate=function(i,s,l){if(!Sc(s))throw Error(t(200));return Ac(null,i,s,!0,l)},un.hydrateRoot=function(i,s,l){if(!vd(i))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,p=!1,y="",T=Cv;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(T=l.onRecoverableError)),s=Av(s,null,i,1,l??null,p,!1,y,T),i[br]=s.current,Xa(i),h)for(i=0;i<h.length;i++)l=h[i],p=l._getVersion,p=p(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,p]:s.mutableSourceEagerHydrationData.push(l,p);return new Ic(s)},un.render=function(i,s,l){if(!Sc(s))throw Error(t(200));return Ac(null,i,s,!1,l)},un.unmountComponentAtNode=function(i){if(!Sc(i))throw Error(t(40));return i._reactRootContainer?(Ts(function(){Ac(null,null,i,!1,function(){i._reactRootContainer=null,i[br]=null})}),!0):!1},un.unstable_batchedUpdates=ud,un.unstable_renderSubtreeIntoContainer=function(i,s,l,h){if(!Sc(l))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return Ac(i,s,l,!1,h)},un.version="18.3.1-next-f1338f8080-20240426",un}var g_;function hR(){if(g_)return kd.exports;g_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),kd.exports=cR(),kd.exports}var y_;function fR(){if(y_)return kc;y_=1;var n=hR();return kc.createRoot=n.createRoot,kc.hydrateRoot=n.hydrateRoot,kc}var dR=fR();const xT=Pe.createContext({});function pR(n){const e=Pe.useRef(null);return e.current===null&&(e.current=n()),e.current}const dm=typeof window<"u",mR=dm?Pe.useLayoutEffect:Pe.useEffect,pm=Pe.createContext(null);function mm(n,e){n.indexOf(e)===-1&&n.push(e)}function gm(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const ti=(n,e,t)=>t>e?e:t<n?n:t;let ym=()=>{};const ni={},RT=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function kT(n){return typeof n=="object"&&n!==null}const DT=n=>/^0[^.\s]+$/u.test(n);function vm(n){let e;return()=>(e===void 0&&(e=n()),e)}const Mn=n=>n,gR=(n,e)=>t=>e(n(t)),ru=(...n)=>n.reduce(gR),Fl=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r};class _m{constructor(){this.subscriptions=[]}add(e){return mm(this.subscriptions,e),()=>gm(this.subscriptions,e)}notify(e,t,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,t,r);else for(let a=0;a<o;a++){const u=this.subscriptions[a];u&&u(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const mr=n=>n*1e3,gr=n=>n/1e3;function NT(n,e){return e?n*(1e3/e):0}const VT=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,yR=1e-7,vR=12;function _R(n,e,t,r,o){let a,u,f=0;do u=e+(t-e)/2,a=VT(u,r,o)-n,a>0?t=u:e=u;while(Math.abs(a)>yR&&++f<vR);return u}function iu(n,e,t,r){if(n===e&&t===r)return Mn;const o=a=>_R(a,0,1,n,t);return a=>a===0||a===1?a:VT(o(a),e,r)}const MT=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,bT=n=>e=>1-n(1-e),LT=iu(.33,1.53,.69,.99),wm=bT(LT),OT=MT(wm),FT=n=>(n*=2)<1?.5*wm(n):.5*(2-Math.pow(2,-10*(n-1))),Tm=n=>1-Math.sin(Math.acos(n)),UT=bT(Tm),jT=MT(Tm),wR=iu(.42,0,1,1),TR=iu(0,0,.58,1),BT=iu(.42,0,.58,1),ER=n=>Array.isArray(n)&&typeof n[0]!="number",zT=n=>Array.isArray(n)&&typeof n[0]=="number",IR={linear:Mn,easeIn:wR,easeInOut:BT,easeOut:TR,circIn:Tm,circInOut:jT,circOut:UT,backIn:wm,backInOut:OT,backOut:LT,anticipate:FT},SR=n=>typeof n=="string",v_=n=>{if(zT(n)){ym(n.length===4);const[e,t,r,o]=n;return iu(e,t,r,o)}else if(SR(n))return IR[n];return n},Dc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function AR(n,e){let t=new Set,r=new Set,o=!1,a=!1;const u=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function d(v){u.has(v)&&(m.schedule(v),n()),v(f)}const m={schedule:(v,w=!1,E=!1)=>{const O=E&&o?t:r;return w&&u.add(v),O.has(v)||O.add(v),v},cancel:v=>{r.delete(v),u.delete(v)},process:v=>{if(f=v,o){a=!0;return}o=!0,[t,r]=[r,t],t.forEach(d),t.clear(),o=!1,a&&(a=!1,m.process(v))}};return m}const PR=40;function $T(n,e){let t=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},a=()=>t=!0,u=Dc.reduce((q,ie)=>(q[ie]=AR(a),q),{}),{setup:f,read:d,resolveKeyframes:m,preUpdate:v,update:w,preRender:E,render:C,postRender:O}=u,B=()=>{const q=ni.useManualTiming?o.timestamp:performance.now();t=!1,ni.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(q-o.timestamp,PR),1)),o.timestamp=q,o.isProcessing=!0,f.process(o),d.process(o),m.process(o),v.process(o),w.process(o),E.process(o),C.process(o),O.process(o),o.isProcessing=!1,t&&e&&(r=!1,n(B))},U=()=>{t=!0,r=!0,o.isProcessing||n(B)};return{schedule:Dc.reduce((q,ie)=>{const oe=u[ie];return q[ie]=(fe,k=!1,S=!1)=>(t||U(),oe.schedule(fe,k,S)),q},{}),cancel:q=>{for(let ie=0;ie<Dc.length;ie++)u[Dc[ie]].cancel(q)},state:o,steps:u}}const{schedule:Ze,cancel:zi,state:Ot,steps:Vd}=$T(typeof requestAnimationFrame<"u"?requestAnimationFrame:Mn,!0);let $c;function CR(){$c=void 0}const fn={now:()=>($c===void 0&&fn.set(Ot.isProcessing||ni.useManualTiming?Ot.timestamp:performance.now()),$c),set:n=>{$c=n,queueMicrotask(CR)}},HT=n=>e=>typeof e=="string"&&e.startsWith(n),Em=HT("--"),xR=HT("var(--"),Im=n=>xR(n)?RR.test(n.split("/*")[0].trim()):!1,RR=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,da={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Ul={...da,transform:n=>ti(0,1,n)},Nc={...da,default:1},Sl=n=>Math.round(n*1e5)/1e5,Sm=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function kR(n){return n==null}const DR=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Am=(n,e)=>t=>!!(typeof t=="string"&&DR.test(t)&&t.startsWith(n)||e&&!kR(t)&&Object.prototype.hasOwnProperty.call(t,e)),WT=(n,e,t)=>r=>{if(typeof r!="string")return r;const[o,a,u,f]=r.match(Sm);return{[n]:parseFloat(o),[e]:parseFloat(a),[t]:parseFloat(u),alpha:f!==void 0?parseFloat(f):1}},NR=n=>ti(0,255,n),Md={...da,transform:n=>Math.round(NR(n))},Rs={test:Am("rgb","red"),parse:WT("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+Md.transform(n)+", "+Md.transform(e)+", "+Md.transform(t)+", "+Sl(Ul.transform(r))+")"};function VR(n){let e="",t="",r="",o="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),o=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),o=n.substring(4,5),e+=e,t+=t,r+=r,o+=o),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const cp={test:Am("#"),parse:VR,transform:Rs.transform},su=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Ni=su("deg"),yr=su("%"),we=su("px"),MR=su("vh"),bR=su("vw"),__={...yr,parse:n=>yr.parse(n)/100,transform:n=>yr.transform(n*100)},Ho={test:Am("hsl","hue"),parse:WT("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+yr.transform(Sl(e))+", "+yr.transform(Sl(t))+", "+Sl(Ul.transform(r))+")"},pt={test:n=>Rs.test(n)||cp.test(n)||Ho.test(n),parse:n=>Rs.test(n)?Rs.parse(n):Ho.test(n)?Ho.parse(n):cp.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Rs.transform(n):Ho.transform(n),getAnimatableNone:n=>{const e=pt.parse(n);return e.alpha=0,pt.transform(e)}},LR=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function OR(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(Sm))==null?void 0:e.length)||0)+(((t=n.match(LR))==null?void 0:t.length)||0)>0}const KT="number",qT="color",FR="var",UR="var(",w_="${}",jR=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function jl(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},o=[];let a=0;const f=e.replace(jR,d=>(pt.test(d)?(r.color.push(a),o.push(qT),t.push(pt.parse(d))):d.startsWith(UR)?(r.var.push(a),o.push(FR),t.push(d)):(r.number.push(a),o.push(KT),t.push(parseFloat(d))),++a,w_)).split(w_);return{values:t,split:f,indexes:r,types:o}}function GT(n){return jl(n).values}function QT(n){const{split:e,types:t}=jl(n),r=e.length;return o=>{let a="";for(let u=0;u<r;u++)if(a+=e[u],o[u]!==void 0){const f=t[u];f===KT?a+=Sl(o[u]):f===qT?a+=pt.transform(o[u]):a+=o[u]}return a}}const BR=n=>typeof n=="number"?0:pt.test(n)?pt.getAnimatableNone(n):n;function zR(n){const e=GT(n);return QT(n)(e.map(BR))}const $i={test:OR,parse:GT,createTransformer:QT,getAnimatableNone:zR};function bd(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function $R({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let o=0,a=0,u=0;if(!e)o=a=u=t;else{const f=t<.5?t*(1+e):t+e-t*e,d=2*t-f;o=bd(d,f,n+1/3),a=bd(d,f,n),u=bd(d,f,n-1/3)}return{red:Math.round(o*255),green:Math.round(a*255),blue:Math.round(u*255),alpha:r}}function ah(n,e){return t=>t>0?e:n}const rt=(n,e,t)=>n+(e-n)*t,Ld=(n,e,t)=>{const r=n*n,o=t*(e*e-r)+r;return o<0?0:Math.sqrt(o)},HR=[cp,Rs,Ho],WR=n=>HR.find(e=>e.test(n));function T_(n){const e=WR(n);if(!e)return!1;let t=e.parse(n);return e===Ho&&(t=$R(t)),t}const E_=(n,e)=>{const t=T_(n),r=T_(e);if(!t||!r)return ah(n,e);const o={...t};return a=>(o.red=Ld(t.red,r.red,a),o.green=Ld(t.green,r.green,a),o.blue=Ld(t.blue,r.blue,a),o.alpha=rt(t.alpha,r.alpha,a),Rs.transform(o))},hp=new Set(["none","hidden"]);function KR(n,e){return hp.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function qR(n,e){return t=>rt(n,e,t)}function Pm(n){return typeof n=="number"?qR:typeof n=="string"?Im(n)?ah:pt.test(n)?E_:XR:Array.isArray(n)?XT:typeof n=="object"?pt.test(n)?E_:GR:ah}function XT(n,e){const t=[...n],r=t.length,o=n.map((a,u)=>Pm(a)(a,e[u]));return a=>{for(let u=0;u<r;u++)t[u]=o[u](a);return t}}function GR(n,e){const t={...n,...e},r={};for(const o in t)n[o]!==void 0&&e[o]!==void 0&&(r[o]=Pm(n[o])(n[o],e[o]));return o=>{for(const a in r)t[a]=r[a](o);return t}}function QR(n,e){const t=[],r={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const a=e.types[o],u=n.indexes[a][r[a]],f=n.values[u]??0;t[o]=f,r[a]++}return t}const XR=(n,e)=>{const t=$i.createTransformer(e),r=jl(n),o=jl(e);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?hp.has(n)&&!o.values.length||hp.has(e)&&!r.values.length?KR(n,e):ru(XT(QR(r,o),o.values),t):ah(n,e)};function YT(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?rt(n,e,t):Pm(n)(n,e)}const YR=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>Ze.update(e,t),stop:()=>zi(e),now:()=>Ot.isProcessing?Ot.timestamp:fn.now()}},JT=(n,e,t=10)=>{let r="";const o=Math.max(Math.round(e/t),2);for(let a=0;a<o;a++)r+=Math.round(n(a/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},lh=2e4;function Cm(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<lh;)e+=t,r=n.next(e);return e>=lh?1/0:e}function JR(n,e=100,t){const r=t({...n,keyframes:[0,e]}),o=Math.min(Cm(r),lh);return{type:"keyframes",ease:a=>r.next(o*a).value/e,duration:gr(o)}}const ZR=5;function ZT(n,e,t){const r=Math.max(e-ZR,0);return NT(t-n(r),e-r)}const ot={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Od=.001;function ek({duration:n=ot.duration,bounce:e=ot.bounce,velocity:t=ot.velocity,mass:r=ot.mass}){let o,a,u=1-e;u=ti(ot.minDamping,ot.maxDamping,u),n=ti(ot.minDuration,ot.maxDuration,gr(n)),u<1?(o=m=>{const v=m*u,w=v*n,E=v-t,C=fp(m,u),O=Math.exp(-w);return Od-E/C*O},a=m=>{const w=m*u*n,E=w*t+t,C=Math.pow(u,2)*Math.pow(m,2)*n,O=Math.exp(-w),B=fp(Math.pow(m,2),u);return(-o(m)+Od>0?-1:1)*((E-C)*O)/B}):(o=m=>{const v=Math.exp(-m*n),w=(m-t)*n+1;return-Od+v*w},a=m=>{const v=Math.exp(-m*n),w=(t-m)*(n*n);return v*w});const f=5/n,d=nk(o,a,f);if(n=mr(n),isNaN(d))return{stiffness:ot.stiffness,damping:ot.damping,duration:n};{const m=Math.pow(d,2)*r;return{stiffness:m,damping:u*2*Math.sqrt(r*m),duration:n}}}const tk=12;function nk(n,e,t){let r=t;for(let o=1;o<tk;o++)r=r-n(r)/e(r);return r}function fp(n,e){return n*Math.sqrt(1-e*e)}const rk=["duration","bounce"],ik=["stiffness","damping","mass"];function I_(n,e){return e.some(t=>n[t]!==void 0)}function sk(n){let e={velocity:ot.velocity,stiffness:ot.stiffness,damping:ot.damping,mass:ot.mass,isResolvedFromDuration:!1,...n};if(!I_(n,ik)&&I_(n,rk))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),o=r*r,a=2*ti(.05,1,1-(n.bounce||0))*Math.sqrt(o);e={...e,mass:ot.mass,stiffness:o,damping:a}}else{const t=ek(n);e={...e,...t,mass:ot.mass},e.isResolvedFromDuration=!0}return e}function uh(n=ot.visualDuration,e=ot.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:o}=t;const a=t.keyframes[0],u=t.keyframes[t.keyframes.length-1],f={done:!1,value:a},{stiffness:d,damping:m,mass:v,duration:w,velocity:E,isResolvedFromDuration:C}=sk({...t,velocity:-gr(t.velocity||0)}),O=E||0,B=m/(2*Math.sqrt(d*v)),U=u-a,H=gr(Math.sqrt(d/v)),X=Math.abs(U)<5;r||(r=X?ot.restSpeed.granular:ot.restSpeed.default),o||(o=X?ot.restDelta.granular:ot.restDelta.default);let q;if(B<1){const oe=fp(H,B);q=fe=>{const k=Math.exp(-B*H*fe);return u-k*((O+B*H*U)/oe*Math.sin(oe*fe)+U*Math.cos(oe*fe))}}else if(B===1)q=oe=>u-Math.exp(-H*oe)*(U+(O+H*U)*oe);else{const oe=H*Math.sqrt(B*B-1);q=fe=>{const k=Math.exp(-B*H*fe),S=Math.min(oe*fe,300);return u-k*((O+B*H*U)*Math.sinh(S)+oe*U*Math.cosh(S))/oe}}const ie={calculatedDuration:C&&w||null,next:oe=>{const fe=q(oe);if(C)f.done=oe>=w;else{let k=oe===0?O:0;B<1&&(k=oe===0?mr(O):ZT(q,oe,fe));const S=Math.abs(k)<=r,P=Math.abs(u-fe)<=o;f.done=S&&P}return f.value=f.done?u:fe,f},toString:()=>{const oe=Math.min(Cm(ie),lh),fe=JT(k=>ie.next(oe*k).value,oe,30);return oe+"ms "+fe},toTransition:()=>{}};return ie}uh.applyToOptions=n=>{const e=JR(n,100,uh);return n.ease=e.ease,n.duration=mr(e.duration),n.type="keyframes",n};function dp({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:a=500,modifyTarget:u,min:f,max:d,restDelta:m=.5,restSpeed:v}){const w=n[0],E={done:!1,value:w},C=S=>f!==void 0&&S<f||d!==void 0&&S>d,O=S=>f===void 0?d:d===void 0||Math.abs(f-S)<Math.abs(d-S)?f:d;let B=t*e;const U=w+B,H=u===void 0?U:u(U);H!==U&&(B=H-w);const X=S=>-B*Math.exp(-S/r),q=S=>H+X(S),ie=S=>{const P=X(S),D=q(S);E.done=Math.abs(P)<=m,E.value=E.done?H:D};let oe,fe;const k=S=>{C(E.value)&&(oe=S,fe=uh({keyframes:[E.value,O(E.value)],velocity:ZT(q,S,E.value),damping:o,stiffness:a,restDelta:m,restSpeed:v}))};return k(0),{calculatedDuration:null,next:S=>{let P=!1;return!fe&&oe===void 0&&(P=!0,ie(S),k(S)),oe!==void 0&&S>=oe?fe.next(S-oe):(!P&&ie(S),E)}}}function ok(n,e,t){const r=[],o=t||ni.mix||YT,a=n.length-1;for(let u=0;u<a;u++){let f=o(n[u],n[u+1]);if(e){const d=Array.isArray(e)?e[u]||Mn:e;f=ru(d,f)}r.push(f)}return r}function ak(n,e,{clamp:t=!0,ease:r,mixer:o}={}){const a=n.length;if(ym(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const u=n[0]===n[1];n[0]>n[a-1]&&(n=[...n].reverse(),e=[...e].reverse());const f=ok(e,r,o),d=f.length,m=v=>{if(u&&v<n[0])return e[0];let w=0;if(d>1)for(;w<n.length-2&&!(v<n[w+1]);w++);const E=Fl(n[w],n[w+1],v);return f[w](E)};return t?v=>m(ti(n[0],n[a-1],v)):m}function lk(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const o=Fl(0,e,r);n.push(rt(t,1,o))}}function uk(n){const e=[0];return lk(e,n.length-1),e}function ck(n,e){return n.map(t=>t*e)}function hk(n,e){return n.map(()=>e||BT).splice(0,n.length-1)}function Al({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const o=ER(r)?r.map(v_):v_(r),a={done:!1,value:e[0]},u=ck(t&&t.length===e.length?t:uk(e),n),f=ak(u,e,{ease:Array.isArray(o)?o:hk(e,o)});return{calculatedDuration:n,next:d=>(a.value=f(d),a.done=d>=n,a)}}const fk=n=>n!==null;function xm(n,{repeat:e,repeatType:t="loop"},r,o=1){const a=n.filter(fk),f=o<0||e&&t!=="loop"&&e%2===1?0:a.length-1;return!f||r===void 0?a[f]:r}const dk={decay:dp,inertia:dp,tween:Al,keyframes:Al,spring:uh};function eE(n){typeof n.type=="string"&&(n.type=dk[n.type])}class Rm{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const pk=n=>n/100;class km extends Rm{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,o;const{motionValue:t}=this.options;t&&t.updatedAt!==fn.now()&&this.tick(fn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(o=(r=this.options).onStop)==null||o.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;eE(e);const{type:t=Al,repeat:r=0,repeatDelay:o=0,repeatType:a,velocity:u=0}=e;let{keyframes:f}=e;const d=t||Al;d!==Al&&typeof f[0]!="number"&&(this.mixKeyframes=ru(pk,YT(f[0],f[1])),f=[0,100]);const m=d({...e,keyframes:f});a==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...f].reverse(),velocity:-u})),m.calculatedDuration===null&&(m.calculatedDuration=Cm(m));const{calculatedDuration:v}=m;this.calculatedDuration=v,this.resolvedDuration=v+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=m}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:r,totalDuration:o,mixKeyframes:a,mirroredGenerator:u,resolvedDuration:f,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:m=0,keyframes:v,repeat:w,repeatType:E,repeatDelay:C,type:O,onUpdate:B,finalKeyframe:U}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const H=this.currentTime-m*(this.playbackSpeed>=0?1:-1),X=this.playbackSpeed>=0?H<0:H>o;this.currentTime=Math.max(H,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let q=this.currentTime,ie=r;if(w){const S=Math.min(this.currentTime,o)/f;let P=Math.floor(S),D=S%1;!D&&S>=1&&(D=1),D===1&&P--,P=Math.min(P,w+1),!!(P%2)&&(E==="reverse"?(D=1-D,C&&(D-=C/f)):E==="mirror"&&(ie=u)),q=ti(0,1,D)*f}const oe=X?{done:!1,value:v[0]}:ie.next(q);a&&(oe.value=a(oe.value));let{done:fe}=oe;!X&&d!==null&&(fe=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&fe);return k&&O!==dp&&(oe.value=xm(v,this.options,U,this.speed)),B&&B(oe.value),k&&this.finish(),oe}then(e,t){return this.finished.then(e,t)}get duration(){return gr(this.calculatedDuration)}get time(){return gr(this.currentTime)}set time(e){var t;e=mr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(t=this.driver)==null||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(fn.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=gr(this.currentTime))}play(){var o,a;if(this.isStopped)return;const{driver:e=YR,startTime:t}=this.options;this.driver||(this.driver=e(u=>this.tick(u))),(a=(o=this.options).onPlay)==null||a.call(o);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=t??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(fn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",(t=(e=this.options).onComplete)==null||t.call(e)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(t=(e=this.options).onCancel)==null||t.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(t=this.driver)==null||t.stop(),e.observe(this)}}function mk(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const ks=n=>n*180/Math.PI,pp=n=>{const e=ks(Math.atan2(n[1],n[0]));return mp(e)},gk={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:pp,rotateZ:pp,skewX:n=>ks(Math.atan(n[1])),skewY:n=>ks(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},mp=n=>(n=n%360,n<0&&(n+=360),n),S_=pp,A_=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),P_=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),yk={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:A_,scaleY:P_,scale:n=>(A_(n)+P_(n))/2,rotateX:n=>mp(ks(Math.atan2(n[6],n[5]))),rotateY:n=>mp(ks(Math.atan2(-n[2],n[0]))),rotateZ:S_,rotate:S_,skewX:n=>ks(Math.atan(n[4])),skewY:n=>ks(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function gp(n){return n.includes("scale")?1:0}function yp(n,e){if(!n||n==="none")return gp(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(t)r=yk,o=t;else{const f=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=gk,o=f}if(!o)return gp(e);const a=r[e],u=o[1].split(",").map(_k);return typeof a=="function"?a(u):u[a]}const vk=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return yp(t,e)};function _k(n){return parseFloat(n.trim())}const pa=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ma=new Set(pa),C_=n=>n===da||n===we,wk=new Set(["x","y","z"]),Tk=pa.filter(n=>!wk.has(n));function Ek(n){const e=[];return Tk.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const Vs={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>yp(e,"x"),y:(n,{transform:e})=>yp(e,"y")};Vs.translateX=Vs.x;Vs.translateY=Vs.y;const Ms=new Set;let vp=!1,_p=!1,wp=!1;function tE(){if(_p){const n=Array.from(Ms).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const o=Ek(r);o.length&&(t.set(r,o),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const o=t.get(r);o&&o.forEach(([a,u])=>{var f;(f=r.getValue(a))==null||f.set(u)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}_p=!1,vp=!1,Ms.forEach(n=>n.complete(wp)),Ms.clear()}function nE(){Ms.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(_p=!0)})}function Ik(){wp=!0,nE(),tE(),wp=!1}class Dm{constructor(e,t,r,o,a,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=o,this.element=a,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Ms.add(this),vp||(vp=!0,Ze.read(nE),Ze.resolveKeyframes(tE))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:o}=this;if(e[0]===null){const a=o==null?void 0:o.get(),u=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&t){const f=r.readValue(t,u);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=u),o&&a===void 0&&o.set(e[0])}mk(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ms.delete(this)}cancel(){this.state==="scheduled"&&(Ms.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Sk=n=>n.startsWith("--");function Ak(n,e,t){Sk(e)?n.style.setProperty(e,t):n.style[e]=t}const Pk=vm(()=>window.ScrollTimeline!==void 0),Ck={};function xk(n,e){const t=vm(n);return()=>Ck[e]??t()}const rE=xk(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),yl=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,x_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:yl([0,.65,.55,1]),circOut:yl([.55,0,1,.45]),backIn:yl([.31,.01,.66,-.59]),backOut:yl([.33,1.53,.69,.99])};function iE(n,e){if(n)return typeof n=="function"?rE()?JT(n,e):"ease-out":zT(n)?yl(n):Array.isArray(n)?n.map(t=>iE(t,e)||x_.easeOut):x_[n]}function Rk(n,e,t,{delay:r=0,duration:o=300,repeat:a=0,repeatType:u="loop",ease:f="easeOut",times:d}={},m=void 0){const v={[e]:t};d&&(v.offset=d);const w=iE(f,o);Array.isArray(w)&&(v.easing=w);const E={delay:r,duration:o,easing:Array.isArray(w)?"linear":w,fill:"both",iterations:a+1,direction:u==="reverse"?"alternate":"normal"};return m&&(E.pseudoElement=m),n.animate(v,E)}function sE(n){return typeof n=="function"&&"applyToOptions"in n}function kk({type:n,...e}){return sE(n)&&rE()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Dk extends Rm{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:r,keyframes:o,pseudoElement:a,allowFlatten:u=!1,finalKeyframe:f,onComplete:d}=e;this.isPseudoElement=!!a,this.allowFlatten=u,this.options=e,ym(typeof e.type!="string");const m=kk(e);this.animation=Rk(t,r,o,m,a),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const v=xm(o,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(v):Ak(t,r,v),this.animation.cancel()}d==null||d(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;(t=(e=this.animation).finish)==null||t.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(t=(e=this.animation).commitStyles)==null||t.call(e)}get duration(){var t,r;const e=((r=(t=this.animation.effect)==null?void 0:t.getComputedTiming)==null?void 0:r.call(t).duration)||0;return gr(Number(e))}get time(){return gr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=mr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&Pk()?(this.animation.timeline=e,Mn):t(this)}}const oE={anticipate:FT,backInOut:OT,circInOut:jT};function Nk(n){return n in oE}function Vk(n){typeof n.ease=="string"&&Nk(n.ease)&&(n.ease=oE[n.ease])}const R_=10;class Mk extends Dk{constructor(e){Vk(e),eE(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:r,onComplete:o,element:a,...u}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const f=new km({...u,autoplay:!1}),d=mr(this.finishedTime??this.time);t.setWithVelocity(f.sample(d-R_).value,f.sample(d).value,R_),f.stop()}}const k_=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&($i.test(n)||n==="0")&&!n.startsWith("url("));function bk(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function Lk(n,e,t,r){const o=n[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const a=n[n.length-1],u=k_(o,e),f=k_(a,e);return!u||!f?!1:bk(n)||(t==="spring"||sE(t))&&r}function Tp(n){n.duration=0,n.type}const Ok=new Set(["opacity","clipPath","filter","transform"]),Fk=vm(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Uk(n){var v;const{motionValue:e,name:t,repeatDelay:r,repeatType:o,damping:a,type:u}=n;if(!(((v=e==null?void 0:e.owner)==null?void 0:v.current)instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:m}=e.owner.getProps();return Fk()&&t&&Ok.has(t)&&(t!=="transform"||!m)&&!d&&!r&&o!=="mirror"&&a!==0&&u!=="inertia"}const jk=40;class Bk extends Rm{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:u="loop",keyframes:f,name:d,motionValue:m,element:v,...w}){var O;super(),this.stop=()=>{var B,U;this._animation&&(this._animation.stop(),(B=this.stopTimeline)==null||B.call(this)),(U=this.keyframeResolver)==null||U.cancel()},this.createdAt=fn.now();const E={autoplay:e,delay:t,type:r,repeat:o,repeatDelay:a,repeatType:u,name:d,motionValue:m,element:v,...w},C=(v==null?void 0:v.KeyframeResolver)||Dm;this.keyframeResolver=new C(f,(B,U,H)=>this.onKeyframesResolved(B,U,E,!H),d,m,v),(O=this.keyframeResolver)==null||O.scheduleResolve()}onKeyframesResolved(e,t,r,o){this.keyframeResolver=void 0;const{name:a,type:u,velocity:f,delay:d,isHandoff:m,onUpdate:v}=r;this.resolvedAt=fn.now(),Lk(e,a,u,f)||((ni.instantAnimations||!d)&&(v==null||v(xm(e,r,t))),e[0]=e[e.length-1],Tp(r),r.repeat=0);const E={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>jk?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...r,keyframes:e},C=!m&&Uk(E)?new Mk({...E,element:E.motionValue.owner.current}):new km(E);C.finished.then(()=>this.notifyFinished()).catch(Mn),this.pendingTimeline&&(this.stopTimeline=C.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=C}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),Ik()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const zk=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function $k(n){const e=zk.exec(n);if(!e)return[,];const[,t,r,o]=e;return[`--${t??r}`,o]}function aE(n,e,t=1){const[r,o]=$k(n);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const u=a.trim();return RT(u)?parseFloat(u):u}return Im(o)?aE(o,e,t+1):o}function Nm(n,e){return(n==null?void 0:n[e])??(n==null?void 0:n.default)??n}const lE=new Set(["width","height","top","left","right","bottom",...pa]),Hk={test:n=>n==="auto",parse:n=>n},uE=n=>e=>e.test(n),cE=[da,we,yr,Ni,bR,MR,Hk],D_=n=>cE.find(uE(n));function Wk(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||DT(n):!0}const Kk=new Set(["brightness","contrast","saturate","opacity"]);function qk(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(Sm)||[];if(!r)return n;const o=t.replace(r,"");let a=Kk.has(e)?1:0;return r!==t&&(a*=100),e+"("+a+o+")"}const Gk=/\b([a-z-]*)\(.*?\)/gu,Ep={...$i,getAnimatableNone:n=>{const e=n.match(Gk);return e?e.map(qk).join(" "):n}},N_={...da,transform:Math.round},Qk={rotate:Ni,rotateX:Ni,rotateY:Ni,rotateZ:Ni,scale:Nc,scaleX:Nc,scaleY:Nc,scaleZ:Nc,skew:Ni,skewX:Ni,skewY:Ni,distance:we,translateX:we,translateY:we,translateZ:we,x:we,y:we,z:we,perspective:we,transformPerspective:we,opacity:Ul,originX:__,originY:__,originZ:we},Vm={borderWidth:we,borderTopWidth:we,borderRightWidth:we,borderBottomWidth:we,borderLeftWidth:we,borderRadius:we,radius:we,borderTopLeftRadius:we,borderTopRightRadius:we,borderBottomRightRadius:we,borderBottomLeftRadius:we,width:we,maxWidth:we,height:we,maxHeight:we,top:we,right:we,bottom:we,left:we,padding:we,paddingTop:we,paddingRight:we,paddingBottom:we,paddingLeft:we,margin:we,marginTop:we,marginRight:we,marginBottom:we,marginLeft:we,backgroundPositionX:we,backgroundPositionY:we,...Qk,zIndex:N_,fillOpacity:Ul,strokeOpacity:Ul,numOctaves:N_},Xk={...Vm,color:pt,backgroundColor:pt,outlineColor:pt,fill:pt,stroke:pt,borderColor:pt,borderTopColor:pt,borderRightColor:pt,borderBottomColor:pt,borderLeftColor:pt,filter:Ep,WebkitFilter:Ep},hE=n=>Xk[n];function fE(n,e){let t=hE(n);return t!==Ep&&(t=$i),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const Yk=new Set(["auto","none","0"]);function Jk(n,e,t){let r=0,o;for(;r<n.length&&!o;){const a=n[r];typeof a=="string"&&!Yk.has(a)&&jl(a).values.length&&(o=n[r]),r++}if(o&&t)for(const a of e)n[a]=fE(t,o)}class Zk extends Dm{constructor(e,t,r,o,a){super(e,t,r,o,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let m=e[d];if(typeof m=="string"&&(m=m.trim(),Im(m))){const v=aE(m,t.current);v!==void 0&&(e[d]=v),d===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!lE.has(r)||e.length!==2)return;const[o,a]=e,u=D_(o),f=D_(a);if(u!==f)if(C_(u)&&C_(f))for(let d=0;d<e.length;d++){const m=e[d];typeof m=="string"&&(e[d]=parseFloat(m))}else Vs[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let o=0;o<e.length;o++)(e[o]===null||Wk(e[o]))&&r.push(o);r.length&&Jk(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Vs[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const o=t[t.length-1];o!==void 0&&e.getValue(r,o).jump(o,!1)}measureEndState(){var f;const{element:e,name:t,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const o=e.getValue(t);o&&o.jump(this.measuredOrigin,!1);const a=r.length-1,u=r[a];r[a]=Vs[t](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(f=this.removedTransforms)!=null&&f.length&&this.removedTransforms.forEach(([d,m])=>{e.getValue(d).set(m)}),this.resolveNoneKeyframes()}}function eD(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const o=(t==null?void 0:t[n])??r.querySelectorAll(n);return o?Array.from(o):[]}return Array.from(n)}const dE=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function tD(n){return kT(n)&&"offsetHeight"in n}const V_=30,nD=n=>!isNaN(parseFloat(n));class rD{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var a;const o=fn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=fn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=nD(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new _m);const r=this.events[e].add(t);return e==="change"?()=>{r(),Ze.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=fn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>V_)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,V_);return NT(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;(e=this.dependents)==null||e.clear(),(t=this.events.destroy)==null||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ta(n,e){return new rD(n,e)}const{schedule:Mm}=$T(queueMicrotask,!1),Yn={x:!1,y:!1};function pE(){return Yn.x||Yn.y}function iD(n){return n==="x"||n==="y"?Yn[n]?null:(Yn[n]=!0,()=>{Yn[n]=!1}):Yn.x||Yn.y?null:(Yn.x=Yn.y=!0,()=>{Yn.x=Yn.y=!1})}function mE(n,e){const t=eD(n),r=new AbortController,o={passive:!0,...e,signal:r.signal};return[t,o,()=>r.abort()]}function M_(n){return!(n.pointerType==="touch"||pE())}function sD(n,e,t={}){const[r,o,a]=mE(n,t),u=f=>{if(!M_(f))return;const{target:d}=f,m=e(d,f);if(typeof m!="function"||!d)return;const v=w=>{M_(w)&&(m(w),d.removeEventListener("pointerleave",v))};d.addEventListener("pointerleave",v,o)};return r.forEach(f=>{f.addEventListener("pointerenter",u,o)}),a}const gE=(n,e)=>e?n===e?!0:gE(n,e.parentElement):!1,bm=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,oD=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function aD(n){return oD.has(n.tagName)||n.tabIndex!==-1}const Hc=new WeakSet;function b_(n){return e=>{e.key==="Enter"&&n(e)}}function Fd(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const lD=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=b_(()=>{if(Hc.has(t))return;Fd(t,"down");const o=b_(()=>{Fd(t,"up")}),a=()=>Fd(t,"cancel");t.addEventListener("keyup",o,e),t.addEventListener("blur",a,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function L_(n){return bm(n)&&!pE()}function uD(n,e,t={}){const[r,o,a]=mE(n,t),u=f=>{const d=f.currentTarget;if(!L_(f))return;Hc.add(d);const m=e(d,f),v=(C,O)=>{window.removeEventListener("pointerup",w),window.removeEventListener("pointercancel",E),Hc.has(d)&&Hc.delete(d),L_(C)&&typeof m=="function"&&m(C,{success:O})},w=C=>{v(C,d===window||d===document||t.useGlobalTarget||gE(d,C.target))},E=C=>{v(C,!1)};window.addEventListener("pointerup",w,o),window.addEventListener("pointercancel",E,o)};return r.forEach(f=>{(t.useGlobalTarget?window:f).addEventListener("pointerdown",u,o),tD(f)&&(f.addEventListener("focus",m=>lD(m,o)),!aD(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),a}function yE(n){return kT(n)&&"ownerSVGElement"in n}function cD(n){return yE(n)&&n.tagName==="svg"}const Gt=n=>!!(n&&n.getVelocity),hD=[...cE,pt,$i],fD=n=>hD.find(uE(n)),vE=Pe.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function dD(n=!0){const e=Pe.useContext(pm);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:o}=e,a=Pe.useId();Pe.useEffect(()=>{if(n)return o(a)},[n]);const u=Pe.useCallback(()=>n&&r&&r(a),[a,r,n]);return!t&&r?[!1,u]:[!0]}const _E=Pe.createContext({strict:!1}),O_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},na={};for(const n in O_)na[n]={isEnabled:e=>O_[n].some(t=>!!e[t])};function pD(n){for(const e in n)na[e]={...na[e],...n[e]}}const mD=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ch(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||mD.has(n)}let wE=n=>!ch(n);function gD(n){typeof n=="function"&&(wE=e=>e.startsWith("on")?!ch(e):n(e))}try{gD(require("@emotion/is-prop-valid").default)}catch{}function yD(n,e,t){const r={};for(const o in n)o==="values"&&typeof n.values=="object"||(wE(o)||t===!0&&ch(o)||!e&&!ch(o)||n.draggable&&o.startsWith("onDrag"))&&(r[o]=n[o]);return r}const Dh=Pe.createContext({});function Nh(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Bl(n){return typeof n=="string"||Array.isArray(n)}const Lm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Om=["initial",...Lm];function Vh(n){return Nh(n.animate)||Om.some(e=>Bl(n[e]))}function TE(n){return!!(Vh(n)||n.variants)}function vD(n,e){if(Vh(n)){const{initial:t,animate:r}=n;return{initial:t===!1||Bl(t)?t:void 0,animate:Bl(r)?r:void 0}}return n.inherit!==!1?e:{}}function _D(n){const{initial:e,animate:t}=vD(n,Pe.useContext(Dh));return Pe.useMemo(()=>({initial:e,animate:t}),[F_(e),F_(t)])}function F_(n){return Array.isArray(n)?n.join(" "):n}const zl={};function wD(n){for(const e in n)zl[e]=n[e],Em(e)&&(zl[e].isCSSVariable=!0)}function EE(n,{layout:e,layoutId:t}){return ma.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!zl[n]||n==="opacity")}const TD={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ED=pa.length;function ID(n,e,t){let r="",o=!0;for(let a=0;a<ED;a++){const u=pa[a],f=n[u];if(f===void 0)continue;let d=!0;if(typeof f=="number"?d=f===(u.startsWith("scale")?1:0):d=parseFloat(f)===0,!d||t){const m=dE(f,Vm[u]);if(!d){o=!1;const v=TD[u]||u;r+=`${v}(${m}) `}t&&(e[u]=m)}}return r=r.trim(),t?r=t(e,o?"":r):o&&(r="none"),r}function Fm(n,e,t){const{style:r,vars:o,transformOrigin:a}=n;let u=!1,f=!1;for(const d in e){const m=e[d];if(ma.has(d)){u=!0;continue}else if(Em(d)){o[d]=m;continue}else{const v=dE(m,Vm[d]);d.startsWith("origin")?(f=!0,a[d]=v):r[d]=v}}if(e.transform||(u||t?r.transform=ID(e,n.transform,t):r.transform&&(r.transform="none")),f){const{originX:d="50%",originY:m="50%",originZ:v=0}=a;r.transformOrigin=`${d} ${m} ${v}`}}const Um=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function IE(n,e,t){for(const r in e)!Gt(e[r])&&!EE(r,t)&&(n[r]=e[r])}function SD({transformTemplate:n},e){return Pe.useMemo(()=>{const t=Um();return Fm(t,e,n),Object.assign({},t.vars,t.style)},[e])}function AD(n,e){const t=n.style||{},r={};return IE(r,t,n),Object.assign(r,SD(n,e)),r}function PD(n,e){const t={},r=AD(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}const CD={offset:"stroke-dashoffset",array:"stroke-dasharray"},xD={offset:"strokeDashoffset",array:"strokeDasharray"};function RD(n,e,t=1,r=0,o=!0){n.pathLength=1;const a=o?CD:xD;n[a.offset]=we.transform(-r);const u=we.transform(e),f=we.transform(t);n[a.array]=`${u} ${f}`}function SE(n,{attrX:e,attrY:t,attrScale:r,pathLength:o,pathSpacing:a=1,pathOffset:u=0,...f},d,m,v){if(Fm(n,f,m),d){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:w,style:E}=n;w.transform&&(E.transform=w.transform,delete w.transform),(E.transform||w.transformOrigin)&&(E.transformOrigin=w.transformOrigin??"50% 50%",delete w.transformOrigin),E.transform&&(E.transformBox=(v==null?void 0:v.transformBox)??"fill-box",delete w.transformBox),e!==void 0&&(w.x=e),t!==void 0&&(w.y=t),r!==void 0&&(w.scale=r),o!==void 0&&RD(w,o,a,u,!1)}const AE=()=>({...Um(),attrs:{}}),PE=n=>typeof n=="string"&&n.toLowerCase()==="svg";function kD(n,e,t,r){const o=Pe.useMemo(()=>{const a=AE();return SE(a,e,PE(r),n.transformTemplate,n.style),{...a.attrs,style:{...a.style}}},[e]);if(n.style){const a={};IE(a,n.style,n),o.style={...a,...o.style}}return o}const DD=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function jm(n){return typeof n!="string"||n.includes("-")?!1:!!(DD.indexOf(n)>-1||/[A-Z]/u.test(n))}function ND(n,e,t,{latestValues:r},o,a=!1){const f=(jm(n)?kD:PD)(e,r,o,n),d=yD(e,typeof n=="string",a),m=n!==Pe.Fragment?{...d,...f,ref:t}:{},{children:v}=e,w=Pe.useMemo(()=>Gt(v)?v.get():v,[v]);return Pe.createElement(n,{...m,children:w})}function U_(n){const e=[{},{}];return n==null||n.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function Bm(n,e,t,r){if(typeof e=="function"){const[o,a]=U_(r);e=e(t!==void 0?t:n.custom,o,a)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[o,a]=U_(r);e=e(t!==void 0?t:n.custom,o,a)}return e}function Wc(n){return Gt(n)?n.get():n}function VD({scrapeMotionValuesFromProps:n,createRenderState:e},t,r,o){return{latestValues:MD(t,r,o,n),renderState:e()}}function MD(n,e,t,r){const o={},a=r(n,{});for(const E in a)o[E]=Wc(a[E]);let{initial:u,animate:f}=n;const d=Vh(n),m=TE(n);e&&m&&!d&&n.inherit!==!1&&(u===void 0&&(u=e.initial),f===void 0&&(f=e.animate));let v=t?t.initial===!1:!1;v=v||u===!1;const w=v?f:u;if(w&&typeof w!="boolean"&&!Nh(w)){const E=Array.isArray(w)?w:[w];for(let C=0;C<E.length;C++){const O=Bm(n,E[C]);if(O){const{transitionEnd:B,transition:U,...H}=O;for(const X in H){let q=H[X];if(Array.isArray(q)){const ie=v?q.length-1:0;q=q[ie]}q!==null&&(o[X]=q)}for(const X in B)o[X]=B[X]}}}return o}const CE=n=>(e,t)=>{const r=Pe.useContext(Dh),o=Pe.useContext(pm),a=()=>VD(n,e,r,o);return t?a():pR(a)};function zm(n,e,t){var a;const{style:r}=n,o={};for(const u in r)(Gt(r[u])||e.style&&Gt(e.style[u])||EE(u,n)||((a=t==null?void 0:t.getValue(u))==null?void 0:a.liveStyle)!==void 0)&&(o[u]=r[u]);return o}const bD=CE({scrapeMotionValuesFromProps:zm,createRenderState:Um});function xE(n,e,t){const r=zm(n,e,t);for(const o in n)if(Gt(n[o])||Gt(e[o])){const a=pa.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[a]=n[o]}return r}const LD=CE({scrapeMotionValuesFromProps:xE,createRenderState:AE}),OD=Symbol.for("motionComponentSymbol");function Wo(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function FD(n,e,t){return Pe.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):Wo(t)&&(t.current=r))},[e])}const $m=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),UD="framerAppearId",RE="data-"+$m(UD),kE=Pe.createContext({});function jD(n,e,t,r,o){var B,U;const{visualElement:a}=Pe.useContext(Dh),u=Pe.useContext(_E),f=Pe.useContext(pm),d=Pe.useContext(vE).reducedMotion,m=Pe.useRef(null);r=r||u.renderer,!m.current&&r&&(m.current=r(n,{visualState:e,parent:a,props:t,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:d}));const v=m.current,w=Pe.useContext(kE);v&&!v.projection&&o&&(v.type==="html"||v.type==="svg")&&BD(m.current,t,o,w);const E=Pe.useRef(!1);Pe.useInsertionEffect(()=>{v&&E.current&&v.update(t,f)});const C=t[RE],O=Pe.useRef(!!C&&!((B=window.MotionHandoffIsComplete)!=null&&B.call(window,C))&&((U=window.MotionHasOptimisedAnimation)==null?void 0:U.call(window,C)));return mR(()=>{v&&(E.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),O.current&&v.animationState&&v.animationState.animateChanges())}),Pe.useEffect(()=>{v&&(!O.current&&v.animationState&&v.animationState.animateChanges(),O.current&&(queueMicrotask(()=>{var H;(H=window.MotionHandoffMarkAsComplete)==null||H.call(window,C)}),O.current=!1),v.enteringChildren=void 0)}),v}function BD(n,e,t,r){const{layoutId:o,layout:a,drag:u,dragConstraints:f,layoutScroll:d,layoutRoot:m,layoutCrossfade:v}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:DE(n.parent)),n.projection.setOptions({layoutId:o,layout:a,alwaysMeasureLayout:!!u||f&&Wo(f),visualElement:n,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:v,layoutScroll:d,layoutRoot:m})}function DE(n){if(n)return n.options.allowProjection!==!1?n.projection:DE(n.parent)}function Ud(n,{forwardMotionProps:e=!1}={},t,r){t&&pD(t);const o=jm(n)?LD:bD;function a(f,d){let m;const v={...Pe.useContext(vE),...f,layoutId:zD(f)},{isStatic:w}=v,E=_D(f),C=o(f,w);if(!w&&dm){$D();const O=HD(v);m=O.MeasureLayout,E.visualElement=jD(n,C,v,r,O.ProjectionNode)}return G.jsxs(Dh.Provider,{value:E,children:[m&&E.visualElement?G.jsx(m,{visualElement:E.visualElement,...v}):null,ND(n,f,FD(C,E.visualElement,d),C,w,e)]})}a.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const u=Pe.forwardRef(a);return u[OD]=n,u}function zD({layoutId:n}){const e=Pe.useContext(xT).id;return e&&n!==void 0?e+"-"+n:n}function $D(n,e){Pe.useContext(_E).strict}function HD(n){const{drag:e,layout:t}=na;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function WD(n,e){if(typeof Proxy>"u")return Ud;const t=new Map,r=(a,u)=>Ud(a,u,n,e),o=(a,u)=>r(a,u);return new Proxy(o,{get:(a,u)=>u==="create"?r:(t.has(u)||t.set(u,Ud(u,void 0,n,e)),t.get(u))})}function NE({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function KD({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function qD(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function jd(n){return n===void 0||n===1}function Ip({scale:n,scaleX:e,scaleY:t}){return!jd(n)||!jd(e)||!jd(t)}function Cs(n){return Ip(n)||VE(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function VE(n){return j_(n.x)||j_(n.y)}function j_(n){return n&&n!=="0%"}function hh(n,e,t){const r=n-t,o=e*r;return t+o}function B_(n,e,t,r,o){return o!==void 0&&(n=hh(n,o,r)),hh(n,t,r)+e}function Sp(n,e=0,t=1,r,o){n.min=B_(n.min,e,t,r,o),n.max=B_(n.max,e,t,r,o)}function ME(n,{x:e,y:t}){Sp(n.x,e.translate,e.scale,e.originPoint),Sp(n.y,t.translate,t.scale,t.originPoint)}const z_=.999999999999,$_=1.0000000000001;function GD(n,e,t,r=!1){const o=t.length;if(!o)return;e.x=e.y=1;let a,u;for(let f=0;f<o;f++){a=t[f],u=a.projectionDelta;const{visualElement:d}=a.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&qo(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,ME(n,u)),r&&Cs(a.latestValues)&&qo(n,a.latestValues))}e.x<$_&&e.x>z_&&(e.x=1),e.y<$_&&e.y>z_&&(e.y=1)}function Ko(n,e){n.min=n.min+e,n.max=n.max+e}function H_(n,e,t,r,o=.5){const a=rt(n.min,n.max,o);Sp(n,e,t,a,r)}function qo(n,e){H_(n.x,e.x,e.scaleX,e.scale,e.originX),H_(n.y,e.y,e.scaleY,e.scale,e.originY)}function bE(n,e){return NE(qD(n.getBoundingClientRect(),e))}function QD(n,e,t){const r=bE(n,t),{scroll:o}=e;return o&&(Ko(r.x,o.offset.x),Ko(r.y,o.offset.y)),r}const W_=()=>({translate:0,scale:1,origin:0,originPoint:0}),Go=()=>({x:W_(),y:W_()}),K_=()=>({min:0,max:0}),ut=()=>({x:K_(),y:K_()}),Ap={current:null},LE={current:!1};function XD(){if(LE.current=!0,!!dm)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ap.current=n.matches;n.addEventListener("change",e),e()}else Ap.current=!1}const YD=new WeakMap;function JD(n,e,t){for(const r in e){const o=e[r],a=t[r];if(Gt(o))n.addValue(r,o);else if(Gt(a))n.addValue(r,ta(o,{owner:n}));else if(a!==o)if(n.hasValue(r)){const u=n.getValue(r);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=n.getStaticValue(r);n.addValue(r,ta(u!==void 0?u:o,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const q_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class ZD{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:a,visualState:u},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Dm,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=fn.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,Ze.render(this.render,!1,!0))};const{latestValues:d,renderState:m}=u;this.latestValues=d,this.baseTarget={...d},this.initialValues=t.initial?{...d}:{},this.renderState=m,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=f,this.blockInitialAnimation=!!a,this.isControllingVariants=Vh(t),this.isVariantNode=TE(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...w}=this.scrapeMotionValuesFromProps(t,{},this);for(const E in w){const C=w[E];d[E]!==void 0&&Gt(C)&&C.set(d[E])}}mount(e){var t;this.current=e,YD.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,o)=>this.bindToMotionValue(o,r)),LE.current||XD(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ap.current,(t=this.parent)==null||t.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),zi(this.notifyUpdate),zi(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=ma.has(e);r&&this.onBindTransform&&this.onBindTransform();const o=t.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Ze.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{o(),a&&a(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in na){const t=na[e];if(!t)continue;const{isEnabled:r,Feature:o}=t;if(!this.features[e]&&o&&r(this.props)&&(this.features[e]=new o(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ut()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<q_.length;r++){const o=q_[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const a="on"+o,u=e[a];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=JD(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=ta(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(RT(r)||DT(r))?r=parseFloat(r):!fD(r)&&$i.test(t)&&(r=fE(e,t)),this.setBaseTarget(e,Gt(r)?r.get():r)),Gt(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var a;const{initial:t}=this.props;let r;if(typeof t=="string"||typeof t=="object"){const u=Bm(this.props,t,(a=this.presenceContext)==null?void 0:a.custom);u&&(r=u[e])}if(t&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Gt(o)?o:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new _m),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){Mm.render(this.render)}}class OE extends ZD{constructor(){super(...arguments),this.KeyframeResolver=Zk}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Gt(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function FE(n,{style:e,vars:t},r,o){const a=n.style;let u;for(u in e)a[u]=e[u];o==null||o.applyProjectionStyles(a,r);for(u in t)a.setProperty(u,t[u])}function eN(n){return window.getComputedStyle(n)}class tN extends OE{constructor(){super(...arguments),this.type="html",this.renderInstance=FE}readValueFromInstance(e,t){var r;if(ma.has(t))return(r=this.projection)!=null&&r.isProjecting?gp(t):vk(e,t);{const o=eN(e),a=(Em(t)?o.getPropertyValue(t):o[t])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:t}){return bE(e,t)}build(e,t,r){Fm(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return zm(e,t,r)}}const UE=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function nN(n,e,t,r){FE(n,e,void 0,r);for(const o in e.attrs)n.setAttribute(UE.has(o)?o:$m(o),e.attrs[o])}class rN extends OE{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ut}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(ma.has(t)){const r=hE(t);return r&&r.default||0}return t=UE.has(t)?t:$m(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return xE(e,t,r)}build(e,t,r){SE(e,t,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,t,r,o){nN(e,t,r,o)}mount(e){this.isSVGTag=PE(e.tagName),super.mount(e)}}const iN=(n,e)=>jm(n)?new rN(e):new tN(e,{allowProjection:n!==Pe.Fragment});function Jo(n,e,t){const r=n.getProps();return Bm(r,e,t!==void 0?t:r.custom,n)}const Pp=n=>Array.isArray(n);function sN(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,ta(t))}function oN(n){return Pp(n)?n[n.length-1]||0:n}function aN(n,e){const t=Jo(n,e);let{transitionEnd:r={},transition:o={},...a}=t||{};a={...a,...r};for(const u in a){const f=oN(a[u]);sN(n,u,f)}}function lN(n){return!!(Gt(n)&&n.add)}function Cp(n,e){const t=n.getValue("willChange");if(lN(t))return t.add(e);if(!t&&ni.WillChange){const r=new ni.WillChange("auto");n.addValue("willChange",r),r.add(e)}}function jE(n){return n.props[RE]}const uN=n=>n!==null;function cN(n,{repeat:e,repeatType:t="loop"},r){const o=n.filter(uN),a=e&&t!=="loop"&&e%2===1?0:o.length-1;return o[a]}const hN={type:"spring",stiffness:500,damping:25,restSpeed:10},fN=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),dN={type:"keyframes",duration:.8},pN={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},mN=(n,{keyframes:e})=>e.length>2?dN:ma.has(n)?n.startsWith("scale")?fN(e[1]):hN:pN;function gN({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:o,repeat:a,repeatType:u,repeatDelay:f,from:d,elapsed:m,...v}){return!!Object.keys(v).length}const Hm=(n,e,t,r={},o,a)=>u=>{const f=Nm(r,n)||{},d=f.delay||r.delay||0;let{elapsed:m=0}=r;m=m-mr(d);const v={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-m,onUpdate:E=>{e.set(E),f.onUpdate&&f.onUpdate(E)},onComplete:()=>{u(),f.onComplete&&f.onComplete()},name:n,motionValue:e,element:a?void 0:o};gN(f)||Object.assign(v,mN(n,v)),v.duration&&(v.duration=mr(v.duration)),v.repeatDelay&&(v.repeatDelay=mr(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let w=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(Tp(v),v.delay===0&&(w=!0)),(ni.instantAnimations||ni.skipAnimations)&&(w=!0,Tp(v),v.delay=0),v.allowFlatten=!f.type&&!f.ease,w&&!a&&e.get()!==void 0){const E=cN(v.keyframes,f);if(E!==void 0){Ze.update(()=>{v.onUpdate(E),v.onComplete()});return}}return f.isSync?new km(v):new Bk(v)};function yN({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function BE(n,e,{delay:t=0,transitionOverride:r,type:o}={}){let{transition:a=n.getDefaultTransition(),transitionEnd:u,...f}=e;r&&(a=r);const d=[],m=o&&n.animationState&&n.animationState.getState()[o];for(const v in f){const w=n.getValue(v,n.latestValues[v]??null),E=f[v];if(E===void 0||m&&yN(m,v))continue;const C={delay:t,...Nm(a||{},v)},O=w.get();if(O!==void 0&&!w.isAnimating&&!Array.isArray(E)&&E===O&&!C.velocity)continue;let B=!1;if(window.MotionHandoffAnimation){const H=jE(n);if(H){const X=window.MotionHandoffAnimation(H,v,Ze);X!==null&&(C.startTime=X,B=!0)}}Cp(n,v),w.start(Hm(v,w,E,n.shouldReduceMotion&&lE.has(v)?{type:!1}:C,n,B));const U=w.animation;U&&d.push(U)}return u&&Promise.all(d).then(()=>{Ze.update(()=>{u&&aN(n,u)})}),d}function zE(n,e,t,r=0,o=1){const a=Array.from(n).sort((m,v)=>m.sortNodePosition(v)).indexOf(e),u=n.size,f=(u-1)*r;return typeof t=="function"?t(a,u):o===1?a*r:f-a*r}function xp(n,e,t={}){var d;const r=Jo(n,e,t.type==="exit"?(d=n.presenceContext)==null?void 0:d.custom:void 0);let{transition:o=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(o=t.transitionOverride);const a=r?()=>Promise.all(BE(n,r,t)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(m=0)=>{const{delayChildren:v=0,staggerChildren:w,staggerDirection:E}=o;return vN(n,e,m,v,w,E,t)}:()=>Promise.resolve(),{when:f}=o;if(f){const[m,v]=f==="beforeChildren"?[a,u]:[u,a];return m().then(()=>v())}else return Promise.all([a(),u(t.delay)])}function vN(n,e,t=0,r=0,o=0,a=1,u){const f=[];for(const d of n.variantChildren)d.notify("AnimationStart",e),f.push(xp(d,e,{...u,delay:t+(typeof r=="function"?0:r)+zE(n.variantChildren,d,r,o,a)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(f)}function _N(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const o=e.map(a=>xp(n,a,t));r=Promise.all(o)}else if(typeof e=="string")r=xp(n,e,t);else{const o=typeof e=="function"?Jo(n,e,t.custom):e;r=Promise.all(BE(n,o,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}function $E(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}const wN=Om.length;function HE(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?HE(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<wN;t++){const r=Om[t],o=n.props[r];(Bl(o)||o===!1)&&(e[r]=o)}return e}const TN=[...Lm].reverse(),EN=Lm.length;function IN(n){return e=>Promise.all(e.map(({animation:t,options:r})=>_N(n,t,r)))}function SN(n){let e=IN(n),t=G_(),r=!0;const o=d=>(m,v)=>{var E;const w=Jo(n,v,d==="exit"?(E=n.presenceContext)==null?void 0:E.custom:void 0);if(w){const{transition:C,transitionEnd:O,...B}=w;m={...m,...B,...O}}return m};function a(d){e=d(n)}function u(d){const{props:m}=n,v=HE(n.parent)||{},w=[],E=new Set;let C={},O=1/0;for(let U=0;U<EN;U++){const H=TN[U],X=t[H],q=m[H]!==void 0?m[H]:v[H],ie=Bl(q),oe=H===d?X.isActive:null;oe===!1&&(O=U);let fe=q===v[H]&&q!==m[H]&&ie;if(fe&&r&&n.manuallyAnimateOnMount&&(fe=!1),X.protectedKeys={...C},!X.isActive&&oe===null||!q&&!X.prevProp||Nh(q)||typeof q=="boolean")continue;const k=AN(X.prevProp,q);let S=k||H===d&&X.isActive&&!fe&&ie||U>O&&ie,P=!1;const D=Array.isArray(q)?q:[q];let V=D.reduce(o(H),{});oe===!1&&(V={});const{prevResolvedValues:b={}}=X,x={...b,...V},Xe=Ie=>{S=!0,E.has(Ie)&&(P=!0,E.delete(Ie)),X.needsAnimating[Ie]=!0;const ee=n.getValue(Ie);ee&&(ee.liveStyle=!1)};for(const Ie in x){const ee=V[Ie],he=b[Ie];if(C.hasOwnProperty(Ie))continue;let re=!1;Pp(ee)&&Pp(he)?re=!$E(ee,he):re=ee!==he,re?ee!=null?Xe(Ie):E.add(Ie):ee!==void 0&&E.has(Ie)?Xe(Ie):X.protectedKeys[Ie]=!0}X.prevProp=q,X.prevResolvedValues=V,X.isActive&&(C={...C,...V}),r&&n.blockInitialAnimation&&(S=!1);const gt=fe&&k;S&&(!gt||P)&&w.push(...D.map(Ie=>{const ee={type:H};if(typeof Ie=="string"&&r&&!gt&&n.manuallyAnimateOnMount&&n.parent){const{parent:he}=n,re=Jo(he,Ie);if(he.enteringChildren&&re){const{delayChildren:M}=re.transition||{};ee.delay=zE(he.enteringChildren,n,M)}}return{animation:Ie,options:ee}}))}if(E.size){const U={};if(typeof m.initial!="boolean"){const H=Jo(n,Array.isArray(m.initial)?m.initial[0]:m.initial);H&&H.transition&&(U.transition=H.transition)}E.forEach(H=>{const X=n.getBaseTarget(H),q=n.getValue(H);q&&(q.liveStyle=!0),U[H]=X??null}),w.push({animation:U})}let B=!!w.length;return r&&(m.initial===!1||m.initial===m.animate)&&!n.manuallyAnimateOnMount&&(B=!1),r=!1,B?e(w):Promise.resolve()}function f(d,m){var w;if(t[d].isActive===m)return Promise.resolve();(w=n.variantChildren)==null||w.forEach(E=>{var C;return(C=E.animationState)==null?void 0:C.setActive(d,m)}),t[d].isActive=m;const v=u(d);for(const E in t)t[E].protectedKeys={};return v}return{animateChanges:u,setActive:f,setAnimateFunction:a,getState:()=>t,reset:()=>{t=G_(),r=!0}}}function AN(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!$E(e,n):!1}function As(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function G_(){return{animate:As(!0),whileInView:As(),whileHover:As(),whileTap:As(),whileDrag:As(),whileFocus:As(),exit:As()}}class Xi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class PN extends Xi{constructor(e){super(e),e.animationState||(e.animationState=SN(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Nh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let CN=0;class xN extends Xi{constructor(){super(...arguments),this.id=CN++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const o=this.node.animationState.setActive("exit",!e);t&&!e&&o.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const RN={animation:{Feature:PN},exit:{Feature:xN}};function $l(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function ou(n){return{point:{x:n.pageX,y:n.pageY}}}const kN=n=>e=>bm(e)&&n(e,ou(e));function Pl(n,e,t,r){return $l(n,e,kN(t),r)}const WE=1e-4,DN=1-WE,NN=1+WE,KE=.01,VN=0-KE,MN=0+KE;function en(n){return n.max-n.min}function bN(n,e,t){return Math.abs(n-e)<=t}function Q_(n,e,t,r=.5){n.origin=r,n.originPoint=rt(e.min,e.max,n.origin),n.scale=en(t)/en(e),n.translate=rt(t.min,t.max,n.origin)-n.originPoint,(n.scale>=DN&&n.scale<=NN||isNaN(n.scale))&&(n.scale=1),(n.translate>=VN&&n.translate<=MN||isNaN(n.translate))&&(n.translate=0)}function Cl(n,e,t,r){Q_(n.x,e.x,t.x,r?r.originX:void 0),Q_(n.y,e.y,t.y,r?r.originY:void 0)}function X_(n,e,t){n.min=t.min+e.min,n.max=n.min+en(e)}function LN(n,e,t){X_(n.x,e.x,t.x),X_(n.y,e.y,t.y)}function Y_(n,e,t){n.min=e.min-t.min,n.max=n.min+en(e)}function xl(n,e,t){Y_(n.x,e.x,t.x),Y_(n.y,e.y,t.y)}function Dn(n){return[n("x"),n("y")]}const qE=({current:n})=>n?n.ownerDocument.defaultView:null,J_=(n,e)=>Math.abs(n-e);function ON(n,e){const t=J_(n.x,e.x),r=J_(n.y,e.y);return Math.sqrt(t**2+r**2)}class GE{constructor(e,t,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:a=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=zd(this.lastMoveEventInfo,this.history),C=this.startEvent!==null,O=ON(E.offset,{x:0,y:0})>=this.distanceThreshold;if(!C&&!O)return;const{point:B}=E,{timestamp:U}=Ot;this.history.push({...B,timestamp:U});const{onStart:H,onMove:X}=this.handlers;C||(H&&H(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),X&&X(this.lastMoveEvent,E)},this.handlePointerMove=(E,C)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=Bd(C,this.transformPagePoint),Ze.update(this.updatePoint,!0)},this.handlePointerUp=(E,C)=>{this.end();const{onEnd:O,onSessionEnd:B,resumeAnimation:U}=this.handlers;if(this.dragSnapToOrigin&&U&&U(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const H=zd(E.type==="pointercancel"?this.lastMoveEventInfo:Bd(C,this.transformPagePoint),this.history);this.startEvent&&O&&O(E,H),B&&B(E,H)},!bm(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=r,this.distanceThreshold=u,this.contextWindow=o||window;const f=ou(e),d=Bd(f,this.transformPagePoint),{point:m}=d,{timestamp:v}=Ot;this.history=[{...m,timestamp:v}];const{onSessionStart:w}=t;w&&w(e,zd(d,this.history)),this.removeListeners=ru(Pl(this.contextWindow,"pointermove",this.handlePointerMove),Pl(this.contextWindow,"pointerup",this.handlePointerUp),Pl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),zi(this.updatePoint)}}function Bd(n,e){return e?{point:e(n.point)}:n}function Z_(n,e){return{x:n.x-e.x,y:n.y-e.y}}function zd({point:n},e){return{point:n,delta:Z_(n,QE(e)),offset:Z_(n,FN(e)),velocity:UN(e,.1)}}function FN(n){return n[0]}function QE(n){return n[n.length-1]}function UN(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const o=QE(n);for(;t>=0&&(r=n[t],!(o.timestamp-r.timestamp>mr(e)));)t--;if(!r)return{x:0,y:0};const a=gr(o.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const u={x:(o.x-r.x)/a,y:(o.y-r.y)/a};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function jN(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?rt(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?rt(t,n,r.max):Math.min(n,t)),n}function e0(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function BN(n,{top:e,left:t,bottom:r,right:o}){return{x:e0(n.x,t,o),y:e0(n.y,e,r)}}function t0(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function zN(n,e){return{x:t0(n.x,e.x),y:t0(n.y,e.y)}}function $N(n,e){let t=.5;const r=en(n),o=en(e);return o>r?t=Fl(e.min,e.max-r,n.min):r>o&&(t=Fl(n.min,n.max-o,e.min)),ti(0,1,t)}function HN(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Rp=.35;function WN(n=Rp){return n===!1?n=0:n===!0&&(n=Rp),{x:n0(n,"left","right"),y:n0(n,"top","bottom")}}function n0(n,e,t){return{min:r0(n,e),max:r0(n,t)}}function r0(n,e){return typeof n=="number"?n:n[e]||0}const KN=new WeakMap;class qN{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ut(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const a=w=>{const{dragSnapToOrigin:E}=this.getProps();E?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(ou(w).point)},u=(w,E)=>{const{drag:C,dragPropagation:O,onDragStart:B}=this.getProps();if(C&&!O&&(this.openDragLock&&this.openDragLock(),this.openDragLock=iD(C),!this.openDragLock))return;this.latestPointerEvent=w,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Dn(H=>{let X=this.getAxisMotionValue(H).get()||0;if(yr.test(X)){const{projection:q}=this.visualElement;if(q&&q.layout){const ie=q.layout.layoutBox[H];ie&&(X=en(ie)*(parseFloat(X)/100))}}this.originPoint[H]=X}),B&&Ze.postRender(()=>B(w,E)),Cp(this.visualElement,"transform");const{animationState:U}=this.visualElement;U&&U.setActive("whileDrag",!0)},f=(w,E)=>{this.latestPointerEvent=w,this.latestPanInfo=E;const{dragPropagation:C,dragDirectionLock:O,onDirectionLock:B,onDrag:U}=this.getProps();if(!C&&!this.openDragLock)return;const{offset:H}=E;if(O&&this.currentDirection===null){this.currentDirection=GN(H),this.currentDirection!==null&&B&&B(this.currentDirection);return}this.updateAxis("x",E.point,H),this.updateAxis("y",E.point,H),this.visualElement.render(),U&&U(w,E)},d=(w,E)=>{this.latestPointerEvent=w,this.latestPanInfo=E,this.stop(w,E),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>Dn(w=>{var E;return this.getAnimationState(w)==="paused"&&((E=this.getAxisMotionValue(w).animation)==null?void 0:E.play())}),{dragSnapToOrigin:v}=this.getProps();this.panSession=new GE(e,{onSessionStart:a,onStart:u,onMove:f,onSessionEnd:d,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:r,contextWindow:qE(this.visualElement)})}stop(e,t){const r=e||this.latestPointerEvent,o=t||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!o||!r)return;const{velocity:u}=o;this.startAnimation(u);const{onDragEnd:f}=this.getProps();f&&Ze.postRender(()=>f(r,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:o}=this.getProps();if(!r||!Vc(e,o,this.currentDirection))return;const a=this.getAxisMotionValue(e);let u=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(u=jN(u,this.constraints[e],this.elastic[e])),a.set(u)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:t}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,o=this.constraints;e&&Wo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=BN(r.layoutBox,e):this.constraints=!1,this.elastic=WN(t),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Dn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=HN(r.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Wo(e))return!1;const r=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const a=QD(r,o.root,this.visualElement.getTransformPagePoint());let u=zN(o.layout.layoutBox,a);if(t){const f=t(KD(u));this.hasMutatedConstraints=!!f,f&&(u=NE(f))}return u}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:o,dragTransition:a,dragSnapToOrigin:u,onDragTransitionEnd:f}=this.getProps(),d=this.constraints||{},m=Dn(v=>{if(!Vc(v,t,this.currentDirection))return;let w=d&&d[v]||{};u&&(w={min:0,max:0});const E=o?200:1e6,C=o?40:1e7,O={type:"inertia",velocity:r?e[v]:0,bounceStiffness:E,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...a,...w};return this.startAxisValueAnimation(v,O)});return Promise.all(m).then(f)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return Cp(this.visualElement,e),r.start(Hm(e,r,0,t,this.visualElement,!1))}stopAnimation(){Dn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Dn(e=>{var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),o=r[t];return o||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Dn(t=>{const{drag:r}=this.getProps();if(!Vc(t,r,this.currentDirection))return;const{projection:o}=this.visualElement,a=this.getAxisMotionValue(t);if(o&&o.layout){const{min:u,max:f}=o.layout.layoutBox[t];a.set(e[t]-rt(u,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!Wo(t)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Dn(u=>{const f=this.getAxisMotionValue(u);if(f&&this.constraints!==!1){const d=f.get();o[u]=$N({min:d,max:d},this.constraints[u])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Dn(u=>{if(!Vc(u,e,null))return;const f=this.getAxisMotionValue(u),{min:d,max:m}=this.constraints[u];f.set(rt(d,m,o[u]))})}addListeners(){if(!this.visualElement.current)return;KN.set(this.visualElement,this);const e=this.visualElement.current,t=Pl(e,"pointerdown",d=>{const{drag:m,dragListener:v=!0}=this.getProps();m&&v&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();Wo(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,a=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Ze.read(r);const u=$l(window,"resize",()=>this.scalePositionWithinConstraints()),f=o.addEventListener("didUpdate",({delta:d,hasLayoutChanged:m})=>{this.isDragging&&m&&(Dn(v=>{const w=this.getAxisMotionValue(v);w&&(this.originPoint[v]+=d[v].translate,w.set(w.get()+d[v].translate))}),this.visualElement.render())});return()=>{u(),t(),a(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:a=!1,dragElastic:u=Rp,dragMomentum:f=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:o,dragConstraints:a,dragElastic:u,dragMomentum:f}}}function Vc(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function GN(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class QN extends Xi{constructor(e){super(e),this.removeGroupControls=Mn,this.removeListeners=Mn,this.controls=new qN(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Mn}unmount(){this.removeGroupControls(),this.removeListeners()}}const i0=n=>(e,t)=>{n&&Ze.postRender(()=>n(e,t))};class XN extends Xi{constructor(){super(...arguments),this.removePointerDownListener=Mn}onPointerDown(e){this.session=new GE(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:qE(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:i0(e),onStart:i0(t),onMove:r,onEnd:(a,u)=>{delete this.session,o&&Ze.postRender(()=>o(a,u))}}}mount(){this.removePointerDownListener=Pl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Kc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function s0(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const ml={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(we.test(n))n=parseFloat(n);else return n;const t=s0(n,e.target.x),r=s0(n,e.target.y);return`${t}% ${r}%`}},YN={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,o=$i.parse(n);if(o.length>5)return r;const a=$i.createTransformer(n),u=typeof o[0]!="number"?1:0,f=t.x.scale*e.x,d=t.y.scale*e.y;o[0+u]/=f,o[1+u]/=d;const m=rt(f,d,.5);return typeof o[2+u]=="number"&&(o[2+u]/=m),typeof o[3+u]=="number"&&(o[3+u]/=m),a(o)}};let $d=!1;class JN extends Pe.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:o}=this.props,{projection:a}=e;wD(ZN),a&&(t.group&&t.group.add(a),r&&r.register&&o&&r.register(a),$d&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Kc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:o,isPresent:a}=this.props,{projection:u}=r;return u&&(u.isPresent=a,$d=!0,o||e.layoutDependency!==t||t===void 0||e.isPresent!==a?u.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?u.promote():u.relegate()||Ze.postRender(()=>{const f=u.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Mm.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:o}=e;$d=!0,o&&(o.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function XE(n){const[e,t]=dD(),r=Pe.useContext(xT);return G.jsx(JN,{...n,layoutGroup:r,switchLayoutGroup:Pe.useContext(kE),isPresent:e,safeToRemove:t})}const ZN={borderRadius:{...ml,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ml,borderTopRightRadius:ml,borderBottomLeftRadius:ml,borderBottomRightRadius:ml,boxShadow:YN};function eV(n,e,t){const r=Gt(n)?n:ta(n);return r.start(Hm("",r,e,t)),r.animation}const tV=(n,e)=>n.depth-e.depth;class nV{constructor(){this.children=[],this.isDirty=!1}add(e){mm(this.children,e),this.isDirty=!0}remove(e){gm(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(tV),this.isDirty=!1,this.children.forEach(e)}}function rV(n,e){const t=fn.now(),r=({timestamp:o})=>{const a=o-t;a>=e&&(zi(r),n(a-e))};return Ze.setup(r,!0),()=>zi(r)}const YE=["TopLeft","TopRight","BottomLeft","BottomRight"],iV=YE.length,o0=n=>typeof n=="string"?parseFloat(n):n,a0=n=>typeof n=="number"||we.test(n);function sV(n,e,t,r,o,a){o?(n.opacity=rt(0,t.opacity??1,oV(r)),n.opacityExit=rt(e.opacity??1,0,aV(r))):a&&(n.opacity=rt(e.opacity??1,t.opacity??1,r));for(let u=0;u<iV;u++){const f=`border${YE[u]}Radius`;let d=l0(e,f),m=l0(t,f);if(d===void 0&&m===void 0)continue;d||(d=0),m||(m=0),d===0||m===0||a0(d)===a0(m)?(n[f]=Math.max(rt(o0(d),o0(m),r),0),(yr.test(m)||yr.test(d))&&(n[f]+="%")):n[f]=m}(e.rotate||t.rotate)&&(n.rotate=rt(e.rotate||0,t.rotate||0,r))}function l0(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const oV=JE(0,.5,UT),aV=JE(.5,.95,Mn);function JE(n,e,t){return r=>r<n?0:r>e?1:t(Fl(n,e,r))}function u0(n,e){n.min=e.min,n.max=e.max}function kn(n,e){u0(n.x,e.x),u0(n.y,e.y)}function c0(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function h0(n,e,t,r,o){return n-=e,n=hh(n,1/t,r),o!==void 0&&(n=hh(n,1/o,r)),n}function lV(n,e=0,t=1,r=.5,o,a=n,u=n){if(yr.test(e)&&(e=parseFloat(e),e=rt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let f=rt(a.min,a.max,r);n===a&&(f-=e),n.min=h0(n.min,e,t,f,o),n.max=h0(n.max,e,t,f,o)}function f0(n,e,[t,r,o],a,u){lV(n,e[t],e[r],e[o],e.scale,a,u)}const uV=["x","scaleX","originX"],cV=["y","scaleY","originY"];function d0(n,e,t,r){f0(n.x,e,uV,t?t.x:void 0,r?r.x:void 0),f0(n.y,e,cV,t?t.y:void 0,r?r.y:void 0)}function p0(n){return n.translate===0&&n.scale===1}function ZE(n){return p0(n.x)&&p0(n.y)}function m0(n,e){return n.min===e.min&&n.max===e.max}function hV(n,e){return m0(n.x,e.x)&&m0(n.y,e.y)}function g0(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function eI(n,e){return g0(n.x,e.x)&&g0(n.y,e.y)}function y0(n){return en(n.x)/en(n.y)}function v0(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class fV{constructor(){this.members=[]}add(e){mm(this.members,e),e.scheduleRender()}remove(e){if(gm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(o=>e===o);if(t===0)return!1;let r;for(let o=t;o>=0;o--){const a=this.members[o];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function dV(n,e,t){let r="";const o=n.x.translate/e.x,a=n.y.translate/e.y,u=(t==null?void 0:t.z)||0;if((o||a||u)&&(r=`translate3d(${o}px, ${a}px, ${u}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:m,rotate:v,rotateX:w,rotateY:E,skewX:C,skewY:O}=t;m&&(r=`perspective(${m}px) ${r}`),v&&(r+=`rotate(${v}deg) `),w&&(r+=`rotateX(${w}deg) `),E&&(r+=`rotateY(${E}deg) `),C&&(r+=`skewX(${C}deg) `),O&&(r+=`skewY(${O}deg) `)}const f=n.x.scale*e.x,d=n.y.scale*e.y;return(f!==1||d!==1)&&(r+=`scale(${f}, ${d})`),r||"none"}const Hd=["","X","Y","Z"],pV=1e3;let mV=0;function Wd(n,e,t,r){const{latestValues:o}=e;o[n]&&(t[n]=o[n],e.setStaticValue(n,0),r&&(r[n]=0))}function tI(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=jE(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:o,layoutId:a}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",Ze,!(o||a))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&tI(r)}function nI({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(u={},f=e==null?void 0:e()){this.id=mV++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(vV),this.nodes.forEach(EV),this.nodes.forEach(IV),this.nodes.forEach(_V)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new nV)}addEventListener(u,f){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new _m),this.eventHandlers.get(u).add(f)}notifyListeners(u,...f){const d=this.eventHandlers.get(u);d&&d.notify(...f)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=yE(u)&&!cD(u),this.instance=u;const{layoutId:f,layout:d,visualElement:m}=this.options;if(m&&!m.current&&m.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||f)&&(this.isLayoutDirty=!0),n){let v,w=0;const E=()=>this.root.updateBlockedByResize=!1;Ze.read(()=>{w=window.innerWidth}),n(u,()=>{const C=window.innerWidth;C!==w&&(w=C,this.root.updateBlockedByResize=!0,v&&v(),v=rV(E,250),Kc.hasAnimatedSinceResize&&(Kc.hasAnimatedSinceResize=!1,this.nodes.forEach(T0)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&m&&(f||d)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:w,hasRelativeLayoutChanged:E,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const O=this.options.transition||m.getDefaultTransition()||xV,{onLayoutAnimationStart:B,onLayoutAnimationComplete:U}=m.getProps(),H=!this.targetLayout||!eI(this.targetLayout,C),X=!w&&E;if(this.options.layoutRoot||this.resumeFrom||X||w&&(H||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const q={...Nm(O,"layout"),onPlay:B,onComplete:U};(m.shouldReduceMotion||this.options.layoutRoot)&&(q.delay=0,q.type=!1),this.startAnimation(q),this.setAnimationOrigin(v,X)}else w||T0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),zi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(SV),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&tI(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const w=this.path[v];w.shouldResetTransform=!0,w.updateScroll("snapshot"),w.options.layoutRoot&&w.willUpdate(!1)}const{layoutId:f,layout:d}=this.options;if(f===void 0&&!d)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(_0);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(w0);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(TV),this.nodes.forEach(gV),this.nodes.forEach(yV)):this.nodes.forEach(w0),this.clearAllSnapshots();const f=fn.now();Ot.delta=ti(0,1e3/60,f-Ot.timestamp),Ot.timestamp=f,Ot.isProcessing=!0,Vd.update.process(Ot),Vd.preRender.process(Ot),Vd.render.process(Ot),Ot.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Mm.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(wV),this.sharedNodes.forEach(AV)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ze.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ze.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!en(this.snapshot.measuredBox.x)&&!en(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ut(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(f=!1),f&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:d,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!ZE(this.projectionDelta),d=this.getTransformTemplate(),m=d?d(this.latestValues,""):void 0,v=m!==this.prevTransformTemplateValue;u&&this.instance&&(f||Cs(this.latestValues)||v)&&(o(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const f=this.measurePageBox();let d=this.removeElementScroll(f);return u&&(d=this.removeTransform(d)),RV(d),{animationId:this.root.animationId,measuredBox:f,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var m;const{visualElement:u}=this.options;if(!u)return ut();const f=u.measureViewportBox();if(!(((m=this.scroll)==null?void 0:m.wasRoot)||this.path.some(kV))){const{scroll:v}=this.root;v&&(Ko(f.x,v.offset.x),Ko(f.y,v.offset.y))}return f}removeElementScroll(u){var d;const f=ut();if(kn(f,u),(d=this.scroll)!=null&&d.wasRoot)return f;for(let m=0;m<this.path.length;m++){const v=this.path[m],{scroll:w,options:E}=v;v!==this.root&&w&&E.layoutScroll&&(w.wasRoot&&kn(f,u),Ko(f.x,w.offset.x),Ko(f.y,w.offset.y))}return f}applyTransform(u,f=!1){const d=ut();kn(d,u);for(let m=0;m<this.path.length;m++){const v=this.path[m];!f&&v.options.layoutScroll&&v.scroll&&v!==v.root&&qo(d,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Cs(v.latestValues)&&qo(d,v.latestValues)}return Cs(this.latestValues)&&qo(d,this.latestValues),d}removeTransform(u){const f=ut();kn(f,u);for(let d=0;d<this.path.length;d++){const m=this.path[d];if(!m.instance||!Cs(m.latestValues))continue;Ip(m.latestValues)&&m.updateSnapshot();const v=ut(),w=m.measurePageBox();kn(v,w),d0(f,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,v)}return Cs(this.latestValues)&&d0(f,this.latestValues),f}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ot.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var E;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==f;if(!(u||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(E=this.parent)!=null&&E.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:w}=this.options;if(!(!this.layout||!(v||w))){if(this.resolvedRelativeTargetAt=Ot.timestamp,!this.targetDelta&&!this.relativeTarget){const C=this.getClosestProjectingParent();C&&C.layout&&this.animationProgress!==1?(this.relativeParent=C,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ut(),this.relativeTargetOrigin=ut(),xl(this.relativeTargetOrigin,this.layout.layoutBox,C.layout.layoutBox),kn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ut(),this.targetWithTransforms=ut()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),LN(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):kn(this.target,this.layout.layoutBox),ME(this.target,this.targetDelta)):kn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const C=this.getClosestProjectingParent();C&&!!C.resumingFrom==!!this.resumingFrom&&!C.options.layoutScroll&&C.target&&this.animationProgress!==1?(this.relativeParent=C,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ut(),this.relativeTargetOrigin=ut(),xl(this.relativeTargetOrigin,this.target,C.target),kn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Ip(this.parent.latestValues)||VE(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var O;const u=this.getLead(),f=!!this.resumingFrom||this!==u;let d=!0;if((this.isProjectionDirty||(O=this.parent)!=null&&O.isProjectionDirty)&&(d=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Ot.timestamp&&(d=!1),d)return;const{layout:m,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||v))return;kn(this.layoutCorrected,this.layout.layoutBox);const w=this.treeScale.x,E=this.treeScale.y;GD(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=ut());const{target:C}=u;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(c0(this.prevProjectionDelta.x,this.projectionDelta.x),c0(this.prevProjectionDelta.y,this.projectionDelta.y)),Cl(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==w||this.treeScale.y!==E||!v0(this.projectionDelta.x,this.prevProjectionDelta.x)||!v0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var f;if((f=this.options.visualElement)==null||f.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Go(),this.projectionDelta=Go(),this.projectionDeltaWithTransform=Go()}setAnimationOrigin(u,f=!1){const d=this.snapshot,m=d?d.latestValues:{},v={...this.latestValues},w=Go();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const E=ut(),C=d?d.source:void 0,O=this.layout?this.layout.source:void 0,B=C!==O,U=this.getStack(),H=!U||U.members.length<=1,X=!!(B&&!H&&this.options.crossfade===!0&&!this.path.some(CV));this.animationProgress=0;let q;this.mixTargetDelta=ie=>{const oe=ie/1e3;E0(w.x,u.x,oe),E0(w.y,u.y,oe),this.setTargetDelta(w),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(xl(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),PV(this.relativeTarget,this.relativeTargetOrigin,E,oe),q&&hV(this.relativeTarget,q)&&(this.isProjectionDirty=!1),q||(q=ut()),kn(q,this.relativeTarget)),B&&(this.animationValues=v,sV(v,m,this.latestValues,oe,X,H)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=oe},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){var f,d,m;this.notifyListeners("animationStart"),(f=this.currentAnimation)==null||f.stop(),(m=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||m.stop(),this.pendingAnimation&&(zi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ze.update(()=>{Kc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ta(0)),this.currentAnimation=eV(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:v=>{this.mixTargetDelta(v),u.onUpdate&&u.onUpdate(v)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(pV),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:f,target:d,layout:m,latestValues:v}=u;if(!(!f||!d||!m)){if(this!==u&&this.layout&&m&&rI(this.options.animationType,this.layout.layoutBox,m.layoutBox)){d=this.target||ut();const w=en(this.layout.layoutBox.x);d.x.min=u.target.x.min,d.x.max=d.x.min+w;const E=en(this.layout.layoutBox.y);d.y.min=u.target.y.min,d.y.max=d.y.min+E}kn(f,d),qo(f,v),Cl(this.projectionDeltaWithTransform,this.layoutCorrected,f,v)}}registerSharedNode(u,f){this.sharedNodes.has(u)||this.sharedNodes.set(u,new fV),this.sharedNodes.get(u).add(f);const m=f.options.initialPromotionConfig;f.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(f):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var f;const{layoutId:u}=this.options;return u?((f=this.getStack())==null?void 0:f.lead)||this:this}getPrevLead(){var f;const{layoutId:u}=this.options;return u?(f=this.getStack())==null?void 0:f.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:f,preserveFollowOpacity:d}={}){const m=this.getStack();m&&m.promote(this,d),u&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let f=!1;const{latestValues:d}=u;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(f=!0),!f)return;const m={};d.z&&Wd("z",u,m,this.animationValues);for(let v=0;v<Hd.length;v++)Wd(`rotate${Hd[v]}`,u,m,this.animationValues),Wd(`skew${Hd[v]}`,u,m,this.animationValues);u.render();for(const v in m)u.setStaticValue(v,m[v]),this.animationValues&&(this.animationValues[v]=m[v]);u.scheduleRender()}applyProjectionStyles(u,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Wc(f==null?void 0:f.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Wc(f==null?void 0:f.pointerEvents)||""),this.hasProjected&&!Cs(this.latestValues)&&(u.transform=d?d({},""):"none",this.hasProjected=!1);return}u.visibility="";const v=m.animationValues||m.latestValues;this.applyTransformsToTarget();let w=dV(this.projectionDeltaWithTransform,this.treeScale,v);d&&(w=d(v,w)),u.transform=w;const{x:E,y:C}=this.projectionDelta;u.transformOrigin=`${E.origin*100}% ${C.origin*100}% 0`,m.animationValues?u.opacity=m===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:u.opacity=m===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const O in zl){if(v[O]===void 0)continue;const{correct:B,applyTo:U,isCSSVariable:H}=zl[O],X=w==="none"?v[O]:B(v[O],m);if(U){const q=U.length;for(let ie=0;ie<q;ie++)u[U[ie]]=X}else H?this.options.visualElement.renderState.vars[O]=X:u[O]=X}this.options.layoutId&&(u.pointerEvents=m===this?Wc(f==null?void 0:f.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var f;return(f=u.currentAnimation)==null?void 0:f.stop()}),this.root.nodes.forEach(_0),this.root.sharedNodes.clear()}}}function gV(n){n.updateLayout()}function yV(n){var t;const e=((t=n.resumeFrom)==null?void 0:t.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=n.layout,{animationType:a}=n.options,u=e.source!==n.layout.source;a==="size"?Dn(w=>{const E=u?e.measuredBox[w]:e.layoutBox[w],C=en(E);E.min=r[w].min,E.max=E.min+C}):rI(a,e.layoutBox,r)&&Dn(w=>{const E=u?e.measuredBox[w]:e.layoutBox[w],C=en(r[w]);E.max=E.min+C,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[w].max=n.relativeTarget[w].min+C)});const f=Go();Cl(f,r,e.layoutBox);const d=Go();u?Cl(d,n.applyTransform(o,!0),e.measuredBox):Cl(d,r,e.layoutBox);const m=!ZE(f);let v=!1;if(!n.resumeFrom){const w=n.getClosestProjectingParent();if(w&&!w.resumeFrom){const{snapshot:E,layout:C}=w;if(E&&C){const O=ut();xl(O,e.layoutBox,E.layoutBox);const B=ut();xl(B,r,C.layoutBox),eI(O,B)||(v=!0),w.options.layoutRoot&&(n.relativeTarget=B,n.relativeTargetOrigin=O,n.relativeParent=w)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:d,layoutDelta:f,hasLayoutChanged:m,hasRelativeLayoutChanged:v})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function vV(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function _V(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function wV(n){n.clearSnapshot()}function _0(n){n.clearMeasurements()}function w0(n){n.isLayoutDirty=!1}function TV(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function T0(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function EV(n){n.resolveTargetDelta()}function IV(n){n.calcProjection()}function SV(n){n.resetSkewAndRotation()}function AV(n){n.removeLeadSnapshot()}function E0(n,e,t){n.translate=rt(e.translate,0,t),n.scale=rt(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function I0(n,e,t,r){n.min=rt(e.min,t.min,r),n.max=rt(e.max,t.max,r)}function PV(n,e,t,r){I0(n.x,e.x,t.x,r),I0(n.y,e.y,t.y,r)}function CV(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const xV={duration:.45,ease:[.4,0,.1,1]},S0=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),A0=S0("applewebkit/")&&!S0("chrome/")?Math.round:Mn;function P0(n){n.min=A0(n.min),n.max=A0(n.max)}function RV(n){P0(n.x),P0(n.y)}function rI(n,e,t){return n==="position"||n==="preserve-aspect"&&!bN(y0(e),y0(t),.2)}function kV(n){var e;return n!==n.root&&((e=n.scroll)==null?void 0:e.wasRoot)}const DV=nI({attachResizeListener:(n,e)=>$l(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Kd={current:void 0},iI=nI({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Kd.current){const n=new DV({});n.mount(window),n.setOptions({layoutScroll:!0}),Kd.current=n}return Kd.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),NV={pan:{Feature:XN},drag:{Feature:QN,ProjectionNode:iI,MeasureLayout:XE}};function C0(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const o="onHover"+t,a=r[o];a&&Ze.postRender(()=>a(e,ou(e)))}class VV extends Xi{mount(){const{current:e}=this.node;e&&(this.unmount=sD(e,(t,r)=>(C0(this.node,r,"Start"),o=>C0(this.node,o,"End"))))}unmount(){}}class MV extends Xi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ru($l(this.node.current,"focus",()=>this.onFocus()),$l(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function x0(n,e,t){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const o="onTap"+(t==="End"?"":t),a=r[o];a&&Ze.postRender(()=>a(e,ou(e)))}class bV extends Xi{mount(){const{current:e}=this.node;e&&(this.unmount=uD(e,(t,r)=>(x0(this.node,r,"Start"),(o,{success:a})=>x0(this.node,o,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const kp=new WeakMap,qd=new WeakMap,LV=n=>{const e=kp.get(n.target);e&&e(n)},OV=n=>{n.forEach(LV)};function FV({root:n,...e}){const t=n||document;qd.has(t)||qd.set(t,{});const r=qd.get(t),o=JSON.stringify(e);return r[o]||(r[o]=new IntersectionObserver(OV,{root:n,...e})),r[o]}function UV(n,e,t){const r=FV(e);return kp.set(n,t),r.observe(n),()=>{kp.delete(n),r.unobserve(n)}}const jV={some:0,all:1};class BV extends Xi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:o="some",once:a}=e,u={root:t?t.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:jV[o]},f=d=>{const{isIntersecting:m}=d;if(this.isInView===m||(this.isInView=m,a&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:v,onViewportLeave:w}=this.node.getProps(),E=m?v:w;E&&E(d)};return UV(this.node.current,u,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(zV(e,t))&&this.startObserver()}unmount(){}}function zV({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const $V={inView:{Feature:BV},tap:{Feature:bV},focus:{Feature:MV},hover:{Feature:VV}},HV={layout:{ProjectionNode:iI,MeasureLayout:XE}},WV={...RN,...$V,...NV,...HV},gl=WD(WV,iN);var R0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ui,sI;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,S){function P(){}P.prototype=S.prototype,k.D=S.prototype,k.prototype=new P,k.prototype.constructor=k,k.C=function(D,V,b){for(var x=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)x[Xe-2]=arguments[Xe];return S.prototype[V].apply(D,x)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,S,P){P||(P=0);var D=Array(16);if(typeof S=="string")for(var V=0;16>V;++V)D[V]=S.charCodeAt(P++)|S.charCodeAt(P++)<<8|S.charCodeAt(P++)<<16|S.charCodeAt(P++)<<24;else for(V=0;16>V;++V)D[V]=S[P++]|S[P++]<<8|S[P++]<<16|S[P++]<<24;S=k.g[0],P=k.g[1],V=k.g[2];var b=k.g[3],x=S+(b^P&(V^b))+D[0]+3614090360&4294967295;S=P+(x<<7&4294967295|x>>>25),x=b+(V^S&(P^V))+D[1]+3905402710&4294967295,b=S+(x<<12&4294967295|x>>>20),x=V+(P^b&(S^P))+D[2]+606105819&4294967295,V=b+(x<<17&4294967295|x>>>15),x=P+(S^V&(b^S))+D[3]+3250441966&4294967295,P=V+(x<<22&4294967295|x>>>10),x=S+(b^P&(V^b))+D[4]+4118548399&4294967295,S=P+(x<<7&4294967295|x>>>25),x=b+(V^S&(P^V))+D[5]+1200080426&4294967295,b=S+(x<<12&4294967295|x>>>20),x=V+(P^b&(S^P))+D[6]+2821735955&4294967295,V=b+(x<<17&4294967295|x>>>15),x=P+(S^V&(b^S))+D[7]+4249261313&4294967295,P=V+(x<<22&4294967295|x>>>10),x=S+(b^P&(V^b))+D[8]+1770035416&4294967295,S=P+(x<<7&4294967295|x>>>25),x=b+(V^S&(P^V))+D[9]+2336552879&4294967295,b=S+(x<<12&4294967295|x>>>20),x=V+(P^b&(S^P))+D[10]+4294925233&4294967295,V=b+(x<<17&4294967295|x>>>15),x=P+(S^V&(b^S))+D[11]+2304563134&4294967295,P=V+(x<<22&4294967295|x>>>10),x=S+(b^P&(V^b))+D[12]+1804603682&4294967295,S=P+(x<<7&4294967295|x>>>25),x=b+(V^S&(P^V))+D[13]+4254626195&4294967295,b=S+(x<<12&4294967295|x>>>20),x=V+(P^b&(S^P))+D[14]+2792965006&4294967295,V=b+(x<<17&4294967295|x>>>15),x=P+(S^V&(b^S))+D[15]+1236535329&4294967295,P=V+(x<<22&4294967295|x>>>10),x=S+(V^b&(P^V))+D[1]+4129170786&4294967295,S=P+(x<<5&4294967295|x>>>27),x=b+(P^V&(S^P))+D[6]+3225465664&4294967295,b=S+(x<<9&4294967295|x>>>23),x=V+(S^P&(b^S))+D[11]+643717713&4294967295,V=b+(x<<14&4294967295|x>>>18),x=P+(b^S&(V^b))+D[0]+3921069994&4294967295,P=V+(x<<20&4294967295|x>>>12),x=S+(V^b&(P^V))+D[5]+3593408605&4294967295,S=P+(x<<5&4294967295|x>>>27),x=b+(P^V&(S^P))+D[10]+38016083&4294967295,b=S+(x<<9&4294967295|x>>>23),x=V+(S^P&(b^S))+D[15]+3634488961&4294967295,V=b+(x<<14&4294967295|x>>>18),x=P+(b^S&(V^b))+D[4]+3889429448&4294967295,P=V+(x<<20&4294967295|x>>>12),x=S+(V^b&(P^V))+D[9]+568446438&4294967295,S=P+(x<<5&4294967295|x>>>27),x=b+(P^V&(S^P))+D[14]+3275163606&4294967295,b=S+(x<<9&4294967295|x>>>23),x=V+(S^P&(b^S))+D[3]+4107603335&4294967295,V=b+(x<<14&4294967295|x>>>18),x=P+(b^S&(V^b))+D[8]+1163531501&4294967295,P=V+(x<<20&4294967295|x>>>12),x=S+(V^b&(P^V))+D[13]+2850285829&4294967295,S=P+(x<<5&4294967295|x>>>27),x=b+(P^V&(S^P))+D[2]+4243563512&4294967295,b=S+(x<<9&4294967295|x>>>23),x=V+(S^P&(b^S))+D[7]+1735328473&4294967295,V=b+(x<<14&4294967295|x>>>18),x=P+(b^S&(V^b))+D[12]+2368359562&4294967295,P=V+(x<<20&4294967295|x>>>12),x=S+(P^V^b)+D[5]+4294588738&4294967295,S=P+(x<<4&4294967295|x>>>28),x=b+(S^P^V)+D[8]+2272392833&4294967295,b=S+(x<<11&4294967295|x>>>21),x=V+(b^S^P)+D[11]+1839030562&4294967295,V=b+(x<<16&4294967295|x>>>16),x=P+(V^b^S)+D[14]+4259657740&4294967295,P=V+(x<<23&4294967295|x>>>9),x=S+(P^V^b)+D[1]+2763975236&4294967295,S=P+(x<<4&4294967295|x>>>28),x=b+(S^P^V)+D[4]+1272893353&4294967295,b=S+(x<<11&4294967295|x>>>21),x=V+(b^S^P)+D[7]+4139469664&4294967295,V=b+(x<<16&4294967295|x>>>16),x=P+(V^b^S)+D[10]+3200236656&4294967295,P=V+(x<<23&4294967295|x>>>9),x=S+(P^V^b)+D[13]+681279174&4294967295,S=P+(x<<4&4294967295|x>>>28),x=b+(S^P^V)+D[0]+3936430074&4294967295,b=S+(x<<11&4294967295|x>>>21),x=V+(b^S^P)+D[3]+3572445317&4294967295,V=b+(x<<16&4294967295|x>>>16),x=P+(V^b^S)+D[6]+76029189&4294967295,P=V+(x<<23&4294967295|x>>>9),x=S+(P^V^b)+D[9]+3654602809&4294967295,S=P+(x<<4&4294967295|x>>>28),x=b+(S^P^V)+D[12]+3873151461&4294967295,b=S+(x<<11&4294967295|x>>>21),x=V+(b^S^P)+D[15]+530742520&4294967295,V=b+(x<<16&4294967295|x>>>16),x=P+(V^b^S)+D[2]+3299628645&4294967295,P=V+(x<<23&4294967295|x>>>9),x=S+(V^(P|~b))+D[0]+4096336452&4294967295,S=P+(x<<6&4294967295|x>>>26),x=b+(P^(S|~V))+D[7]+1126891415&4294967295,b=S+(x<<10&4294967295|x>>>22),x=V+(S^(b|~P))+D[14]+2878612391&4294967295,V=b+(x<<15&4294967295|x>>>17),x=P+(b^(V|~S))+D[5]+4237533241&4294967295,P=V+(x<<21&4294967295|x>>>11),x=S+(V^(P|~b))+D[12]+1700485571&4294967295,S=P+(x<<6&4294967295|x>>>26),x=b+(P^(S|~V))+D[3]+2399980690&4294967295,b=S+(x<<10&4294967295|x>>>22),x=V+(S^(b|~P))+D[10]+4293915773&4294967295,V=b+(x<<15&4294967295|x>>>17),x=P+(b^(V|~S))+D[1]+2240044497&4294967295,P=V+(x<<21&4294967295|x>>>11),x=S+(V^(P|~b))+D[8]+1873313359&4294967295,S=P+(x<<6&4294967295|x>>>26),x=b+(P^(S|~V))+D[15]+4264355552&4294967295,b=S+(x<<10&4294967295|x>>>22),x=V+(S^(b|~P))+D[6]+2734768916&4294967295,V=b+(x<<15&4294967295|x>>>17),x=P+(b^(V|~S))+D[13]+1309151649&4294967295,P=V+(x<<21&4294967295|x>>>11),x=S+(V^(P|~b))+D[4]+4149444226&4294967295,S=P+(x<<6&4294967295|x>>>26),x=b+(P^(S|~V))+D[11]+3174756917&4294967295,b=S+(x<<10&4294967295|x>>>22),x=V+(S^(b|~P))+D[2]+718787259&4294967295,V=b+(x<<15&4294967295|x>>>17),x=P+(b^(V|~S))+D[9]+3951481745&4294967295,k.g[0]=k.g[0]+S&4294967295,k.g[1]=k.g[1]+(V+(x<<21&4294967295|x>>>11))&4294967295,k.g[2]=k.g[2]+V&4294967295,k.g[3]=k.g[3]+b&4294967295}r.prototype.u=function(k,S){S===void 0&&(S=k.length);for(var P=S-this.blockSize,D=this.B,V=this.h,b=0;b<S;){if(V==0)for(;b<=P;)o(this,k,b),b+=this.blockSize;if(typeof k=="string"){for(;b<S;)if(D[V++]=k.charCodeAt(b++),V==this.blockSize){o(this,D),V=0;break}}else for(;b<S;)if(D[V++]=k[b++],V==this.blockSize){o(this,D),V=0;break}}this.h=V,this.o+=S},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var S=1;S<k.length-8;++S)k[S]=0;var P=8*this.o;for(S=k.length-8;S<k.length;++S)k[S]=P&255,P/=256;for(this.u(k),k=Array(16),S=P=0;4>S;++S)for(var D=0;32>D;D+=8)k[P++]=this.g[S]>>>D&255;return k};function a(k,S){var P=f;return Object.prototype.hasOwnProperty.call(P,k)?P[k]:P[k]=S(k)}function u(k,S){this.h=S;for(var P=[],D=!0,V=k.length-1;0<=V;V--){var b=k[V]|0;D&&b==S||(P[V]=b,D=!1)}this.g=P}var f={};function d(k){return-128<=k&&128>k?a(k,function(S){return new u([S|0],0>S?-1:0)}):new u([k|0],0>k?-1:0)}function m(k){if(isNaN(k)||!isFinite(k))return w;if(0>k)return U(m(-k));for(var S=[],P=1,D=0;k>=P;D++)S[D]=k/P|0,P*=4294967296;return new u(S,0)}function v(k,S){if(k.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(k.charAt(0)=="-")return U(v(k.substring(1),S));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=m(Math.pow(S,8)),D=w,V=0;V<k.length;V+=8){var b=Math.min(8,k.length-V),x=parseInt(k.substring(V,V+b),S);8>b?(b=m(Math.pow(S,b)),D=D.j(b).add(m(x))):(D=D.j(P),D=D.add(m(x)))}return D}var w=d(0),E=d(1),C=d(16777216);n=u.prototype,n.m=function(){if(B(this))return-U(this).m();for(var k=0,S=1,P=0;P<this.g.length;P++){var D=this.i(P);k+=(0<=D?D:4294967296+D)*S,S*=4294967296}return k},n.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(O(this))return"0";if(B(this))return"-"+U(this).toString(k);for(var S=m(Math.pow(k,6)),P=this,D="";;){var V=ie(P,S).g;P=H(P,V.j(S));var b=((0<P.g.length?P.g[0]:P.h)>>>0).toString(k);if(P=V,O(P))return b+D;for(;6>b.length;)b="0"+b;D=b+D}},n.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function O(k){if(k.h!=0)return!1;for(var S=0;S<k.g.length;S++)if(k.g[S]!=0)return!1;return!0}function B(k){return k.h==-1}n.l=function(k){return k=H(this,k),B(k)?-1:O(k)?0:1};function U(k){for(var S=k.g.length,P=[],D=0;D<S;D++)P[D]=~k.g[D];return new u(P,~k.h).add(E)}n.abs=function(){return B(this)?U(this):this},n.add=function(k){for(var S=Math.max(this.g.length,k.g.length),P=[],D=0,V=0;V<=S;V++){var b=D+(this.i(V)&65535)+(k.i(V)&65535),x=(b>>>16)+(this.i(V)>>>16)+(k.i(V)>>>16);D=x>>>16,b&=65535,x&=65535,P[V]=x<<16|b}return new u(P,P[P.length-1]&-2147483648?-1:0)};function H(k,S){return k.add(U(S))}n.j=function(k){if(O(this)||O(k))return w;if(B(this))return B(k)?U(this).j(U(k)):U(U(this).j(k));if(B(k))return U(this.j(U(k)));if(0>this.l(C)&&0>k.l(C))return m(this.m()*k.m());for(var S=this.g.length+k.g.length,P=[],D=0;D<2*S;D++)P[D]=0;for(D=0;D<this.g.length;D++)for(var V=0;V<k.g.length;V++){var b=this.i(D)>>>16,x=this.i(D)&65535,Xe=k.i(V)>>>16,gt=k.i(V)&65535;P[2*D+2*V]+=x*gt,X(P,2*D+2*V),P[2*D+2*V+1]+=b*gt,X(P,2*D+2*V+1),P[2*D+2*V+1]+=x*Xe,X(P,2*D+2*V+1),P[2*D+2*V+2]+=b*Xe,X(P,2*D+2*V+2)}for(D=0;D<S;D++)P[D]=P[2*D+1]<<16|P[2*D];for(D=S;D<2*S;D++)P[D]=0;return new u(P,0)};function X(k,S){for(;(k[S]&65535)!=k[S];)k[S+1]+=k[S]>>>16,k[S]&=65535,S++}function q(k,S){this.g=k,this.h=S}function ie(k,S){if(O(S))throw Error("division by zero");if(O(k))return new q(w,w);if(B(k))return S=ie(U(k),S),new q(U(S.g),U(S.h));if(B(S))return S=ie(k,U(S)),new q(U(S.g),S.h);if(30<k.g.length){if(B(k)||B(S))throw Error("slowDivide_ only works with positive integers.");for(var P=E,D=S;0>=D.l(k);)P=oe(P),D=oe(D);var V=fe(P,1),b=fe(D,1);for(D=fe(D,2),P=fe(P,2);!O(D);){var x=b.add(D);0>=x.l(k)&&(V=V.add(P),b=x),D=fe(D,1),P=fe(P,1)}return S=H(k,V.j(S)),new q(V,S)}for(V=w;0<=k.l(S);){for(P=Math.max(1,Math.floor(k.m()/S.m())),D=Math.ceil(Math.log(P)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),b=m(P),x=b.j(S);B(x)||0<x.l(k);)P-=D,b=m(P),x=b.j(S);O(b)&&(b=E),V=V.add(b),k=H(k,x)}return new q(V,k)}n.A=function(k){return ie(this,k).h},n.and=function(k){for(var S=Math.max(this.g.length,k.g.length),P=[],D=0;D<S;D++)P[D]=this.i(D)&k.i(D);return new u(P,this.h&k.h)},n.or=function(k){for(var S=Math.max(this.g.length,k.g.length),P=[],D=0;D<S;D++)P[D]=this.i(D)|k.i(D);return new u(P,this.h|k.h)},n.xor=function(k){for(var S=Math.max(this.g.length,k.g.length),P=[],D=0;D<S;D++)P[D]=this.i(D)^k.i(D);return new u(P,this.h^k.h)};function oe(k){for(var S=k.g.length+1,P=[],D=0;D<S;D++)P[D]=k.i(D)<<1|k.i(D-1)>>>31;return new u(P,k.h)}function fe(k,S){var P=S>>5;S%=32;for(var D=k.g.length-P,V=[],b=0;b<D;b++)V[b]=0<S?k.i(b+P)>>>S|k.i(b+P+1)<<32-S:k.i(b+P);return new u(V,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,sI=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=v,Ui=u}).apply(typeof R0<"u"?R0:typeof self<"u"?self:typeof window<"u"?window:{});var Mc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oI,vl,aI,qc,Dp,lI,uI,cI;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mc=="object"&&Mc];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=t(this);function o(c,g){if(g)e:{var _=r;c=c.split(".");for(var I=0;I<c.length-1;I++){var L=c[I];if(!(L in _))break e;_=_[L]}c=c[c.length-1],I=_[c],g=g(I),g!=I&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function a(c,g){c instanceof String&&(c+="");var _=0,I=!1,L={next:function(){if(!I&&_<c.length){var $=_++;return{value:g($,c[$]),done:!1}}return I=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}o("Array.prototype.values",function(c){return c||function(){return a(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function d(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function v(c,g,_){return c.call.apply(c.bind,arguments)}function w(c,g,_){if(!c)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,I),c.apply(g,L)}}return function(){return c.apply(g,arguments)}}function E(c,g,_){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:w,E.apply(null,arguments)}function C(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var I=_.slice();return I.push.apply(I,arguments),c.apply(this,I)}}function O(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(I,L,$){for(var ne=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)ne[ze-2]=arguments[ze];return g.prototype[L].apply(I,ne)}}function B(c){const g=c.length;if(0<g){const _=Array(g);for(let I=0;I<g;I++)_[I]=c[I];return _}return[]}function U(c,g){for(let _=1;_<arguments.length;_++){const I=arguments[_];if(d(I)){const L=c.length||0,$=I.length||0;c.length=L+$;for(let ne=0;ne<$;ne++)c[L+ne]=I[ne]}else c.push(I)}}class H{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function X(c){return/^[\s\xa0]*$/.test(c)}function q(){var c=f.navigator;return c&&(c=c.userAgent)?c:""}function ie(c){return ie[" "](c),c}ie[" "]=function(){};var oe=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function fe(c,g,_){for(const I in c)g.call(_,c[I],I,c)}function k(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function S(c){const g={};for(const _ in c)g[_]=c[_];return g}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,g){let _,I;for(let L=1;L<arguments.length;L++){I=arguments[L];for(_ in I)c[_]=I[_];for(let $=0;$<P.length;$++)_=P[$],Object.prototype.hasOwnProperty.call(I,_)&&(c[_]=I[_])}}function V(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function b(c){f.setTimeout(()=>{throw c},0)}function x(){var c=he;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class Xe{constructor(){this.h=this.g=null}add(g,_){const I=gt.get();I.set(g,_),this.h?this.h.next=I:this.g=I,this.h=I}}var gt=new H(()=>new Nt,c=>c.reset());class Nt{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Ie,ee=!1,he=new Xe,re=()=>{const c=f.Promise.resolve(void 0);Ie=()=>{c.then(M)}};var M=()=>{for(var c;c=x();){try{c.h.call(c.g)}catch(_){b(_)}var g=gt;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}ee=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var Ce=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};f.addEventListener("test",_,g),f.removeEventListener("test",_,g)}catch{}return c}();function xe(c,g){if(me.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,I=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(oe){e:{try{ie(g.nodeName);var L=!0;break e}catch{}L=!1}L||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Me[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&xe.aa.h.call(this)}}O(xe,me);var Me={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ue="closure_listenable_"+(1e6*Math.random()|0),je=0;function He(c,g,_,I,L){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!I,this.ha=L,this.key=++je,this.da=this.fa=!1}function At(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ar(c){this.src=c,this.g={},this.h=0}Ar.prototype.add=function(c,g,_,I,L){var $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);var ne=oi(c,g,I,L);return-1<ne?(g=c[ne],_||(g.fa=!1)):(g=new He(g,this.src,$,!!I,L),g.fa=_,c.push(g)),g};function Hs(c,g){var _=g.type;if(_ in c.g){var I=c.g[_],L=Array.prototype.indexOf.call(I,g,void 0),$;($=0<=L)&&Array.prototype.splice.call(I,L,1),$&&(At(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function oi(c,g,_,I){for(var L=0;L<c.length;++L){var $=c[L];if(!$.da&&$.listener==g&&$.capture==!!_&&$.ha==I)return L}return-1}var Yi="closure_lm_"+(1e6*Math.random()|0),Ws={};function wa(c,g,_,I,L){if(Array.isArray(g)){for(var $=0;$<g.length;$++)wa(c,g[$],_,I,L);return null}return _=Ia(_),c&&c[Ue]?c.K(g,_,m(I)?!!I.capture:!1,L):Ta(c,g,_,!1,I,L)}function Ta(c,g,_,I,L,$){if(!g)throw Error("Invalid event type");var ne=m(L)?!!L.capture:!!L,ze=qs(c);if(ze||(c[Yi]=ze=new Ar(c)),_=ze.add(g,_,I,ne,$),_.proxy)return _;if(I=fu(),_.proxy=I,I.src=c,I.listener=_,c.addEventListener)Ce||(L=ne),L===void 0&&(L=!1),c.addEventListener(g.toString(),I,L);else if(c.attachEvent)c.attachEvent(Cr(g.toString()),I);else if(c.addListener&&c.removeListener)c.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return _}function fu(){function c(_){return g.call(c.src,c.listener,_)}const g=Ea;return c}function Ks(c,g,_,I,L){if(Array.isArray(g))for(var $=0;$<g.length;$++)Ks(c,g[$],_,I,L);else I=m(I)?!!I.capture:!!I,_=Ia(_),c&&c[Ue]?(c=c.i,g=String(g).toString(),g in c.g&&($=c.g[g],_=oi($,_,I,L),-1<_&&(At($[_]),Array.prototype.splice.call($,_,1),$.length==0&&(delete c.g[g],c.h--)))):c&&(c=qs(c))&&(g=c.g[g.toString()],c=-1,g&&(c=oi(g,_,I,L)),(_=-1<c?g[c]:null)&&Pr(_))}function Pr(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[Ue])Hs(g.i,c);else{var _=c.type,I=c.proxy;g.removeEventListener?g.removeEventListener(_,I,c.capture):g.detachEvent?g.detachEvent(Cr(_),I):g.addListener&&g.removeListener&&g.removeListener(I),(_=qs(g))?(Hs(_,c),_.h==0&&(_.src=null,g[Yi]=null)):At(c)}}}function Cr(c){return c in Ws?Ws[c]:Ws[c]="on"+c}function Ea(c,g){if(c.da)c=!0;else{g=new xe(g,this);var _=c.listener,I=c.ha||c.src;c.fa&&Pr(c),c=_.call(I,g)}return c}function qs(c){return c=c[Yi],c instanceof Ar?c:null}var Gs="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ia(c){return typeof c=="function"?c:(c[Gs]||(c[Gs]=function(g){return c.handleEvent(g)}),c[Gs])}function yt(){K.call(this),this.i=new Ar(this),this.M=this,this.F=null}O(yt,K),yt.prototype[Ue]=!0,yt.prototype.removeEventListener=function(c,g,_,I){Ks(this,c,g,_,I)};function vt(c,g){var _,I=c.F;if(I)for(_=[];I;I=I.F)_.push(I);if(c=c.M,I=g.type||g,typeof g=="string")g=new me(g,c);else if(g instanceof me)g.target=g.target||c;else{var L=g;g=new me(I,c),D(g,L)}if(L=!0,_)for(var $=_.length-1;0<=$;$--){var ne=g.g=_[$];L=xr(ne,I,!0,g)&&L}if(ne=g.g=c,L=xr(ne,I,!0,g)&&L,L=xr(ne,I,!1,g)&&L,_)for($=0;$<_.length;$++)ne=g.g=_[$],L=xr(ne,I,!1,g)&&L}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],I=0;I<_.length;I++)At(_[I]);delete c.g[g],c.h--}}this.F=null},yt.prototype.K=function(c,g,_,I){return this.i.add(String(c),g,!1,_,I)},yt.prototype.L=function(c,g,_,I){return this.i.add(String(c),g,!0,_,I)};function xr(c,g,_,I){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var L=!0,$=0;$<g.length;++$){var ne=g[$];if(ne&&!ne.da&&ne.capture==_){var ze=ne.listener,_t=ne.ha||ne.src;ne.fa&&Hs(c.i,ne),L=ze.call(_t,I)!==!1&&L}}return L&&!I.defaultPrevented}function Sa(c,g,_){if(typeof c=="function")_&&(c=E(c,_));else if(c&&typeof c.handleEvent=="function")c=E(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:f.setTimeout(c,g||0)}function ai(c){c.g=Sa(()=>{c.g=null,c.i&&(c.i=!1,ai(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Ji extends K{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:ai(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zi(c){K.call(this),this.h=c,this.g={}}O(Zi,K);var Aa=[];function Pa(c){fe(c.g,function(g,_){this.g.hasOwnProperty(_)&&Pr(g)},c),c.g={}}Zi.prototype.N=function(){Zi.aa.N.call(this),Pa(this)},Zi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ca=f.JSON.stringify,xa=f.JSON.parse,Ra=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function es(){}es.prototype.h=null;function Qs(c){return c.h||(c.h=c.i())}function Xs(){}var wn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function nr(){me.call(this,"d")}O(nr,me);function Ys(){me.call(this,"c")}O(Ys,me);var rr={},ka=null;function ts(){return ka=ka||new yt}rr.La="serverreachability";function Da(c){me.call(this,rr.La,c)}O(Da,me);function Rr(c){const g=ts();vt(g,new Da(g))}rr.STAT_EVENT="statevent";function Na(c,g){me.call(this,rr.STAT_EVENT,c),this.stat=g}O(Na,me);function at(c){const g=ts();vt(g,new Na(g,c))}rr.Ma="timingevent";function Js(c,g){me.call(this,rr.Ma,c),this.size=g}O(Js,me);function Ln(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},g)}function ns(){this.g=!0}ns.prototype.xa=function(){this.g=!1};function rs(c,g,_,I,L,$){c.info(function(){if(c.g)if($)for(var ne="",ze=$.split("&"),_t=0;_t<ze.length;_t++){var be=ze[_t].split("=");if(1<be.length){var Pt=be[0];be=be[1];var ht=Pt.split("_");ne=2<=ht.length&&ht[1]=="type"?ne+(Pt+"="+be+"&"):ne+(Pt+"=redacted&")}}else ne=null;else ne=$;return"XMLHTTP REQ ("+I+") [attempt "+L+"]: "+g+`
`+_+`
`+ne})}function Zs(c,g,_,I,L,$,ne){c.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+L+"]: "+g+`
`+_+`
`+$+" "+ne})}function On(c,g,_,I){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Kh(c,_)+(I?" "+I:"")})}function Va(c,g){c.info(function(){return"TIMEOUT: "+g})}ns.prototype.info=function(){};function Kh(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var I=_[c];if(!(2>I.length)){var L=I[1];if(Array.isArray(L)&&!(1>L.length)){var $=L[0];if($!="noop"&&$!="stop"&&$!="close")for(var ne=1;ne<L.length;ne++)L[ne]=""}}}}return Ca(_)}catch{return g}}var eo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},du={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fn;function is(){}O(is,es),is.prototype.g=function(){return new XMLHttpRequest},is.prototype.i=function(){return{}},Fn=new is;function Un(c,g,_,I){this.j=c,this.i=g,this.l=_,this.R=I||1,this.U=new Zi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pu}function pu(){this.i=null,this.g="",this.h=!1}var Ma={},to={};function no(c,g,_){c.L=1,c.v=fi(pn(g)),c.m=_,c.P=!0,ba(c,null)}function ba(c,g){c.F=Date.now(),We(c),c.A=pn(c.v);var _=c.A,I=c.R;Array.isArray(I)||(I=[String(I)]),pi(_.i,"t",I),c.C=0,_=c.j.J,c.h=new pu,c.g=Nu(c.j,_?g:null,!c.m),0<c.O&&(c.M=new Ji(E(c.Y,c,c.g),c.O)),g=c.U,_=c.g,I=c.ca;var L="readystatechange";Array.isArray(L)||(L&&(Aa[0]=L.toString()),L=Aa);for(var $=0;$<L.length;$++){var ne=wa(_,L[$],I||g.handleEvent,!1,g.h||g);if(!ne)break;g.g[ne.key]=ne}g=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),Rr(),rs(c.i,c.u,c.A,c.l,c.R,c.m)}Un.prototype.ca=function(c){c=c.target;const g=this.M;g&&nn(c)==3?g.j():this.Y(c)},Un.prototype.Y=function(c){try{if(c==this.g)e:{const ht=nn(this.g);var g=this.g.Ba();const In=this.g.Z();if(!(3>ht)&&(ht!=3||this.g&&(this.h.h||this.g.oa()||Ba(this.g)))){this.J||ht!=4||g==7||(g==8||0>=In?Rr(3):Rr(2)),ss(this);var _=this.g.Z();this.X=_;t:if(mu(this)){var I=Ba(this.g);c="";var L=I.length,$=nn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Tn(this),li(this);var ne="";break t}this.h.i=new f.TextDecoder}for(g=0;g<L;g++)this.h.h=!0,c+=this.h.i.decode(I[g],{stream:!($&&g==L-1)});I.length=0,this.h.g+=c,this.C=0,ne=this.h.g}else ne=this.g.oa();if(this.o=_==200,Zs(this.i,this.u,this.A,this.l,this.R,ht,_),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,_t=this.g;if((ze=_t.g?_t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(ze)){var be=ze;break t}}be=null}if(_=be)On(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,La(this,_);else{this.o=!1,this.s=3,at(12),Tn(this),li(this);break e}}if(this.P){_=!0;let gn;for(;!this.J&&this.C<ne.length;)if(gn=qh(this,ne),gn==to){ht==4&&(this.s=4,at(14),_=!1),On(this.i,this.l,null,"[Incomplete Response]");break}else if(gn==Ma){this.s=4,at(15),On(this.i,this.l,ne,"[Invalid Chunk]"),_=!1;break}else On(this.i,this.l,gn,null),La(this,gn);if(mu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ht!=4||ne.length!=0||this.h.h||(this.s=1,at(16),_=!1),this.o=this.o&&_,!_)On(this.i,this.l,ne,"[Invalid Chunked Response]"),Tn(this),li(this);else if(0<ne.length&&!this.W){this.W=!0;var Pt=this.j;Pt.g==this&&Pt.ba&&!Pt.M&&(Pt.j.info("Great, no buffering proxy detected. Bytes received: "+ne.length),$a(Pt),Pt.M=!0,at(11))}}else On(this.i,this.l,ne,null),La(this,ne);ht==4&&Tn(this),this.o&&!this.J&&(ht==4?po(this.j,this):(this.o=!1,We(this)))}else lo(this.g),_==400&&0<ne.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),Tn(this),li(this)}}}catch{}finally{}};function mu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function qh(c,g){var _=c.C,I=g.indexOf(`
`,_);return I==-1?to:(_=Number(g.substring(_,I)),isNaN(_)?Ma:(I+=1,I+_>g.length?to:(g=g.slice(I,I+_),c.C=I+_,g)))}Un.prototype.cancel=function(){this.J=!0,Tn(this)};function We(c){c.S=Date.now()+c.I,gu(c,c.I)}function gu(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ln(E(c.ba,c),g)}function ss(c){c.B&&(f.clearTimeout(c.B),c.B=null)}Un.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Va(this.i,this.A),this.L!=2&&(Rr(),at(17)),Tn(this),this.s=2,li(this)):gu(this,this.S-c)};function li(c){c.j.G==0||c.J||po(c.j,c)}function Tn(c){ss(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Pa(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function La(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||Xt(_.h,c))){if(!c.K&&Xt(_.h,c)&&_.G==3){try{var I=_.Da.g.parse(g)}catch{I=null}if(Array.isArray(I)&&I.length==3){var L=I;if(L[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)fo(_),Hn(_);else break e;ho(_),at(18)}}else _.za=L[1],0<_.za-_.T&&37500>L[2]&&_.F&&_.v==0&&!_.C&&(_.C=Ln(E(_.Za,_),6e3));if(1>=vu(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Mr(_,11)}else if((c.K||_.g==c)&&fo(_),!X(g))for(L=_.Da.g.parse(g),g=0;g<L.length;g++){let be=L[g];if(_.T=be[0],be=be[1],_.G==2)if(be[0]=="c"){_.K=be[1],_.ia=be[2];const Pt=be[3];Pt!=null&&(_.la=Pt,_.j.info("VER="+_.la));const ht=be[4];ht!=null&&(_.Aa=ht,_.j.info("SVER="+_.Aa));const In=be[5];In!=null&&typeof In=="number"&&0<In&&(I=1.5*In,_.L=I,_.j.info("backChannelRequestTimeoutMs_="+I)),I=_;const gn=c.g;if(gn){const fs=gn.g?gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fs){var $=I.h;$.g||fs.indexOf("spdy")==-1&&fs.indexOf("quic")==-1&&fs.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Oa($,$.h),$.h=null))}if(I.D){const go=gn.g?gn.g.getResponseHeader("X-HTTP-Session-Id"):null;go&&(I.ya=go,$e(I.I,I.D,go))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),I=_;var ne=c;if(I.qa=Du(I,I.J?I.ia:null,I.W),ne.K){_u(I.h,ne);var ze=ne,_t=I.L;_t&&(ze.I=_t),ze.B&&(ss(ze),We(ze)),I.g=ne}else hs(I);0<_.i.length&&ar(_)}else be[0]!="stop"&&be[0]!="close"||Mr(_,7);else _.G==3&&(be[0]=="stop"||be[0]=="close"?be[0]=="stop"?Mr(_,7):Mt(_):be[0]!="noop"&&_.l&&_.l.ta(be),_.v=0)}}Rr(4)}catch{}}var yu=class{constructor(c,g){this.g=c,this.map=g}};function os(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function dn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function vu(c){return c.h?1:c.g?c.g.size:0}function Xt(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Oa(c,g){c.g?c.g.add(g):c.h=g}function _u(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}os.prototype.cancel=function(){if(this.i=wu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function wu(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return B(c.i)}function ro(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(d(c)){for(var g=[],_=c.length,I=0;I<_;I++)g.push(c[I]);return g}g=[],_=0;for(I in c)g[_++]=c[I];return g}function io(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(d(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const I in c)g[_++]=I;return g}}}function ui(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(d(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=io(c),I=ro(c),L=I.length,$=0;$<L;$++)g.call(void 0,I[$],_&&_[$],c)}var as=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gh(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var I=c[_].indexOf("="),L=null;if(0<=I){var $=c[_].substring(0,I);L=c[_].substring(I+1)}else $=c[_];g($,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function kr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof kr){this.h=c.h,ls(this,c.j),this.o=c.o,this.g=c.g,ci(this,c.s),this.l=c.l;var g=c.i,_=new ir;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),hi(this,_),this.m=c.m}else c&&(g=String(c).match(as))?(this.h=!1,ls(this,g[1]||"",!0),this.o=Ve(g[2]||""),this.g=Ve(g[3]||"",!0),ci(this,g[4]),this.l=Ve(g[5]||"",!0),hi(this,g[6]||"",!0),this.m=Ve(g[7]||"")):(this.h=!1,this.i=new ir(null,this.h))}kr.prototype.toString=function(){var c=[],g=this.j;g&&c.push(di(g,so,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(di(g,so,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(di(_,_.charAt(0)=="/"?Iu:Eu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",di(_,Fa)),c.join("")};function pn(c){return new kr(c)}function ls(c,g,_){c.j=_?Ve(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function ci(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function hi(c,g,_){g instanceof ir?(c.i=g,sr(c.i,c.h)):(_||(g=di(g,Su)),c.i=new ir(g,c.h))}function $e(c,g,_){c.i.set(g,_)}function fi(c){return $e(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ve(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function di(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,Tu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Tu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var so=/[#\/\?@]/g,Eu=/[#\?:]/g,Iu=/[#\?]/g,Su=/[#\?@]/g,Fa=/#/g;function ir(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Vt(c){c.g||(c.g=new Map,c.h=0,c.i&&Gh(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}n=ir.prototype,n.add=function(c,g){Vt(this),this.i=null,c=En(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function jn(c,g){Vt(c),g=En(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Bn(c,g){return Vt(c),g=En(c,g),c.g.has(g)}n.forEach=function(c,g){Vt(this),this.g.forEach(function(_,I){_.forEach(function(L){c.call(g,L,I,this)},this)},this)},n.na=function(){Vt(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let I=0;I<g.length;I++){const L=c[I];for(let $=0;$<L.length;$++)_.push(g[I])}return _},n.V=function(c){Vt(this);let g=[];if(typeof c=="string")Bn(this,c)&&(g=g.concat(this.g.get(En(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},n.set=function(c,g){return Vt(this),this.i=null,c=En(this,c),Bn(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},n.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function pi(c,g,_){jn(c,g),0<_.length&&(c.i=null,c.g.set(En(c,g),B(_)),c.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var I=g[_];const $=encodeURIComponent(String(I)),ne=this.V(I);for(I=0;I<ne.length;I++){var L=$;ne[I]!==""&&(L+="="+encodeURIComponent(String(ne[I]))),c.push(L)}}return this.i=c.join("&")};function En(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function sr(c,g){g&&!c.j&&(Vt(c),c.i=null,c.g.forEach(function(_,I){var L=I.toLowerCase();I!=L&&(jn(this,I),pi(this,L,_))},c)),c.j=g}function Qh(c,g){const _=new ns;if(f.Image){const I=new Image;I.onload=C(tn,_,"TestLoadImage: loaded",!0,g,I),I.onerror=C(tn,_,"TestLoadImage: error",!1,g,I),I.onabort=C(tn,_,"TestLoadImage: abort",!1,g,I),I.ontimeout=C(tn,_,"TestLoadImage: timeout",!1,g,I),f.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=c}else g(!1)}function Au(c,g){const _=new ns,I=new AbortController,L=setTimeout(()=>{I.abort(),tn(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:I.signal}).then($=>{clearTimeout(L),$.ok?tn(_,"TestPingServer: ok",!0,g):tn(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(L),tn(_,"TestPingServer: error",!1,g)})}function tn(c,g,_,I,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),I(_)}catch{}}function Xh(){this.g=new Ra}function Pu(c,g,_){const I=_||"";try{ui(c,function(L,$){let ne=L;m(L)&&(ne=Ca(L)),g.push(I+$+"="+encodeURIComponent(ne))})}catch(L){throw g.push(I+"type="+encodeURIComponent("_badmap")),L}}function Dr(c){this.l=c.Ub||null,this.j=c.eb||!1}O(Dr,es),Dr.prototype.g=function(){return new us(this.l,this.j)},Dr.prototype.i=function(c){return function(){return c}}({});function us(c,g){yt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(us,yt),n=us.prototype,n.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,$n(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||f).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zn(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Cu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Cu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?zn(this):$n(this),this.readyState==3&&Cu(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,zn(this))},n.Qa=function(c){this.g&&(this.response=c,zn(this))},n.ga=function(){this.g&&zn(this)};function zn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,$n(c)}n.setRequestHeader=function(c,g){this.u.append(c,g)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function $n(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(us.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Nr(c){let g="";return fe(c,function(_,I){g+=I,g+=":",g+=_,g+=`\r
`}),g}function mi(c,g,_){e:{for(I in _){var I=!1;break e}I=!0}I||(_=Nr(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):$e(c,g,_))}function Ye(c){yt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(Ye,yt);var Yh=/^https?$/i,Ua=["POST","PUT"];n=Ye.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,g,_,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fn.g(),this.v=this.o?Qs(this.o):Qs(Fn),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch($){cs(this,$);return}if(c=_||"",_=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var L in I)_.set(L,I[L]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const $ of I.keys())_.set($,I.get($));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(_.keys()).find($=>$.toLowerCase()=="content-type"),L=f.FormData&&c instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Ua,g,void 0))||I||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ne]of _)this.g.setRequestHeader($,ne);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ao(this),this.u=!0,this.g.send(c),this.u=!1}catch($){cs(this,$)}};function cs(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,oo(c),mn(c)}function oo(c){c.A||(c.A=!0,vt(c,"complete"),vt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,vt(this,"complete"),vt(this,"abort"),mn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),mn(this,!0)),Ye.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ja(this):this.bb())},n.bb=function(){ja(this)};function ja(c){if(c.h&&typeof u<"u"&&(!c.v[1]||nn(c)!=4||c.Z()!=2)){if(c.u&&nn(c)==4)Sa(c.Ea,0,c);else if(vt(c,"readystatechange"),nn(c)==4){c.h=!1;try{const ne=c.Z();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var I;if(I=ne===0){var L=String(c.D).match(as)[1]||null;!L&&f.self&&f.self.location&&(L=f.self.location.protocol.slice(0,-1)),I=!Yh.test(L?L.toLowerCase():"")}_=I}if(_)vt(c,"complete"),vt(c,"success");else{c.m=6;try{var $=2<nn(c)?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.Z()+"]",oo(c)}}finally{mn(c)}}}}function mn(c,g){if(c.g){ao(c);const _=c.g,I=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||vt(c,"ready");try{_.onreadystatechange=I}catch{}}}function ao(c){c.I&&(f.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function nn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<nn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),xa(g)}};function Ba(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function lo(c){const g={};c=(c.g&&2<=nn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<c.length;I++){if(X(c[I]))continue;var _=V(c[I]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const $=g[L]||[];g[L]=$,$.push(_)}k(g,function(I){return I.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function or(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function za(c){this.Aa=0,this.i=[],this.j=new ns,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=or("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=or("baseRetryDelayMs",5e3,c),this.cb=or("retryDelaySeedMs",1e4,c),this.Wa=or("forwardChannelMaxRetries",2,c),this.wa=or("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new os(c&&c.concurrentRequestLimit),this.Da=new Xh,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=za.prototype,n.la=8,n.G=1,n.connect=function(c,g,_,I){at(0),this.W=c,this.H=g||{},_&&I!==void 0&&(this.H.OSID=_,this.H.OAID=I),this.F=this.X,this.I=Du(this,null,this.W),ar(this)};function Mt(c){if(uo(c),c.G==3){var g=c.U++,_=pn(c.I);if($e(_,"SID",c.K),$e(_,"RID",g),$e(_,"TYPE","terminate"),Vr(c,_),g=new Un(c,c.j,g),g.L=2,g.v=fi(pn(_)),_=!1,f.navigator&&f.navigator.sendBeacon)try{_=f.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&f.Image&&(new Image().src=g.v,_=!0),_||(g.g=Nu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),We(g)}ku(c)}function Hn(c){c.g&&($a(c),c.g.cancel(),c.g=null)}function uo(c){Hn(c),c.u&&(f.clearTimeout(c.u),c.u=null),fo(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&f.clearTimeout(c.s),c.s=null)}function ar(c){if(!dn(c.h)&&!c.s){c.s=!0;var g=c.Ga;Ie||re(),ee||(Ie(),ee=!0),he.add(g,c),c.B=0}}function Jh(c,g){return vu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ln(E(c.Ga,c,g),Ru(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const L=new Un(this,this.j,c);let $=this.o;if(this.S&&($?($=S($),D($,this.S)):$=this.S),this.m!==null||this.O||(L.H=$,$=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var I=this.i[_];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(g+=I,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=gi(this,L,g),_=pn(this.I),$e(_,"RID",c),$e(_,"CVER",22),this.D&&$e(_,"X-HTTP-Session-Id",this.D),Vr(this,_),$&&(this.O?g="headers="+encodeURIComponent(String(Nr($)))+"&"+g:this.m&&mi(_,this.m,$)),Oa(this.h,L),this.Ua&&$e(_,"TYPE","init"),this.P?($e(_,"$req",g),$e(_,"SID","null"),L.T=!0,no(L,_,null)):no(L,_,g),this.G=2}}else this.G==3&&(c?co(this,c):this.i.length==0||dn(this.h)||co(this))};function co(c,g){var _;g?_=g.l:_=c.U++;const I=pn(c.I);$e(I,"SID",c.K),$e(I,"RID",_),$e(I,"AID",c.T),Vr(c,I),c.m&&c.o&&mi(I,c.m,c.o),_=new Un(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=gi(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Oa(c.h,_),no(_,I,g)}function Vr(c,g){c.H&&fe(c.H,function(_,I){$e(g,I,_)}),c.l&&ui({},function(_,I){$e(g,I,_)})}function gi(c,g,_){_=Math.min(c.i.length,_);var I=c.l?E(c.l.Na,c.l,c):null;e:{var L=c.i;let $=-1;for(;;){const ne=["count="+_];$==-1?0<_?($=L[0].g,ne.push("ofs="+$)):$=0:ne.push("ofs="+$);let ze=!0;for(let _t=0;_t<_;_t++){let be=L[_t].g;const Pt=L[_t].map;if(be-=$,0>be)$=Math.max(0,L[_t].g-100),ze=!1;else try{Pu(Pt,ne,"req"+be+"_")}catch{I&&I(Pt)}}if(ze){I=ne.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,I}function hs(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;Ie||re(),ee||(Ie(),ee=!0),he.add(g,c),c.v=0}}function ho(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ln(E(c.Fa,c),Ru(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,xu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ln(E(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),Hn(this),xu(this))};function $a(c){c.A!=null&&(f.clearTimeout(c.A),c.A=null)}function xu(c){c.g=new Un(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=pn(c.qa);$e(g,"RID","rpc"),$e(g,"SID",c.K),$e(g,"AID",c.T),$e(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&$e(g,"TO",c.ja),$e(g,"TYPE","xmlhttp"),Vr(c,g),c.m&&c.o&&mi(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=fi(pn(g)),_.m=null,_.P=!0,ba(_,c)}n.Za=function(){this.C!=null&&(this.C=null,Hn(this),ho(this),at(19))};function fo(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function po(c,g){var _=null;if(c.g==g){fo(c),$a(c),c.g=null;var I=2}else if(Xt(c.h,g))_=g.D,_u(c.h,g),I=1;else return;if(c.G!=0){if(g.o)if(I==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var L=c.B;I=ts(),vt(I,new Js(I,_)),ar(c)}else hs(c);else if(L=g.s,L==3||L==0&&0<g.X||!(I==1&&Jh(c,g)||I==2&&ho(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),L){case 1:Mr(c,5);break;case 4:Mr(c,10);break;case 3:Mr(c,6);break;default:Mr(c,2)}}}function Ru(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function Mr(c,g){if(c.j.info("Error code "+g),g==2){var _=E(c.fb,c),I=c.Xa;const L=!I;I=new kr(I||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||ls(I,"https"),fi(I),L?Qh(I.toString(),_):Au(I.toString(),_)}else at(2);c.G=0,c.l&&c.l.sa(g),ku(c),uo(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function ku(c){if(c.G=0,c.ka=[],c.l){const g=wu(c.h);(g.length!=0||c.i.length!=0)&&(U(c.ka,g),U(c.ka,c.i),c.h.i.length=0,B(c.i),c.i.length=0),c.l.ra()}}function Du(c,g,_){var I=_ instanceof kr?pn(_):new kr(_);if(I.g!="")g&&(I.g=g+"."+I.g),ci(I,I.s);else{var L=f.location;I=L.protocol,g=g?g+"."+L.hostname:L.hostname,L=+L.port;var $=new kr(null);I&&ls($,I),g&&($.g=g),L&&ci($,L),_&&($.l=_),I=$}return _=c.D,g=c.ya,_&&g&&$e(I,_,g),$e(I,"VER",c.la),Vr(c,I),I}function Nu(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Ye(new Dr({eb:_})):new Ye(c.pa),g.Ha(c.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ha(){}n=Ha.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function mo(){}mo.prototype.g=function(c,g){return new Yt(c,g)};function Yt(c,g){yt.call(this),this.g=new za(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!X(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!X(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new lr(this)}O(Yt,yt),Yt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Yt.prototype.close=function(){Mt(this.g)},Yt.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Ca(c),c=_);g.i.push(new yu(g.Ya++,c)),g.G==3&&ar(g)},Yt.prototype.N=function(){this.g.l=null,delete this.j,Mt(this.g),delete this.g,Yt.aa.N.call(this)};function Vu(c){nr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}O(Vu,nr);function Mu(){Ys.call(this),this.status=1}O(Mu,Ys);function lr(c){this.g=c}O(lr,Ha),lr.prototype.ua=function(){vt(this.g,"a")},lr.prototype.ta=function(c){vt(this.g,new Vu(c))},lr.prototype.sa=function(c){vt(this.g,new Mu)},lr.prototype.ra=function(){vt(this.g,"b")},mo.prototype.createWebChannel=mo.prototype.g,Yt.prototype.send=Yt.prototype.o,Yt.prototype.open=Yt.prototype.m,Yt.prototype.close=Yt.prototype.close,cI=function(){return new mo},uI=function(){return ts()},lI=rr,Dp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},eo.NO_ERROR=0,eo.TIMEOUT=8,eo.HTTP_ERROR=6,qc=eo,du.COMPLETE="complete",aI=du,Xs.EventType=wn,wn.OPEN="a",wn.CLOSE="b",wn.ERROR="c",wn.MESSAGE="d",yt.prototype.listen=yt.prototype.K,vl=Xs,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,oI=Ye}).apply(typeof Mc<"u"?Mc:typeof self<"u"?self:typeof window<"u"?window:{});const k0="@firebase/firestore",D0="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kt.UNAUTHENTICATED=new Kt(null),Kt.GOOGLE_CREDENTIALS=new Kt("google-credentials-uid"),Kt.FIRST_PARTY=new Kt("first-party-uid"),Kt.MOCK_USER=new Kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ga="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs=new Ah("@firebase/firestore");function Uo(){return Fs.logLevel}function ae(n,...e){if(Fs.logLevel<=ke.DEBUG){const t=e.map(Wm);Fs.debug(`Firestore (${ga}): ${n}`,...t)}}function ri(n,...e){if(Fs.logLevel<=ke.ERROR){const t=e.map(Wm);Fs.error(`Firestore (${ga}): ${n}`,...t)}}function ra(n,...e){if(Fs.logLevel<=ke.WARN){const t=e.map(Wm);Fs.warn(`Firestore (${ga}): ${n}`,...t)}}function Wm(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,hI(n,r,t)}function hI(n,e,t){let r=`FIRESTORE (${ga}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw ri(r),new Error(r)}function Be(n,e,t,r){let o="Unexpected state";typeof t=="string"?o=t:r=t,n||hI(e,o,r)}function Ae(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends si{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class KV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Kt.UNAUTHENTICATED))}shutdown(){}}class qV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class GV{constructor(e){this.t=e,this.currentUser=Kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Be(this.o===void 0,42304);let r=this.i;const o=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let a=new ji;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ji,e.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const d=a;e.enqueueRetryable(async()=>{await d.promise,await o(this.currentUser)})},f=d=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(d=>f(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?f(d):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ji)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Be(typeof r.accessToken=="string",31837,{l:r}),new fI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Be(e===null||typeof e=="string",2055,{h:e}),new Kt(e)}}class QV{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Kt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class XV{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new QV(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class N0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YV{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Jn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Be(this.o===void 0,3512);const r=a=>{a.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,ae("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const o=a=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new N0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Be(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new N0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JV(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=JV(40);for(let a=0;a<o.length;++a)r.length<20&&o[a]<t&&(r+=e.charAt(o[a]%62))}return r}}function De(n,e){return n<e?-1:n>e?1:0}function Np(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const o=n.charAt(r),a=e.charAt(r);if(o!==a)return Gd(o)===Gd(a)?De(o,a):Gd(o)?1:-1}return De(n.length,e.length)}const ZV=55296,e2=57343;function Gd(n){const e=n.charCodeAt(0);return e>=ZV&&e<=e2}function ia(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0="__name__";class dr{constructor(e,t,r){t===void 0?t=0:t>e.length&&_e(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&_e(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return dr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof dr?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const a=dr.compareSegments(e.get(o),t.get(o));if(a!==0)return a}return De(e.length,t.length)}static compareSegments(e,t){const r=dr.isNumericId(e),o=dr.isNumericId(t);return r&&!o?-1:!r&&o?1:r&&o?dr.extractNumericId(e).compare(dr.extractNumericId(t)):Np(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ui.fromString(e.substring(4,e.length-2))}}class nt extends dr{construct(e,t,r){return new nt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new pe(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new nt(t)}static emptyPath(){return new nt([])}}const t2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ut extends dr{construct(e,t,r){return new Ut(e,t,r)}static isValidIdentifier(e){return t2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ut.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===V0}static keyField(){return new Ut([V0])}static fromServerFormat(e){const t=[];let r="",o=0;const a=()=>{if(r.length===0)throw new pe(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new pe(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[o+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new pe(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,o+=2}else f==="`"?(u=!u,o++):f!=="."||u?(r+=f,o++):(a(),o++)}if(a(),u)throw new pe(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ut(t)}static emptyPath(){return new Ut([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(nt.fromString(e))}static fromName(e){return new ve(nt.fromString(e).popFirst(5))}static empty(){return new ve(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return nt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new nt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(n,e,t){if(!t)throw new pe(J.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function r2(n,e,t,r){if(e===!0&&r===!0)throw new pe(J.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function M0(n){if(!ve.isDocumentKey(n))throw new pe(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function dI(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function qm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":_e(12329,{type:typeof n})}function Hl(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new pe(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=qm(n);throw new pe(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(n,e){const t={typeString:n};return e&&(t.value=e),t}function au(n,e){if(!dI(n))throw new pe(J.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const o=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(o&&typeof u!==o){t=`JSON field '${r}' must be a ${o}.`;break}if(a!==void 0&&u!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new pe(J.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0=-62135596800,L0=1e6;class Qe{static now(){return Qe.fromMillis(Date.now())}static fromDate(e){return Qe.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*L0);return new Qe(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new pe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new pe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<b0)throw new pe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/L0}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Qe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(au(e,Qe._jsonSchema))return new Qe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-b0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Qe._jsonSchemaVersion="firestore/timestamp/1.0",Qe._jsonSchema={type:mt("string",Qe._jsonSchemaVersion),seconds:mt("number"),nanoseconds:mt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new Qe(0,0))}static max(){return new Se(new Qe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wl=-1;function i2(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(r===1e9?new Qe(t+1,0):new Qe(t,r));return new Hi(o,ve.empty(),e)}function s2(n){return new Hi(n.readTime,n.key,Wl)}class Hi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Hi(Se.min(),ve.empty(),Wl)}static max(){return new Hi(Se.max(),ve.empty(),Wl)}}function o2(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(n.documentKey,e.documentKey),t!==0?t:De(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class l2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ya(n){if(n.code!==J.FAILED_PRECONDITION||n.message!==a2)throw n;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new W((r,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof W?t:W.resolve(t)}catch(t){return W.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):W.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):W.reject(t)}static resolve(e){return new W((t,r)=>{t(e)})}static reject(e){return new W((t,r)=>{r(e)})}static waitFor(e){return new W((t,r)=>{let o=0,a=0,u=!1;e.forEach(f=>{++o,f.next(()=>{++a,u&&a===o&&t()},d=>r(d))}),u=!0,a===o&&t()})}static or(e){let t=W.resolve(!1);for(const r of e)t=t.next(o=>o?W.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,a)=>{r.push(t.call(this,o,a))}),this.waitFor(r)}static mapArray(e,t){return new W((r,o)=>{const a=e.length,u=new Array(a);let f=0;for(let d=0;d<a;d++){const m=d;t(e[m]).next(v=>{u[m]=v,++f,f===a&&r(u)},v=>o(v))}})}static doWhile(e,t){return new W((r,o)=>{const a=()=>{e()===!0?t().next(()=>{a()},o):r()};a()})}}function u2(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function va(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Mh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm=-1;function bh(n){return n==null}function fh(n){return n===0&&1/n==-1/0}function c2(n){return typeof n=="number"&&Number.isInteger(n)&&!fh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI="";function h2(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=O0(e)),e=f2(n.get(t),e);return O0(e)}function f2(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case pI:t+="";break;default:t+=a}}return t}function O0(n){return n+pI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function js(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function mI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,t){this.comparator=e,this.root=t||Ft.EMPTY}insert(e,t){return new it(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new it(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bc(this.root,e,this.comparator,!1)}getReverseIterator(){return new bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bc(this.root,e,this.comparator,!0)}}class bc{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,t,r,o,a){this.key=e,this.value=t,this.color=r??Ft.RED,this.left=o??Ft.EMPTY,this.right=a??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,a){return new Ft(e??this.key,t??this.value,r??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const a=r(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,r),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Ft.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,t,r,o,a){return this}insert(e,t,r){return new Ft(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new U0(this.data.getIterator())}getIteratorFrom(e){return new U0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof St)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new St(this.comparator);return t.data=e,t}}class U0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e){this.fields=e,e.sort(Ut.comparator)}static empty(){return new er([])}unionWith(e){let t=new St(Ut.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new er(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ia(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new gI("Invalid base64 string: "+a):a}}(e);return new jt(t)}static fromUint8Array(e){const t=function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a}(e);return new jt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jt.EMPTY_BYTE_STRING=new jt("");const d2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wi(n){if(Be(!!n,39018),typeof n=="string"){let e=0;const t=d2.exec(n);if(Be(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ct(n.seconds),nanos:ct(n.nanos)}}function ct(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ki(n){return typeof n=="string"?jt.fromBase64String(n):jt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI="server_timestamp",vI="__type__",_I="__previous_value__",wI="__local_write_time__";function Qm(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[vI])==null?void 0:r.stringValue)===yI}function Lh(n){const e=n.mapValue.fields[_I];return Qm(e)?Lh(e):e}function Kl(n){const e=Wi(n.mapValue.fields[wI].timestampValue);return new Qe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e,t,r,o,a,u,f,d,m,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=d,this.useFetchStreams=m,this.isUsingEmulator=v}}const dh="(default)";class ql{constructor(e,t){this.projectId=e,this.database=t||dh}static empty(){return new ql("","")}get isDefaultDatabase(){return this.database===dh}isEqual(e){return e instanceof ql&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI="__type__",m2="__max__",Lc={mapValue:{}},EI="__vector__",ph="value";function qi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Qm(n)?4:y2(n)?9007199254740991:g2(n)?10:11:_e(28295,{value:n})}function Ir(n,e){if(n===e)return!0;const t=qi(n);if(t!==qi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Kl(n).isEqual(Kl(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=Wi(o.timestampValue),f=Wi(a.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,a){return Ki(o.bytesValue).isEqual(Ki(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,a){return ct(o.geoPointValue.latitude)===ct(a.geoPointValue.latitude)&&ct(o.geoPointValue.longitude)===ct(a.geoPointValue.longitude)}(n,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return ct(o.integerValue)===ct(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=ct(o.doubleValue),f=ct(a.doubleValue);return u===f?fh(u)===fh(f):isNaN(u)&&isNaN(f)}return!1}(n,e);case 9:return ia(n.arrayValue.values||[],e.arrayValue.values||[],Ir);case 10:case 11:return function(o,a){const u=o.mapValue.fields||{},f=a.mapValue.fields||{};if(F0(u)!==F0(f))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(f[d]===void 0||!Ir(u[d],f[d])))return!1;return!0}(n,e);default:return _e(52216,{left:n})}}function Gl(n,e){return(n.values||[]).find(t=>Ir(t,e))!==void 0}function sa(n,e){if(n===e)return 0;const t=qi(n),r=qi(e);if(t!==r)return De(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return De(n.booleanValue,e.booleanValue);case 2:return function(a,u){const f=ct(a.integerValue||a.doubleValue),d=ct(u.integerValue||u.doubleValue);return f<d?-1:f>d?1:f===d?0:isNaN(f)?isNaN(d)?0:-1:1}(n,e);case 3:return j0(n.timestampValue,e.timestampValue);case 4:return j0(Kl(n),Kl(e));case 5:return Np(n.stringValue,e.stringValue);case 6:return function(a,u){const f=Ki(a),d=Ki(u);return f.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const f=a.split("/"),d=u.split("/");for(let m=0;m<f.length&&m<d.length;m++){const v=De(f[m],d[m]);if(v!==0)return v}return De(f.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const f=De(ct(a.latitude),ct(u.latitude));return f!==0?f:De(ct(a.longitude),ct(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return B0(n.arrayValue,e.arrayValue);case 10:return function(a,u){var E,C,O,B;const f=a.fields||{},d=u.fields||{},m=(E=f[ph])==null?void 0:E.arrayValue,v=(C=d[ph])==null?void 0:C.arrayValue,w=De(((O=m==null?void 0:m.values)==null?void 0:O.length)||0,((B=v==null?void 0:v.values)==null?void 0:B.length)||0);return w!==0?w:B0(m,v)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===Lc.mapValue&&u===Lc.mapValue)return 0;if(a===Lc.mapValue)return 1;if(u===Lc.mapValue)return-1;const f=a.fields||{},d=Object.keys(f),m=u.fields||{},v=Object.keys(m);d.sort(),v.sort();for(let w=0;w<d.length&&w<v.length;++w){const E=Np(d[w],v[w]);if(E!==0)return E;const C=sa(f[d[w]],m[v[w]]);if(C!==0)return C}return De(d.length,v.length)}(n.mapValue,e.mapValue);default:throw _e(23264,{he:t})}}function j0(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return De(n,e);const t=Wi(n),r=Wi(e),o=De(t.seconds,r.seconds);return o!==0?o:De(t.nanos,r.nanos)}function B0(n,e){const t=n.values||[],r=e.values||[];for(let o=0;o<t.length&&o<r.length;++o){const a=sa(t[o],r[o]);if(a)return a}return De(t.length,r.length)}function oa(n){return Vp(n)}function Vp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Wi(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ki(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ve.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",o=!0;for(const a of t.values||[])o?o=!1:r+=",",r+=Vp(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const u of r)a?a=!1:o+=",",o+=`${u}:${Vp(t.fields[u])}`;return o+"}"}(n.mapValue):_e(61005,{value:n})}function Gc(n){switch(qi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Lh(n);return e?16+Gc(e):16;case 5:return 2*n.stringValue.length;case 6:return Ki(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((o,a)=>o+Gc(a),0)}(n.arrayValue);case 10:case 11:return function(r){let o=0;return js(r.fields,(a,u)=>{o+=a.length+Gc(u)}),o}(n.mapValue);default:throw _e(13486,{value:n})}}function Mp(n){return!!n&&"integerValue"in n}function Xm(n){return!!n&&"arrayValue"in n}function z0(n){return!!n&&"nullValue"in n}function $0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Qc(n){return!!n&&"mapValue"in n}function g2(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[TI])==null?void 0:r.stringValue)===EI}function Rl(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return js(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Rl(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Rl(n.arrayValue.values[t]);return e}return{...n}}function y2(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===m2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Qc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rl(t)}setAll(e){let t=Ut.emptyPath(),r={},o=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const d=this.getFieldsMap(t);this.applyChanges(d,r,o),r={},o=[],t=f.popLast()}u?r[f.lastSegment()]=Rl(u):o.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,o)}delete(e){const t=this.field(e.popLast());Qc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ir(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Qc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){js(t,(o,a)=>e[o]=a);for(const o of r)delete e[o]}clone(){return new Nn(Rl(this.value))}}function II(n){const e=[];return js(n.fields,(t,r)=>{const o=new Ut([t]);if(Qc(r)){const a=II(r.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)}),new er(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e,t,r,o,a,u,f){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=a,this.data=u,this.documentState=f}static newInvalidDocument(e){return new qt(e,0,Se.min(),Se.min(),Se.min(),Nn.empty(),0)}static newFoundDocument(e,t,r,o){return new qt(e,1,t,Se.min(),r,o,0)}static newNoDocument(e,t){return new qt(e,2,t,Se.min(),Se.min(),Nn.empty(),0)}static newUnknownDocument(e,t){return new qt(e,3,t,Se.min(),Se.min(),Nn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,t){this.position=e,this.inclusive=t}}function H0(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const a=e[o],u=n.position[o];if(a.field.isKeyField()?r=ve.comparator(ve.fromName(u.referenceValue),t.key):r=sa(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function W0(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ir(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,t="asc"){this.field=e,this.dir=t}}function v2(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{}class Et extends SI{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new w2(e,t,r):t==="array-contains"?new I2(e,r):t==="in"?new S2(e,r):t==="not-in"?new A2(e,r):t==="array-contains-any"?new P2(e,r):new Et(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new T2(e,r):new E2(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(sa(t,this.value)):t!==null&&qi(this.value)===qi(t)&&this.matchesComparison(sa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Sr extends SI{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Sr(e,t)}matches(e){return AI(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function AI(n){return n.op==="and"}function PI(n){return _2(n)&&AI(n)}function _2(n){for(const e of n.filters)if(e instanceof Sr)return!1;return!0}function bp(n){if(n instanceof Et)return n.field.canonicalString()+n.op.toString()+oa(n.value);if(PI(n))return n.filters.map(e=>bp(e)).join(",");{const e=n.filters.map(t=>bp(t)).join(",");return`${n.op}(${e})`}}function CI(n,e){return n instanceof Et?function(r,o){return o instanceof Et&&r.op===o.op&&r.field.isEqual(o.field)&&Ir(r.value,o.value)}(n,e):n instanceof Sr?function(r,o){return o instanceof Sr&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((a,u,f)=>a&&CI(u,o.filters[f]),!0):!1}(n,e):void _e(19439)}function xI(n){return n instanceof Et?function(t){return`${t.field.canonicalString()} ${t.op} ${oa(t.value)}`}(n):n instanceof Sr?function(t){return t.op.toString()+" {"+t.getFilters().map(xI).join(" ,")+"}"}(n):"Filter"}class w2 extends Et{constructor(e,t,r){super(e,t,r),this.key=ve.fromName(r.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class T2 extends Et{constructor(e,t){super(e,"in",t),this.keys=RI("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class E2 extends Et{constructor(e,t){super(e,"not-in",t),this.keys=RI("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function RI(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map(r=>ve.fromName(r.referenceValue))}class I2 extends Et{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Xm(t)&&Gl(t.arrayValue,this.value)}}class S2 extends Et{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Gl(this.value.arrayValue,t)}}class A2 extends Et{constructor(e,t){super(e,"not-in",t)}matches(e){if(Gl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Gl(this.value.arrayValue,t)}}class P2 extends Et{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Xm(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Gl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e,t=null,r=[],o=[],a=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=a,this.startAt=u,this.endAt=f,this.Te=null}}function K0(n,e=null,t=[],r=[],o=null,a=null,u=null){return new C2(n,e,t,r,o,a,u)}function Ym(n){const e=Ae(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>bp(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),bh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>oa(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>oa(r)).join(",")),e.Te=t}return e.Te}function Jm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!v2(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!CI(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!W0(n.startAt,e.startAt)&&W0(n.endAt,e.endAt)}function Lp(n){return ve.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,t=null,r=[],o=[],a=null,u="F",f=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=a,this.limitType=u,this.startAt=f,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function x2(n,e,t,r,o,a,u,f){return new Oh(n,e,t,r,o,a,u,f)}function Zm(n){return new Oh(n)}function q0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function R2(n){return n.collectionGroup!==null}function kl(n){const e=Ae(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new St(Ut.comparator);return u.filters.forEach(d=>{d.getFlattenedFilters().forEach(m=>{m.isInequality()&&(f=f.add(m.field))})}),f})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new gh(a,r))}),t.has(Ut.keyField().canonicalString())||e.Ie.push(new gh(Ut.keyField(),r))}return e.Ie}function vr(n){const e=Ae(n);return e.Ee||(e.Ee=k2(e,kl(n))),e.Ee}function k2(n,e){if(n.limitType==="F")return K0(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new gh(o.field,a)});const t=n.endAt?new mh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new mh(n.startAt.position,n.startAt.inclusive):null;return K0(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Op(n,e,t){return new Oh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Fh(n,e){return Jm(vr(n),vr(e))&&n.limitType===e.limitType}function kI(n){return`${Ym(vr(n))}|lt:${n.limitType}`}function jo(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(o=>xI(o)).join(", ")}]`),bh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(o=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(o)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(o=>oa(o)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(o=>oa(o)).join(",")),`Target(${r})`}(vr(n))}; limitType=${n.limitType})`}function Uh(n,e){return e.isFoundDocument()&&function(r,o){const a=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ve.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,o){for(const a of kl(r))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,o){for(const a of r.filters)if(!a.matches(o))return!1;return!0}(n,e)&&function(r,o){return!(r.startAt&&!function(u,f,d){const m=H0(u,f,d);return u.inclusive?m<=0:m<0}(r.startAt,kl(r),o)||r.endAt&&!function(u,f,d){const m=H0(u,f,d);return u.inclusive?m>=0:m>0}(r.endAt,kl(r),o))}(n,e)}function D2(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function DI(n){return(e,t)=>{let r=!1;for(const o of kl(n)){const a=N2(o,e,t);if(a!==0)return a;r=r||o.field.isKeyField()}return 0}}function N2(n,e,t){const r=n.field.isKeyField()?ve.comparator(e.key,t.key):function(a,u,f){const d=u.data.field(a),m=f.data.field(a);return d!==null&&m!==null?sa(d,m):_e(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return _e(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[o,a]of r)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){js(this.inner,(t,r)=>{for(const[o,a]of r)e(o,a)})}isEmpty(){return mI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2=new it(ve.comparator);function ii(){return V2}const NI=new it(ve.comparator);function _l(...n){let e=NI;for(const t of n)e=e.insert(t.key,t);return e}function VI(n){let e=NI;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ds(){return Dl()}function MI(){return Dl()}function Dl(){return new Bs(n=>n.toString(),(n,e)=>n.isEqual(e))}const M2=new it(ve.comparator),b2=new St(ve.comparator);function Ne(...n){let e=b2;for(const t of n)e=e.add(t);return e}const L2=new St(De);function O2(){return L2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eg(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fh(e)?"-0":e}}function bI(n){return{integerValue:""+n}}function F2(n,e){return c2(e)?bI(e):eg(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(){this._=void 0}}function U2(n,e,t){return n instanceof yh?function(o,a){const u={fields:{[vI]:{stringValue:yI},[wI]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Qm(a)&&(a=Lh(a)),a&&(u.fields[_I]=a),{mapValue:u}}(t,e):n instanceof Ql?OI(n,e):n instanceof Xl?FI(n,e):function(o,a){const u=LI(o,a),f=G0(u)+G0(o.Ae);return Mp(u)&&Mp(o.Ae)?bI(f):eg(o.serializer,f)}(n,e)}function j2(n,e,t){return n instanceof Ql?OI(n,e):n instanceof Xl?FI(n,e):t}function LI(n,e){return n instanceof vh?function(r){return Mp(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class yh extends jh{}class Ql extends jh{constructor(e){super(),this.elements=e}}function OI(n,e){const t=UI(e);for(const r of n.elements)t.some(o=>Ir(o,r))||t.push(r);return{arrayValue:{values:t}}}class Xl extends jh{constructor(e){super(),this.elements=e}}function FI(n,e){let t=UI(e);for(const r of n.elements)t=t.filter(o=>!Ir(o,r));return{arrayValue:{values:t}}}class vh extends jh{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function G0(n){return ct(n.integerValue||n.doubleValue)}function UI(n){return Xm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function B2(n,e){return n.field.isEqual(e.field)&&function(r,o){return r instanceof Ql&&o instanceof Ql||r instanceof Xl&&o instanceof Xl?ia(r.elements,o.elements,Ir):r instanceof vh&&o instanceof vh?Ir(r.Ae,o.Ae):r instanceof yh&&o instanceof yh}(n.transform,e.transform)}class z2{constructor(e,t){this.version=e,this.transformResults=t}}class Yr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Yr}static exists(e){return new Yr(void 0,e)}static updateTime(e){return new Yr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Bh{}function jI(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new zI(n.key,Yr.none()):new lu(n.key,n.data,Yr.none());{const t=n.data,r=Nn.empty();let o=new St(Ut.comparator);for(let a of e.fields)if(!o.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),o=o.add(a)}return new zs(n.key,r,new er(o.toArray()),Yr.none())}}function $2(n,e,t){n instanceof lu?function(o,a,u){const f=o.value.clone(),d=X0(o.fieldTransforms,a,u.transformResults);f.setAll(d),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):n instanceof zs?function(o,a,u){if(!Xc(o.precondition,a))return void a.convertToUnknownDocument(u.version);const f=X0(o.fieldTransforms,a,u.transformResults),d=a.data;d.setAll(BI(o)),d.setAll(f),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Nl(n,e,t,r){return n instanceof lu?function(a,u,f,d){if(!Xc(a.precondition,u))return f;const m=a.value.clone(),v=Y0(a.fieldTransforms,d,u);return m.setAll(v),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(n,e,t,r):n instanceof zs?function(a,u,f,d){if(!Xc(a.precondition,u))return f;const m=Y0(a.fieldTransforms,d,u),v=u.data;return v.setAll(BI(a)),v.setAll(m),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),f===null?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(w=>w.field))}(n,e,t,r):function(a,u,f){return Xc(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f}(n,e,t)}function H2(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),a=LI(r.transform,o||null);a!=null&&(t===null&&(t=Nn.empty()),t.set(r.field,a))}return t||null}function Q0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&ia(r,o,(a,u)=>B2(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class lu extends Bh{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class zs extends Bh{constructor(e,t,r,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function BI(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function X0(n,e,t){const r=new Map;Be(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let o=0;o<t.length;o++){const a=n[o],u=a.transform,f=e.data.field(a.field);r.set(a.field,j2(u,f,t[o]))}return r}function Y0(n,e,t){const r=new Map;for(const o of n){const a=o.transform,u=t.data.field(o.field);r.set(o.field,U2(a,u,e))}return r}class zI extends Bh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class W2 extends Bh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&$2(a,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Nl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Nl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=MI();return this.mutations.forEach(o=>{const a=e.get(o.key),u=a.overlayedDocument;let f=this.applyToLocalView(u,a.mutatedFields);f=t.has(o.key)?null:f;const d=jI(u,f);d!==null&&r.set(o.key,d),u.isValidDocument()||u.convertToNoDocument(Se.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ne())}isEqual(e){return this.batchId===e.batchId&&ia(this.mutations,e.mutations,(t,r)=>Q0(t,r))&&ia(this.baseMutations,e.baseMutations,(t,r)=>Q0(t,r))}}class tg{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){Be(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=function(){return M2}();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,r[u].version);return new tg(e,t,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt,Le;function Q2(n){switch(n){case J.OK:return _e(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return _e(15467,{code:n})}}function $I(n){if(n===void 0)return ri("GRPC error has no .code"),J.UNKNOWN;switch(n){case dt.OK:return J.OK;case dt.CANCELLED:return J.CANCELLED;case dt.UNKNOWN:return J.UNKNOWN;case dt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case dt.INTERNAL:return J.INTERNAL;case dt.UNAVAILABLE:return J.UNAVAILABLE;case dt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case dt.NOT_FOUND:return J.NOT_FOUND;case dt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case dt.ABORTED:return J.ABORTED;case dt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case dt.DATA_LOSS:return J.DATA_LOSS;default:return _e(39323,{code:n})}}(Le=dt||(dt={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2=new Ui([4294967295,4294967295],0);function J0(n){const e=X2().encode(n),t=new sI;return t.update(e),new Uint8Array(t.digest())}function Z0(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ui([t,r],0),new Ui([o,a],0)]}class ng{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new wl(`Invalid padding: ${t}`);if(r<0)throw new wl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new wl(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new wl(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Ui.fromNumber(this.ge)}ye(e,t,r){let o=e.add(t.multiply(Ui.fromNumber(r)));return o.compare(Y2)===1&&(o=new Ui([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=J0(e),[r,o]=Z0(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,o,a);if(!this.we(u))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new ng(a,o,t);return r.forEach(f=>u.insert(f)),u}insert(e){if(this.ge===0)return;const t=J0(e),[r,o]=Z0(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,o,a);this.Se(u)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,t,r,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,uu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new zh(Se.min(),o,new it(De),ii(),Ne())}}class uu{constructor(e,t,r,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new uu(r,t,Ne(),Ne(),Ne())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,t,r,o){this.be=e,this.removedTargetIds=t,this.key=r,this.De=o}}class HI{constructor(e,t){this.targetId=e,this.Ce=t}}class WI{constructor(e,t,r=jt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class ew{constructor(){this.ve=0,this.Fe=tw(),this.Me=jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ne(),t=Ne(),r=Ne();return this.Fe.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:_e(38017,{changeType:a})}}),new uu(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=tw()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Be(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class J2{constructor(e){this.Ge=e,this.ze=new Map,this.je=ii(),this.Je=Oc(),this.He=Oc(),this.Ye=new it(De)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((r,o)=>{this.rt(o)&&t(o)})}st(e){const t=e.targetId,r=e.Ce.count,o=this.ot(t);if(o){const a=o.target;if(Lp(a))if(r===0){const u=new ve(a.path);this.et(t,u,qt.newNoDocument(u,Se.min()))}else Be(r===1,20013,{expectedCount:r});else{const u=this._t(t);if(u!==r){const f=this.ut(e),d=f?this.ct(f,e,u):1;if(d!==0){this.it(t);const m=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,m)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=t;let u,f;try{u=Ki(r).toUint8Array()}catch(d){if(d instanceof gI)return ra("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{f=new ng(u,o,a)}catch(d){return ra(d instanceof wl?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return f.ge===0?null:f}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let o=0;return r.forEach(a=>{const u=this.Ge.ht(),f=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(f)||(this.et(t,a,null),o++)}),o}Tt(e){const t=new Map;this.ze.forEach((a,u)=>{const f=this.ot(u);if(f){if(a.current&&Lp(f.target)){const d=new ve(f.target.path);this.It(d).has(u)||this.Et(u,d)||this.et(u,d,qt.newNoDocument(d,e))}a.Be&&(t.set(u,a.ke()),a.qe())}});let r=Ne();this.He.forEach((a,u)=>{let f=!0;u.forEachWhile(d=>{const m=this.ot(d);return!m||m.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(r=r.add(a))}),this.je.forEach((a,u)=>u.setReadTime(e));const o=new zh(e,t,this.Ye,this.je,r);return this.je=ii(),this.Je=Oc(),this.He=Oc(),this.Ye=new it(De),o}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new ew,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new St(De),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new St(De),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ae("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ew),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Oc(){return new it(ve.comparator)}function tw(){return new it(ve.comparator)}const Z2={asc:"ASCENDING",desc:"DESCENDING"},eM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tM={and:"AND",or:"OR"};class nM{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Fp(n,e){return n.useProto3Json||bh(e)?e:{value:e}}function _h(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function KI(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function rM(n,e){return _h(n,e.toTimestamp())}function _r(n){return Be(!!n,49232),Se.fromTimestamp(function(t){const r=Wi(t);return new Qe(r.seconds,r.nanos)}(n))}function rg(n,e){return Up(n,e).canonicalString()}function Up(n,e){const t=function(o){return new nt(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function qI(n){const e=nt.fromString(n);return Be(JI(e),10190,{key:e.toString()}),e}function jp(n,e){return rg(n.databaseId,e.path)}function Qd(n,e){const t=qI(e);if(t.get(1)!==n.databaseId.projectId)throw new pe(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new pe(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ve(QI(t))}function GI(n,e){return rg(n.databaseId,e)}function iM(n){const e=qI(n);return e.length===4?nt.emptyPath():QI(e)}function Bp(n){return new nt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function QI(n){return Be(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function nw(n,e,t){return{name:jp(n,e),fields:t.value.mapValue.fields}}function sM(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:_e(39313,{state:m})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(m,v){return m.useProto3Json?(Be(v===void 0||typeof v=="string",58123),jt.fromBase64String(v||"")):(Be(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),jt.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(m){const v=m.code===void 0?J.UNKNOWN:$I(m.code);return new pe(v,m.message||"")}(u);t=new WI(r,o,a,f||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Qd(n,r.document.name),a=_r(r.document.updateTime),u=r.document.createTime?_r(r.document.createTime):Se.min(),f=new Nn({mapValue:{fields:r.document.fields}}),d=qt.newFoundDocument(o,a,u,f),m=r.targetIds||[],v=r.removedTargetIds||[];t=new Yc(m,v,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Qd(n,r.document),a=r.readTime?_r(r.readTime):Se.min(),u=qt.newNoDocument(o,a),f=r.removedTargetIds||[];t=new Yc([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Qd(n,r.document),a=r.removedTargetIds||[];t=new Yc([],a,o,null)}else{if(!("filter"in e))return _e(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:a}=r,u=new G2(o,a),f=r.targetId;t=new HI(f,u)}}return t}function oM(n,e){let t;if(e instanceof lu)t={update:nw(n,e.key,e.value)};else if(e instanceof zI)t={delete:jp(n,e.key)};else if(e instanceof zs)t={update:nw(n,e.key,e.data),updateMask:mM(e.fieldMask)};else{if(!(e instanceof W2))return _e(16599,{Vt:e.type});t={verify:jp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,u){const f=u.transform;if(f instanceof yh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Ql)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Xl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof vh)return{fieldPath:u.field.canonicalString(),increment:f.Ae};throw _e(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:rM(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:_e(27497)}(n,e.precondition)),t}function aM(n,e){return n&&n.length>0?(Be(e!==void 0,14353),n.map(t=>function(o,a){let u=o.updateTime?_r(o.updateTime):_r(a);return u.isEqual(Se.min())&&(u=_r(a)),new z2(u,o.transformResults||[])}(t,e))):[]}function lM(n,e){return{documents:[GI(n,e.path)]}}function uM(n,e){const t={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=GI(n,o);const a=function(m){if(m.length!==0)return YI(Sr.create(m,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(m){if(m.length!==0)return m.map(v=>function(E){return{field:Bo(E.field),direction:fM(E.dir)}}(v))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const f=Fp(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ft:t,parent:o}}function cM(n){let e=iM(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){Be(r===1,65062);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let a=[];t.where&&(a=function(w){const E=XI(w);return E instanceof Sr&&PI(E)?E.getFilters():[E]}(t.where));let u=[];t.orderBy&&(u=function(w){return w.map(E=>function(O){return new gh(zo(O.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(E))}(t.orderBy));let f=null;t.limit&&(f=function(w){let E;return E=typeof w=="object"?w.value:w,bh(E)?null:E}(t.limit));let d=null;t.startAt&&(d=function(w){const E=!!w.before,C=w.values||[];return new mh(C,E)}(t.startAt));let m=null;return t.endAt&&(m=function(w){const E=!w.before,C=w.values||[];return new mh(C,E)}(t.endAt)),x2(e,o,u,a,f,"F",d,m)}function hM(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function XI(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=zo(t.unaryFilter.field);return Et.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=zo(t.unaryFilter.field);return Et.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=zo(t.unaryFilter.field);return Et.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=zo(t.unaryFilter.field);return Et.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}}(n):n.fieldFilter!==void 0?function(t){return Et.create(zo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Sr.create(t.compositeFilter.filters.map(r=>XI(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _e(1026)}}(t.compositeFilter.op))}(n):_e(30097,{filter:n})}function fM(n){return Z2[n]}function dM(n){return eM[n]}function pM(n){return tM[n]}function Bo(n){return{fieldPath:n.canonicalString()}}function zo(n){return Ut.fromServerFormat(n.fieldPath)}function YI(n){return n instanceof Et?function(t){if(t.op==="=="){if($0(t.value))return{unaryFilter:{field:Bo(t.field),op:"IS_NAN"}};if(z0(t.value))return{unaryFilter:{field:Bo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if($0(t.value))return{unaryFilter:{field:Bo(t.field),op:"IS_NOT_NAN"}};if(z0(t.value))return{unaryFilter:{field:Bo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bo(t.field),op:dM(t.op),value:t.value}}}(n):n instanceof Sr?function(t){const r=t.getFilters().map(o=>YI(o));return r.length===1?r[0]:{compositeFilter:{op:pM(t.op),filters:r}}}(n):_e(54877,{filter:n})}function mM(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function JI(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e,t,r,o,a=Se.min(),u=Se.min(),f=jt.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=d}withSequenceNumber(e){return new Li(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e){this.yt=e}}function yM(n){const e=cM({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Op(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(){this.Cn=new _M}addToCollectionParentIndex(e,t){return this.Cn.add(t),W.resolve()}getCollectionParents(e,t){return W.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return W.resolve()}deleteFieldIndex(e,t){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,t){return W.resolve()}getDocumentsMatchingTarget(e,t){return W.resolve(null)}getIndexType(e,t){return W.resolve(0)}getFieldIndexes(e,t){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,t){return W.resolve(Hi.min())}getMinOffsetFromCollectionGroup(e,t){return W.resolve(Hi.min())}updateCollectionGroup(e,t,r){return W.resolve()}updateIndexEntries(e,t){return W.resolve()}}class _M{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new St(nt.comparator),a=!o.has(r);return this.index[t]=o.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new St(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ZI=41943040;class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(ZI,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new aa(0)}static cr(){return new aa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw="LruGarbageCollector",wM=1048576;function sw([n,e],[t,r]){const o=De(n,t);return o===0?De(e,r):o}class TM{constructor(e){this.Ir=e,this.buffer=new St(sw),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();sw(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class EM{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ae(iw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){va(t)?ae(iw,"Ignoring IndexedDB error during garbage collection: ",t):await ya(t)}await this.Vr(3e5)})}}class IM{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return W.resolve(Mh.ce);const r=new TM(t);return this.mr.forEachTarget(e,o=>r.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>r.Ar(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(rw)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rw):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,o,a,u,f,d,m;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,u=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(r=w,f=Date.now(),this.removeTargets(e,r,t))).next(w=>(a=w,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(w=>(m=Date.now(),Uo()<=ke.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${o} in `+(f-u)+`ms
	Removed ${a} targets in `+(d-f)+`ms
	Removed ${w} documents in `+(m-d)+`ms
Total Duration: ${m-v}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:w})))}}function SM(n,e){return new IM(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(){this.changes=new Bs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,qt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?W.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(r!==null&&Nl(r.mutation,o,er.empty(),Qe.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ne()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ne()){const o=Ds();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(a=>{let u=_l();return a.forEach((f,d)=>{u=u.insert(f,d.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=Ds();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ne()))}populateOverlays(e,t,r){const o=[];return r.forEach(a=>{t.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,r,o){let a=ii();const u=Dl(),f=function(){return Dl()}();return t.forEach((d,m)=>{const v=r.get(m.key);o.has(m.key)&&(v===void 0||v.mutation instanceof zs)?a=a.insert(m.key,m):v!==void 0?(u.set(m.key,v.mutation.getFieldMask()),Nl(v.mutation,m,v.mutation.getFieldMask(),Qe.now())):u.set(m.key,er.empty())}),this.recalculateAndSaveOverlays(e,a).next(d=>(d.forEach((m,v)=>u.set(m,v)),t.forEach((m,v)=>f.set(m,new PM(v,u.get(m)??null))),f))}recalculateAndSaveOverlays(e,t){const r=Dl();let o=new it((u,f)=>u-f),a=Ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(d=>{const m=t.get(d);if(m===null)return;let v=r.get(d)||er.empty();v=f.applyToLocalView(m,v),r.set(d,v);const w=(o.get(f.batchId)||Ne()).add(d);o=o.insert(f.batchId,w)})}).next(()=>{const u=[],f=o.getReverseIterator();for(;f.hasNext();){const d=f.getNext(),m=d.key,v=d.value,w=MI();v.forEach(E=>{if(!a.has(E)){const C=jI(t.get(E),r.get(E));C!==null&&w.set(E,C),a=a.add(E)}}),u.push(this.documentOverlayCache.saveOverlays(e,m,w))}return W.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,o){return function(u){return ve.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):R2(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o)}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-a.size):W.resolve(Ds());let f=Wl,d=a;return u.next(m=>W.forEach(m,(v,w)=>(f<w.largestBatchId&&(f=w.largestBatchId),a.get(v)?W.resolve():this.remoteDocumentCache.getEntry(e,v).next(E=>{d=d.insert(v,E)}))).next(()=>this.populateOverlays(e,m,a)).next(()=>this.computeViews(e,d,m,Ne())).next(v=>({batchId:f,changes:VI(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next(r=>{let o=_l();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){const a=t.collectionGroup;let u=_l();return this.indexManager.getCollectionParents(e,a).next(f=>W.forEach(f,d=>{const m=function(w,E){return new Oh(E,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,r,o).next(v=>{v.forEach((w,E)=>{u=u.insert(w,E)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,o))).next(u=>{a.forEach((d,m)=>{const v=m.getKey();u.get(v)===null&&(u=u.insert(v,qt.newInvalidDocument(v)))});let f=_l();return u.forEach((d,m)=>{const v=a.get(d);v!==void 0&&Nl(v.mutation,m,er.empty(),Qe.now()),Uh(t,m)&&(f=f.insert(d,m))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return W.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:_r(o.createTime)}}(t)),W.resolve()}getNamedQuery(e,t){return W.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(o){return{name:o.name,query:yM(o.bundledQuery),readTime:_r(o.readTime)}}(t)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(){this.overlays=new it(ve.comparator),this.qr=new Map}getOverlay(e,t){return W.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ds();return W.forEach(t,o=>this.getOverlay(e,o).next(a=>{a!==null&&r.set(o,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,a)=>{this.St(e,t,a)}),W.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(r)),W.resolve()}getOverlaysForCollection(e,t,r){const o=Ds(),a=t.length+1,u=new ve(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const d=f.getNext().value,m=d.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&d.largestBatchId>r&&o.set(d.getKey(),d)}return W.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let a=new it((m,v)=>m-v);const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let v=a.get(m.largestBatchId);v===null&&(v=Ds(),a=a.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const f=Ds(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((m,v)=>f.set(m,v)),!(f.size()>=o)););return W.resolve(f)}St(e,t,r){const o=this.overlays.get(r.key);if(o!==null){const u=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new q2(t,r));let a=this.qr.get(t);a===void 0&&(a=Ne(),this.qr.set(t,a)),this.qr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(){this.sessionToken=jt.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(){this.Qr=new St(kt.$r),this.Ur=new St(kt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new kt(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Gr(new kt(e,t))}zr(e,t){e.forEach(r=>this.removeReference(r,t))}jr(e){const t=new ve(new nt([])),r=new kt(t,e),o=new kt(t,e+1),a=[];return this.Ur.forEachInRange([r,o],u=>{this.Gr(u),a.push(u.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ve(new nt([])),r=new kt(t,e),o=new kt(t,e+1);let a=Ne();return this.Ur.forEachInRange([r,o],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new kt(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class kt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ve.comparator(e.key,t.key)||De(e.Yr,t.Yr)}static Kr(e,t){return De(e.Yr,t.Yr)||ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new St(kt.$r)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,o){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new K2(a,t,r,o);this.mutationQueue.push(u);for(const f of o)this.Zr=this.Zr.add(new kt(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return W.resolve(u)}lookupMutationBatch(e,t){return W.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=this.ei(r),a=o<0?0:o;return W.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?Gm:this.tr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new kt(t,0),o=new kt(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,o],u=>{const f=this.Xr(u.Yr);a.push(f)}),W.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new St(De);return t.forEach(o=>{const a=new kt(o,0),u=new kt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,u],f=>{r=r.add(f.Yr)})}),W.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let a=r;ve.isDocumentKey(a)||(a=a.child(""));const u=new kt(new ve(a),0);let f=new St(De);return this.Zr.forEachWhile(d=>{const m=d.key.path;return!!r.isPrefixOf(m)&&(m.length===o&&(f=f.add(d.Yr)),!0)},u),W.resolve(this.ti(f))}ti(e){const t=[];return e.forEach(r=>{const o=this.Xr(r);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Be(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return W.forEach(t.mutations,o=>{const a=new kt(o.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,t){const r=new kt(t,0),o=this.Zr.firstAfterOrEqual(r);return W.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e){this.ri=e,this.docs=function(){return new it(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),a=o?o.size:0,u=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return W.resolve(r?r.document.mutableCopy():qt.newInvalidDocument(t))}getEntries(e,t){let r=ii();return t.forEach(o=>{const a=this.docs.get(o);r=r.insert(o,a?a.document.mutableCopy():qt.newInvalidDocument(o))}),W.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let a=ii();const u=t.path,f=new ve(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(f);for(;d.hasNext();){const{key:m,value:{document:v}}=d.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||o2(s2(v),r)<=0||(o.has(v.key)||Uh(t,v))&&(a=a.insert(v.key,v.mutableCopy()))}return W.resolve(a)}getAllFromCollectionGroup(e,t,r,o){_e(9500)}ii(e,t){return W.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new VM(this)}getSize(e){return W.resolve(this.size)}}class VM extends AM{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)}),W.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(e){this.persistence=e,this.si=new Bs(t=>Ym(t),Jm),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new ig,this.targetCount=0,this.ai=aa.ur()}forEachTarget(e,t){return this.si.forEach((r,o)=>t(o)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),W.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new aa(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,W.resolve()}updateTargetData(e,t){return this.Pr(t),W.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,t,r){let o=0;const a=[];return this.si.forEach((u,f)=>{f.sequenceNumber<=t&&r.get(f.targetId)===null&&(this.si.delete(u),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),W.waitFor(a).next(()=>o)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return W.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),W.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach(u=>{a.push(o.markPotentiallyOrphaned(e,u))}),W.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),W.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return W.resolve(r)}containsKey(e,t){return W.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,t){this.ui={},this.overlays={},this.ci=new Mh(0),this.li=!1,this.li=!0,this.hi=new kM,this.referenceDelegate=e(this),this.Pi=new MM(this),this.indexManager=new vM,this.remoteDocumentCache=function(o){return new NM(o)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new gM(t),this.Ii=new xM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new RM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new DM(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){ae("MemoryPersistence","Starting transaction:",e);const o=new bM(this.ci.next());return this.referenceDelegate.Ei(),r(o).next(a=>this.referenceDelegate.di(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}Ai(e,t){return W.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,t)))}}class bM extends l2{constructor(e){super(),this.currentSequenceNumber=e}}class sg{constructor(e){this.persistence=e,this.Ri=new ig,this.Vi=null}static mi(e){return new sg(e)}get fi(){if(this.Vi)return this.Vi;throw _e(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),W.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),W.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),W.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(o=>this.fi.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(a=>this.fi.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.fi,r=>{const o=ve.fromPath(r);return this.gi(e,o).next(a=>{a||t.removeEntry(o,Se.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return W.or([()=>W.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class wh{constructor(e,t){this.persistence=e,this.pi=new Bs(r=>h2(r.path),(r,o)=>r.isEqual(o)),this.garbageCollector=SM(this,t)}static mi(e,t){return new wh(e,t)}Ei(){}di(e){return W.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}wr(e){let t=0;return this.pr(e,r=>{t++}).next(()=>t)}pr(e,t){return W.forEach(this.pi,(r,o)=>this.br(e,r,o).next(a=>a?W.resolve():t(o)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.ii(e,u=>this.br(e,u,t).next(f=>{f||(r++,a.removeEntry(u,Se.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),W.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),W.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),W.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Gc(e.data.value)),t}br(e,t,r){return W.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return W.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=o}static As(e,t){let r=Ne(),o=Ne();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new og(e,t.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return Z1()?8:u2(Qt())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,o){const a={result:null};return this.ys(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.ws(e,t,o,r).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new LM;return this.Ss(e,t,u).next(f=>{if(a.result=f,this.Vs)return this.bs(e,t,u,f.size)})}).next(()=>a.result)}bs(e,t,r,o){return r.documentReadCount<this.fs?(Uo()<=ke.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",jo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),W.resolve()):(Uo()<=ke.DEBUG&&ae("QueryEngine","Query:",jo(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(Uo()<=ke.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",jo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vr(t))):W.resolve())}ys(e,t){if(q0(t))return W.resolve(null);let r=vr(t);return this.indexManager.getIndexType(e,r).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Op(t,null,"F"),r=vr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=Ne(...a);return this.ps.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,r).next(d=>{const m=this.Ds(t,f);return this.Cs(t,m,u,d.readTime)?this.ys(e,Op(t,null,"F")):this.vs(e,m,t,d)}))})))}ws(e,t,r,o){return q0(t)||o.isEqual(Se.min())?W.resolve(null):this.ps.getDocuments(e,r).next(a=>{const u=this.Ds(t,a);return this.Cs(t,u,r,o)?W.resolve(null):(Uo()<=ke.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),jo(t)),this.vs(e,u,t,i2(o,Wl)).next(f=>f))})}Ds(e,t){let r=new St(DI(e));return t.forEach((o,a)=>{Uh(e,a)&&(r=r.add(a))}),r}Cs(e,t,r,o){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Ss(e,t,r){return Uo()<=ke.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",jo(t)),this.ps.getDocumentsMatchingQuery(e,t,Hi.min(),r)}vs(e,t,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag="LocalStore",FM=3e8;class UM{constructor(e,t,r,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new it(De),this.xs=new Bs(a=>Ym(a),Jm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new CM(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function jM(n,e,t,r){return new UM(n,e,t,r)}async function tS(n,e){const t=Ae(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(a=>(o=a,t.Bs(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],f=[];let d=Ne();for(const m of o){u.push(m.batchId);for(const v of m.mutations)d=d.add(v.key)}for(const m of a){f.push(m.batchId);for(const v of m.mutations)d=d.add(v.key)}return t.localDocuments.getDocuments(r,d).next(m=>({Ls:m,removedBatchIds:u,addedBatchIds:f}))})})}function BM(n,e){const t=Ae(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),a=t.Ns.newChangeBuffer({trackRemovals:!0});return function(f,d,m,v){const w=m.batch,E=w.keys();let C=W.resolve();return E.forEach(O=>{C=C.next(()=>v.getEntry(d,O)).next(B=>{const U=m.docVersions.get(O);Be(U!==null,48541),B.version.compareTo(U)<0&&(w.applyToRemoteDocument(B,m),B.isValidDocument()&&(B.setReadTime(m.commitVersion),v.addEntry(B)))})}),C.next(()=>f.mutationQueue.removeMutationBatch(d,w))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(f){let d=Ne();for(let m=0;m<f.mutationResults.length;++m)f.mutationResults[m].transformResults.length>0&&(d=d.add(f.batch.mutations[m].key));return d}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}function nS(n){const e=Ae(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function zM(n,e){const t=Ae(n),r=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const f=[];e.targetChanges.forEach((v,w)=>{const E=o.get(w);if(!E)return;f.push(t.Pi.removeMatchingKeys(a,v.removedDocuments,w).next(()=>t.Pi.addMatchingKeys(a,v.addedDocuments,w)));let C=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?C=C.withResumeToken(jt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):v.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(v.resumeToken,r)),o=o.insert(w,C),function(B,U,H){return B.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=FM?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(E,C,v)&&f.push(t.Pi.updateTargetData(a,C))});let d=ii(),m=Ne();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,v))}),f.push($M(a,u,e.documentUpdates).next(v=>{d=v.ks,m=v.qs})),!r.isEqual(Se.min())){const v=t.Pi.getLastRemoteSnapshotVersion(a).next(w=>t.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r));f.push(v)}return W.waitFor(f).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,d,m)).next(()=>d)}).then(a=>(t.Ms=o,a))}function $M(n,e,t){let r=Ne(),o=Ne();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let u=ii();return t.forEach((f,d)=>{const m=a.get(f);d.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(f)),d.isNoDocument()&&d.version.isEqual(Se.min())?(e.removeEntry(f,d.readTime),u=u.insert(f,d)):!m.isValidDocument()||d.version.compareTo(m.version)>0||d.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(d),u=u.insert(f,d)):ae(ag,"Ignoring outdated watch update for ",f,". Current version:",m.version," Watch version:",d.version)}),{ks:u,qs:o}})}function HM(n,e){const t=Ae(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Gm),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function WM(n,e){const t=Ae(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Pi.getTargetData(r,e).next(a=>a?(o=a,W.resolve(o)):t.Pi.allocateTargetId(r).next(u=>(o=new Li(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r})}async function zp(n,e,t){const r=Ae(n),o=r.Ms.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,o))}catch(u){if(!va(u))throw u;ae(ag,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function ow(n,e,t){const r=Ae(n);let o=Se.min(),a=Ne();return r.persistence.runTransaction("Execute query","readwrite",u=>function(d,m,v){const w=Ae(d),E=w.xs.get(v);return E!==void 0?W.resolve(w.Ms.get(E)):w.Pi.getTargetData(m,v)}(r,u,vr(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,f.targetId).next(d=>{a=d})}).next(()=>r.Fs.getDocumentsMatchingQuery(u,e,t?o:Se.min(),t?a:Ne())).next(f=>(KM(r,D2(e),f),{documents:f,Qs:a})))}function KM(n,e,t){let r=n.Os.get(e)||Se.min();t.forEach((o,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Os.set(e,r)}class aw{constructor(){this.activeTargetIds=O2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qM{constructor(){this.Mo=new aw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new aw,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw="ConnectivityMonitor";class uw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ae(lw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ae(lw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fc=null;function $p(){return Fc===null?Fc=function(){return 268435456+Math.round(2147483648*Math.random())}():Fc++,"0x"+Fc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd="RestConnection",QM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class XM{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===dh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,t,r,o,a){const u=$p(),f=this.zo(e,t.toUriEncodedString());ae(Xd,`Sending RPC '${e}' ${u}:`,f,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,o,a);const{host:m}=new URL(f),v=ua(m);return this.Jo(e,f,d,r,v).then(w=>(ae(Xd,`Received RPC '${e}' ${u}: `,w),w),w=>{throw ra(Xd,`RPC '${e}' ${u} failed with error: `,w,"url: ",f,"request:",r),w})}Ho(e,t,r,o,a,u){return this.Go(e,t,r,o,a)}jo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ga}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,a)=>e[a]=o),r&&r.headers.forEach((o,a)=>e[a]=o)}zo(e,t){const r=QM[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wt="WebChannelConnection";class JM extends XM{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,o,a){const u=$p();return new Promise((f,d)=>{const m=new oI;m.setWithCredentials(!0),m.listenOnce(aI.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case qc.NO_ERROR:const w=m.getResponseJson();ae(Wt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(w)),f(w);break;case qc.TIMEOUT:ae(Wt,`RPC '${e}' ${u} timed out`),d(new pe(J.DEADLINE_EXCEEDED,"Request time out"));break;case qc.HTTP_ERROR:const E=m.getStatus();if(ae(Wt,`RPC '${e}' ${u} failed with status:`,E,"response text:",m.getResponseText()),E>0){let C=m.getResponseJson();Array.isArray(C)&&(C=C[0]);const O=C==null?void 0:C.error;if(O&&O.status&&O.message){const B=function(H){const X=H.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(X)>=0?X:J.UNKNOWN}(O.status);d(new pe(B,O.message))}else d(new pe(J.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new pe(J.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:u,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{ae(Wt,`RPC '${e}' ${u} completed.`)}});const v=JSON.stringify(o);ae(Wt,`RPC '${e}' ${u} sending request:`,o),m.send(t,"POST",v,r,15)})}T_(e,t,r){const o=$p(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=cI(),f=uI(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(d.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const v=a.join("");ae(Wt,`Creating RPC '${e}' stream ${o}: ${v}`,d);const w=u.createWebChannel(v,d);this.I_(w);let E=!1,C=!1;const O=new YM({Yo:U=>{C?ae(Wt,`Not sending because RPC '${e}' stream ${o} is closed:`,U):(E||(ae(Wt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),E=!0),ae(Wt,`RPC '${e}' stream ${o} sending:`,U),w.send(U))},Zo:()=>w.close()}),B=(U,H,X)=>{U.listen(H,q=>{try{X(q)}catch(ie){setTimeout(()=>{throw ie},0)}})};return B(w,vl.EventType.OPEN,()=>{C||(ae(Wt,`RPC '${e}' stream ${o} transport opened.`),O.o_())}),B(w,vl.EventType.CLOSE,()=>{C||(C=!0,ae(Wt,`RPC '${e}' stream ${o} transport closed`),O.a_(),this.E_(w))}),B(w,vl.EventType.ERROR,U=>{C||(C=!0,ra(Wt,`RPC '${e}' stream ${o} transport errored. Name:`,U.name,"Message:",U.message),O.a_(new pe(J.UNAVAILABLE,"The operation could not be completed")))}),B(w,vl.EventType.MESSAGE,U=>{var H;if(!C){const X=U.data[0];Be(!!X,16349);const q=X,ie=(q==null?void 0:q.error)||((H=q[0])==null?void 0:H.error);if(ie){ae(Wt,`RPC '${e}' stream ${o} received error:`,ie);const oe=ie.status;let fe=function(P){const D=dt[P];if(D!==void 0)return $I(D)}(oe),k=ie.message;fe===void 0&&(fe=J.INTERNAL,k="Unknown error status: "+oe+" with message "+ie.message),C=!0,O.a_(new pe(fe,k)),w.close()}else ae(Wt,`RPC '${e}' stream ${o} received:`,X),O.u_(X)}}),B(f,lI.STAT_EVENT,U=>{U.stat===Dp.PROXY?ae(Wt,`RPC '${e}' stream ${o} detected buffering proxy`):U.stat===Dp.NOPROXY&&ae(Wt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{O.__()},0),O}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function Yd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(n){return new nM(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e,t,r=1e3,o=1.5,a=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=o,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-r);o>0&&ae("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw="PersistentStream";class iS{constructor(e,t,r,o,a,u,f,d){this.Mi=e,this.S_=r,this.b_=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new rS(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===J.RESOURCE_EXHAUSTED?(ri(t.toString()),ri("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.D_===t&&this.G_(r,o)},r=>{e(()=>{const o=new pe(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)})})}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{r(()=>this.z_(o))}),this.stream.onMessage(o=>{r(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ae(cw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(ae(cw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ZM extends iS{constructor(e,t,r,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,u),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=sM(this.serializer,e),r=function(a){if(!("targetChange"in a))return Se.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Se.min():u.readTime?_r(u.readTime):Se.min()}(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=Bp(this.serializer),t.addTarget=function(a,u){let f;const d=u.target;if(f=Lp(d)?{documents:lM(a,d)}:{query:uM(a,d).ft},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=KI(a,u.resumeToken);const m=Fp(a,u.expectedCount);m!==null&&(f.expectedCount=m)}else if(u.snapshotVersion.compareTo(Se.min())>0){f.readTime=_h(a,u.snapshotVersion.toTimestamp());const m=Fp(a,u.expectedCount);m!==null&&(f.expectedCount=m)}return f}(this.serializer,e);const r=hM(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=Bp(this.serializer),t.removeTarget=e,this.q_(t)}}class eb extends iS{constructor(e,t,r,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,u),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Be(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Be(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Be(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=aM(e.writeResults,e.commitTime),r=_r(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=Bp(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>oM(this.serializer,r))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{}class nb extends tb{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new pe(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Go(e,Up(t,r),o,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new pe(J.UNKNOWN,a.toString())})}Ho(e,t,r,o,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Ho(e,Up(t,r),o,u,f,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pe(J.UNKNOWN,u.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class rb{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ri(t),this.aa=!1):ae("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="RemoteStore";class ib{constructor(e,t,r,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(u=>{r.enqueueAndForget(async()=>{$s(this)&&(ae(Us,"Restarting streams for network reachability change."),await async function(d){const m=Ae(d);m.Ea.add(4),await cu(m),m.Ra.set("Unknown"),m.Ea.delete(4),await Hh(m)}(this))})}),this.Ra=new rb(r,o)}}async function Hh(n){if($s(n))for(const e of n.da)await e(!0)}async function cu(n){for(const e of n.da)await e(!1)}function sS(n,e){const t=Ae(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),hg(t)?cg(t):_a(t).O_()&&ug(t,e))}function lg(n,e){const t=Ae(n),r=_a(t);t.Ia.delete(e),r.O_()&&oS(t,e),t.Ia.size===0&&(r.O_()?r.L_():$s(t)&&t.Ra.set("Unknown"))}function ug(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}_a(n).Y_(e)}function oS(n,e){n.Va.Ue(e),_a(n).Z_(e)}function cg(n){n.Va=new J2({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),_a(n).start(),n.Ra.ua()}function hg(n){return $s(n)&&!_a(n).x_()&&n.Ia.size>0}function $s(n){return Ae(n).Ea.size===0}function aS(n){n.Va=void 0}async function sb(n){n.Ra.set("Online")}async function ob(n){n.Ia.forEach((e,t)=>{ug(n,e)})}async function ab(n,e){aS(n),hg(n)?(n.Ra.ha(e),cg(n)):n.Ra.set("Unknown")}async function lb(n,e,t){if(n.Ra.set("Online"),e instanceof WI&&e.state===2&&e.cause)try{await async function(o,a){const u=a.cause;for(const f of a.targetIds)o.Ia.has(f)&&(await o.remoteSyncer.rejectListen(f,u),o.Ia.delete(f),o.Va.removeTarget(f))}(n,e)}catch(r){ae(Us,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Th(n,r)}else if(e instanceof Yc?n.Va.Ze(e):e instanceof HI?n.Va.st(e):n.Va.tt(e),!t.isEqual(Se.min()))try{const r=await nS(n.localStore);t.compareTo(r)>=0&&await function(a,u){const f=a.Va.Tt(u);return f.targetChanges.forEach((d,m)=>{if(d.resumeToken.approximateByteSize()>0){const v=a.Ia.get(m);v&&a.Ia.set(m,v.withResumeToken(d.resumeToken,u))}}),f.targetMismatches.forEach((d,m)=>{const v=a.Ia.get(d);if(!v)return;a.Ia.set(d,v.withResumeToken(jt.EMPTY_BYTE_STRING,v.snapshotVersion)),oS(a,d);const w=new Li(v.target,d,m,v.sequenceNumber);ug(a,w)}),a.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(r){ae(Us,"Failed to raise snapshot:",r),await Th(n,r)}}async function Th(n,e,t){if(!va(e))throw e;n.Ea.add(1),await cu(n),n.Ra.set("Offline"),t||(t=()=>nS(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ae(Us,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Hh(n)})}function lS(n,e){return e().catch(t=>Th(n,t,e))}async function Wh(n){const e=Ae(n),t=Gi(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Gm;for(;ub(e);)try{const o=await HM(e.localStore,r);if(o===null){e.Ta.length===0&&t.L_();break}r=o.batchId,cb(e,o)}catch(o){await Th(e,o)}uS(e)&&cS(e)}function ub(n){return $s(n)&&n.Ta.length<10}function cb(n,e){n.Ta.push(e);const t=Gi(n);t.O_()&&t.X_&&t.ea(e.mutations)}function uS(n){return $s(n)&&!Gi(n).x_()&&n.Ta.length>0}function cS(n){Gi(n).start()}async function hb(n){Gi(n).ra()}async function fb(n){const e=Gi(n);for(const t of n.Ta)e.ea(t.mutations)}async function db(n,e,t){const r=n.Ta.shift(),o=tg.from(r,e,t);await lS(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Wh(n)}async function pb(n,e){e&&Gi(n).X_&&await async function(r,o){if(function(u){return Q2(u)&&u!==J.ABORTED}(o.code)){const a=r.Ta.shift();Gi(r).B_(),await lS(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,o)),await Wh(r)}}(n,e),uS(n)&&cS(n)}async function hw(n,e){const t=Ae(n);t.asyncQueue.verifyOperationInProgress(),ae(Us,"RemoteStore received new credentials");const r=$s(t);t.Ea.add(3),await cu(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Hh(t)}async function mb(n,e){const t=Ae(n);e?(t.Ea.delete(2),await Hh(t)):e||(t.Ea.add(2),await cu(t),t.Ra.set("Unknown"))}function _a(n){return n.ma||(n.ma=function(t,r,o){const a=Ae(t);return a.sa(),new ZM(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Xo:sb.bind(null,n),t_:ob.bind(null,n),r_:ab.bind(null,n),H_:lb.bind(null,n)}),n.da.push(async e=>{e?(n.ma.B_(),hg(n)?cg(n):n.Ra.set("Unknown")):(await n.ma.stop(),aS(n))})),n.ma}function Gi(n){return n.fa||(n.fa=function(t,r,o){const a=Ae(t);return a.sa(),new eb(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:hb.bind(null,n),r_:pb.bind(null,n),ta:fb.bind(null,n),na:db.bind(null,n)}),n.da.push(async e=>{e?(n.fa.B_(),await Wh(n)):(await n.fa.stop(),n.Ta.length>0&&(ae(Us,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,t,r,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=a,this.deferred=new ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,a){const u=Date.now()+r,f=new fg(e,t,u,o,a);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dg(n,e){if(ri("AsyncQueue",`${e}: ${n}`),va(n))return new pe(J.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{static emptySet(e){return new Zo(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ve.comparator(t.key,r.key):(t,r)=>ve.comparator(t.key,r.key),this.keyedMap=_l(),this.sortedSet=new it(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Zo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Zo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(){this.ga=new it(ve.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):_e(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,r)=>{e.push(r)}),e}}class la{constructor(e,t,r,o,a,u,f,d,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=d,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,o,a){const u=[];return t.forEach(f=>{u.push({type:0,doc:f})}),new la(e,t,Zo.emptySet(t),u,r,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class yb{constructor(){this.queries=dw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const o=Ae(t),a=o.queries;o.queries=dw(),a.forEach((u,f)=>{for(const d of f.Sa)d.onError(r)})})(this,new pe(J.ABORTED,"Firestore shutting down"))}}function dw(){return new Bs(n=>kI(n),Fh)}async function vb(n,e){const t=Ae(n);let r=3;const o=e.query;let a=t.queries.get(o);a?!a.ba()&&e.Da()&&(r=2):(a=new gb,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await t.onListen(o,!0);break;case 1:a.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const f=dg(u,`Initialization of query '${jo(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,a),a.Sa.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&pg(t)}async function _b(n,e){const t=Ae(n),r=e.query;let o=3;const a=t.queries.get(r);if(a){const u=a.Sa.indexOf(e);u>=0&&(a.Sa.splice(u,1),a.Sa.length===0?o=e.Da()?0:1:!a.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function wb(n,e){const t=Ae(n);let r=!1;for(const o of e){const a=o.query,u=t.queries.get(a);if(u){for(const f of u.Sa)f.Fa(o)&&(r=!0);u.wa=o}}r&&pg(t)}function Tb(n,e,t){const r=Ae(n),o=r.queries.get(e);if(o)for(const a of o.Sa)a.onError(t);r.queries.delete(e)}function pg(n){n.Ca.forEach(e=>{e.next()})}var Hp,pw;(pw=Hp||(Hp={})).Ma="default",pw.Cache="cache";class Eb{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new la(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=la.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Hp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e){this.key=e}}class fS{constructor(e){this.key=e}}class Ib{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ne(),this.mutatedKeys=Ne(),this.eu=DI(e),this.tu=new Zo(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new fw,o=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,u=o,f=!1;const d=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,w)=>{const E=o.get(v),C=Uh(this.query,w)?w:null,O=!!E&&this.mutatedKeys.has(E.key),B=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let U=!1;E&&C?E.data.isEqual(C.data)?O!==B&&(r.track({type:3,doc:C}),U=!0):this.su(E,C)||(r.track({type:2,doc:C}),U=!0,(d&&this.eu(C,d)>0||m&&this.eu(C,m)<0)&&(f=!0)):!E&&C?(r.track({type:0,doc:C}),U=!0):E&&!C&&(r.track({type:1,doc:E}),U=!0,(d||m)&&(f=!0)),U&&(C?(u=u.add(C),a=B?a.add(v):a.delete(v)):(u=u.delete(v),a=a.delete(v)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),a=a.delete(v.key),r.track({type:1,doc:v})}return{tu:u,iu:r,Cs:f,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort((v,w)=>function(C,O){const B=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Rt:U})}};return B(C)-B(O)}(v.type,w.type)||this.eu(v.doc,w.doc)),this.ou(r),o=o??!1;const f=t&&!o?this._u():[],d=this.Xa.size===0&&this.current&&!o?1:0,m=d!==this.Za;return this.Za=d,u.length!==0||m?{snapshot:new la(this.query,e.tu,a,u,e.mutatedKeys,d===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new fw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ne(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const t=[];return e.forEach(r=>{this.Xa.has(r)||t.push(new fS(r))}),this.Xa.forEach(r=>{e.has(r)||t.push(new hS(r))}),t}cu(e){this.Ya=e.Qs,this.Xa=Ne();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return la.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const mg="SyncEngine";class Sb{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Ab{constructor(e){this.key=e,this.hu=!1}}class Pb{constructor(e,t,r,o,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Bs(f=>kI(f),Fh),this.Iu=new Map,this.Eu=new Set,this.du=new it(ve.comparator),this.Au=new Map,this.Ru=new ig,this.Vu={},this.mu=new Map,this.fu=aa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Cb(n,e,t=!0){const r=vS(n);let o;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.lu()):o=await dS(r,e,t,!0),o}async function xb(n,e){const t=vS(n);await dS(t,e,!0,!1)}async function dS(n,e,t,r){const o=await WM(n.localStore,vr(e)),a=o.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let f;return r&&(f=await Rb(n,e,a,u==="current",o.resumeToken)),n.isPrimaryClient&&t&&sS(n.remoteStore,o),f}async function Rb(n,e,t,r,o){n.pu=(w,E,C)=>async function(B,U,H,X){let q=U.view.ru(H);q.Cs&&(q=await ow(B.localStore,U.query,!1).then(({documents:k})=>U.view.ru(k,q)));const ie=X&&X.targetChanges.get(U.targetId),oe=X&&X.targetMismatches.get(U.targetId)!=null,fe=U.view.applyChanges(q,B.isPrimaryClient,ie,oe);return gw(B,U.targetId,fe.au),fe.snapshot}(n,w,E,C);const a=await ow(n.localStore,e,!0),u=new Ib(e,a.Qs),f=u.ru(a.documents),d=uu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",o),m=u.applyChanges(f,n.isPrimaryClient,d);gw(n,t,m.au);const v=new Sb(e,t,u);return n.Tu.set(e,v),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),m.snapshot}async function kb(n,e,t){const r=Ae(n),o=r.Tu.get(e),a=r.Iu.get(o.targetId);if(a.length>1)return r.Iu.set(o.targetId,a.filter(u=>!Fh(u,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await zp(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),t&&lg(r.remoteStore,o.targetId),Wp(r,o.targetId)}).catch(ya)):(Wp(r,o.targetId),await zp(r.localStore,o.targetId,!0))}async function Db(n,e){const t=Ae(n),r=t.Tu.get(e),o=t.Iu.get(r.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),lg(t.remoteStore,r.targetId))}async function Nb(n,e,t){const r=Ub(n);try{const o=await function(u,f){const d=Ae(u),m=Qe.now(),v=f.reduce((C,O)=>C.add(O.key),Ne());let w,E;return d.persistence.runTransaction("Locally write mutations","readwrite",C=>{let O=ii(),B=Ne();return d.Ns.getEntries(C,v).next(U=>{O=U,O.forEach((H,X)=>{X.isValidDocument()||(B=B.add(H))})}).next(()=>d.localDocuments.getOverlayedDocuments(C,O)).next(U=>{w=U;const H=[];for(const X of f){const q=H2(X,w.get(X.key).overlayedDocument);q!=null&&H.push(new zs(X.key,q,II(q.value.mapValue),Yr.exists(!0)))}return d.mutationQueue.addMutationBatch(C,m,H,f)}).next(U=>{E=U;const H=U.applyToLocalDocumentSet(w,B);return d.documentOverlayCache.saveOverlays(C,U.batchId,H)})}).then(()=>({batchId:E.batchId,changes:VI(w)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(u,f,d){let m=u.Vu[u.currentUser.toKey()];m||(m=new it(De)),m=m.insert(f,d),u.Vu[u.currentUser.toKey()]=m}(r,o.batchId,t),await hu(r,o.changes),await Wh(r.remoteStore)}catch(o){const a=dg(o,"Failed to persist write");t.reject(a)}}async function pS(n,e){const t=Ae(n);try{const r=await zM(t.localStore,e);e.targetChanges.forEach((o,a)=>{const u=t.Au.get(a);u&&(Be(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?Be(u.hu,14607):o.removedDocuments.size>0&&(Be(u.hu,42227),u.hu=!1))}),await hu(t,r,e)}catch(r){await ya(r)}}function mw(n,e,t){const r=Ae(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const o=[];r.Tu.forEach((a,u)=>{const f=u.view.va(e);f.snapshot&&o.push(f.snapshot)}),function(u,f){const d=Ae(u);d.onlineState=f;let m=!1;d.queries.forEach((v,w)=>{for(const E of w.Sa)E.va(f)&&(m=!0)}),m&&pg(d)}(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Vb(n,e,t){const r=Ae(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Au.get(e),a=o&&o.key;if(a){let u=new it(ve.comparator);u=u.insert(a,qt.newNoDocument(a,Se.min()));const f=Ne().add(a),d=new zh(Se.min(),new Map,new it(De),u,f);await pS(r,d),r.du=r.du.remove(a),r.Au.delete(e),gg(r)}else await zp(r.localStore,e,!1).then(()=>Wp(r,e,t)).catch(ya)}async function Mb(n,e){const t=Ae(n),r=e.batch.batchId;try{const o=await BM(t.localStore,e);gS(t,r,null),mS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await hu(t,o)}catch(o){await ya(o)}}async function bb(n,e,t){const r=Ae(n);try{const o=await function(u,f){const d=Ae(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let v;return d.mutationQueue.lookupMutationBatch(m,f).next(w=>(Be(w!==null,37113),v=w.keys(),d.mutationQueue.removeMutationBatch(m,w))).next(()=>d.mutationQueue.performConsistencyCheck(m)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(m,v,f)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v)).next(()=>d.localDocuments.getDocuments(m,v))})}(r.localStore,e);gS(r,e,t),mS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await hu(r,o)}catch(o){await ya(o)}}function mS(n,e){(n.mu.get(e)||[]).forEach(t=>{t.resolve()}),n.mu.delete(e)}function gS(n,e,t){const r=Ae(n);let o=r.Vu[r.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function Wp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach(r=>{n.Ru.containsKey(r)||yS(n,r)})}function yS(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(lg(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),gg(n))}function gw(n,e,t){for(const r of t)r instanceof hS?(n.Ru.addReference(r.key,e),Lb(n,r)):r instanceof fS?(ae(mg,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||yS(n,r.key)):_e(19791,{wu:r})}function Lb(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(ae(mg,"New document in limbo: "+t),n.Eu.add(r),gg(n))}function gg(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new ve(nt.fromString(e)),r=n.fu.next();n.Au.set(r,new Ab(t)),n.du=n.du.insert(t,r),sS(n.remoteStore,new Li(vr(Zm(t.path)),r,"TargetPurposeLimboResolution",Mh.ce))}}async function hu(n,e,t){const r=Ae(n),o=[],a=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach((f,d)=>{u.push(r.pu(d,e,t).then(m=>{var v;if((m||t)&&r.isPrimaryClient){const w=m?!m.fromCache:(v=t==null?void 0:t.targetChanges.get(d.targetId))==null?void 0:v.current;r.sharedClientState.updateQueryState(d.targetId,w?"current":"not-current")}if(m){o.push(m);const w=og.As(d.targetId,m);a.push(w)}}))}),await Promise.all(u),r.Pu.H_(o),await async function(d,m){const v=Ae(d);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>W.forEach(m,E=>W.forEach(E.Es,C=>v.persistence.referenceDelegate.addReference(w,E.targetId,C)).next(()=>W.forEach(E.ds,C=>v.persistence.referenceDelegate.removeReference(w,E.targetId,C)))))}catch(w){if(!va(w))throw w;ae(ag,"Failed to update sequence numbers: "+w)}for(const w of m){const E=w.targetId;if(!w.fromCache){const C=v.Ms.get(E),O=C.snapshotVersion,B=C.withLastLimboFreeSnapshotVersion(O);v.Ms=v.Ms.insert(E,B)}}}(r.localStore,a))}async function Ob(n,e){const t=Ae(n);if(!t.currentUser.isEqual(e)){ae(mg,"User change. New user:",e.toKey());const r=await tS(t.localStore,e);t.currentUser=e,function(a,u){a.mu.forEach(f=>{f.forEach(d=>{d.reject(new pe(J.CANCELLED,u))})}),a.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await hu(t,r.Ls)}}function Fb(n,e){const t=Ae(n),r=t.Au.get(e);if(r&&r.hu)return Ne().add(r.key);{let o=Ne();const a=t.Iu.get(e);if(!a)return o;for(const u of a){const f=t.Tu.get(u);o=o.unionWith(f.view.nu)}return o}}function vS(n){const e=Ae(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=pS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Fb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Vb.bind(null,e),e.Pu.H_=wb.bind(null,e.eventManager),e.Pu.yu=Tb.bind(null,e.eventManager),e}function Ub(n){const e=Ae(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Mb.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bb.bind(null,e),e}class Eh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=$h(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return jM(this.persistence,new OM,e.initialUser,this.serializer)}Cu(e){return new eS(sg.mi,this.serializer)}Du(e){return new qM}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Eh.provider={build:()=>new Eh};class jb extends Eh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Be(this.persistence.referenceDelegate instanceof wh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new EM(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new eS(r=>wh.mi(r,t),this.serializer)}}class Kp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>mw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ob.bind(null,this.syncEngine),await mb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new yb}()}createDatastore(e){const t=$h(e.databaseInfo.databaseId),r=function(a){return new JM(a)}(e.databaseInfo);return function(a,u,f,d){return new nb(a,u,f,d)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,o,a,u,f){return new ib(r,o,a,u,f)}(this.localStore,this.datastore,e.asyncQueue,t=>mw(this.syncEngine,t,0),function(){return uw.v()?new uw:new GM}())}createSyncEngine(e,t){return function(o,a,u,f,d,m,v){const w=new Pb(o,a,u,f,d,m);return v&&(w.gu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const a=Ae(o);ae(Us,"RemoteStore shutting down."),a.Ea.add(5),await cu(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}Kp.provider={build:()=>new Kp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ri("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi="FirestoreClient";class zb{constructor(e,t,r,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=Kt.UNAUTHENTICATED,this.clientId=Km.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async u=>{ae(Qi,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(ae(Qi,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=dg(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Jd(n,e){n.asyncQueue.verifyOperationInProgress(),ae(Qi,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async o=>{r.isEqual(o)||(await tS(e.localStore,o),r=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function yw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await $b(n);ae(Qi,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>hw(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>hw(e.remoteStore,o)),n._onlineComponents=e}async function $b(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ae(Qi,"Using user provided OfflineComponentProvider");try{await Jd(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;ra("Error using user provided cache. Falling back to memory cache: "+t),await Jd(n,new Eh)}}else ae(Qi,"Using default OfflineComponentProvider"),await Jd(n,new jb(void 0));return n._offlineComponents}async function _S(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ae(Qi,"Using user provided OnlineComponentProvider"),await yw(n,n._uninitializedComponentsProvider._online)):(ae(Qi,"Using default OnlineComponentProvider"),await yw(n,new Kp))),n._onlineComponents}function Hb(n){return _S(n).then(e=>e.syncEngine)}async function Wb(n){const e=await _S(n),t=e.eventManager;return t.onListen=Cb.bind(null,e.syncEngine),t.onUnlisten=kb.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=xb.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Db.bind(null,e.syncEngine),t}function Kb(n,e,t={}){const r=new ji;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,f,d,m){const v=new Bb({next:E=>{v.Nu(),u.enqueueAndForget(()=>_b(a,w));const C=E.docs.has(f);!C&&E.fromCache?m.reject(new pe(J.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&E.fromCache&&d&&d.source==="server"?m.reject(new pe(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(E)},error:E=>m.reject(E)}),w=new Eb(Zm(f.path),v,{includeMetadataChanges:!0,qa:!0});return vb(a,w)}(await Wb(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS="firestore.googleapis.com",_w=!0;class ww{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=TS,this.ssl=_w}else this.host=e.host,this.ssl=e.ssl??_w;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ZI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<wM)throw new pe(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}r2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wS(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new pe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new pe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new pe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yg{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ww({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ww(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new KV;switch(r.type){case"firstParty":return new XV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pe(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=vw.get(t);r&&(ae("ComponentProvider","Removing Datastore"),vw.delete(t),r.terminate())}(this),Promise.resolve()}}function qb(n,e,t,r={}){var m;n=Hl(n,yg);const o=ua(e),a=n._getSettings(),u={...a,emulatorOptions:n._getEmulatorOptions()},f=`${e}:${t}`;o&&(kw(`https://${f}`),Dw("Firestore",!0)),a.host!==TS&&a.host!==f&&ra("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...a,host:f,ssl:o,emulatorOptions:r};if(!Ls(d,u)&&(n._setSettings(d),r.mockUserToken)){let v,w;if(typeof r.mockUserToken=="string")v=r.mockUserToken,w=Kt.MOCK_USER;else{v=H1(r.mockUserToken,(m=n._app)==null?void 0:m.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new pe(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Kt(E)}n._authCredentials=new qV(new fI(v,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new vg(this.firestore,e,this._query)}}class Dt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dt(this.firestore,e,this._key)}toJSON(){return{type:Dt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(au(t,Dt._jsonSchema))return new Dt(e,r||null,new ve(nt.fromString(t.referencePath)))}}Dt._jsonSchemaVersion="firestore/documentReference/1.0",Dt._jsonSchema={type:mt("string",Dt._jsonSchemaVersion),referencePath:mt("string")};class Yl extends vg{constructor(e,t,r){super(e,t,Zm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dt(this.firestore,null,new ve(e))}withConverter(e){return new Yl(this.firestore,e,this._path)}}function $r(n,e,...t){if(n=bn(n),arguments.length===1&&(e=Km.newId()),n2("doc","path",e),n instanceof yg){const r=nt.fromString(e,...t);return M0(r),new Dt(n,null,new ve(r))}{if(!(n instanceof Dt||n instanceof Yl))throw new pe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(nt.fromString(e,...t));return M0(r),new Dt(n.firestore,n instanceof Yl?n.converter:null,new ve(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw="AsyncQueue";class Ew{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new rS(this,"async_queue_retry"),this._c=()=>{const r=Yd();r&&ae(Tw,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Yd();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Yd();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new ji;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!va(e))throw e;ae(Tw,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,ri("INTERNAL UNHANDLED ERROR: ",Iw(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=fg.createAndSchedule(this,e,t,r,a=>this.hc(a));return this.tc.push(o),o}uc(){this.nc&&_e(47125,{Pc:Iw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Iw(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class _g extends yg{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new Ew,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ew(e),this._firestoreClient=void 0,await e}}}function Gb(n,e){const t=typeof n=="object"?n:Yp(),r=typeof n=="string"?n:dh,o=Zl(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const a=$1("firestore");a&&qb(o,...a)}return o}function ES(n){if(n._terminated)throw new pe(J.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Qb(n),n._firestoreClient}function Qb(n){var r,o,a;const e=n._freezeSettings(),t=function(f,d,m,v){return new p2(f,d,m,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,wS(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(n._databaseId,((r=n._app)==null?void 0:r.options.appId)||"",n._persistenceKey,e);n._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new zb(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&function(f){const d=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(d),_online:d}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vn(jt.fromBase64String(e))}catch(t){throw new pe(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Vn(jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Vn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(au(e,Vn._jsonSchema))return Vn.fromBase64String(e.bytes)}}Vn._jsonSchemaVersion="firestore/bytes/1.0",Vn._jsonSchema={type:mt("string",Vn._jsonSchemaVersion),bytes:mt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new pe(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new pe(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new pe(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:wr._jsonSchemaVersion}}static fromJSON(e){if(au(e,wr._jsonSchema))return new wr(e.latitude,e.longitude)}}wr._jsonSchemaVersion="firestore/geoPoint/1.0",wr._jsonSchema={type:mt("string",wr._jsonSchemaVersion),latitude:mt("number"),longitude:mt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,o){if(r.length!==o.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==o[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Tr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(au(e,Tr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Tr(e.vectorValues);throw new pe(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Tr._jsonSchemaVersion="firestore/vectorValue/1.0",Tr._jsonSchema={type:mt("string",Tr._jsonSchemaVersion),vectorValues:mt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb=/^__.*__$/;class Yb{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new zs(e,this.data,this.fieldMask,t,this.fieldTransforms):new lu(e,this.data,t,this.fieldTransforms)}}function SS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{Ac:n})}}class Tg{constructor(e,t,r,o,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Tg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const t=(o=this.path)==null?void 0:o.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){var o;const t=(o=this.path)==null?void 0:o.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ih(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(SS(this.Ac)&&Xb.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Jb{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||$h(e)}Cc(e,t,r,o=!1){return new Tg({Ac:e,methodName:t,Dc:r,path:Ut.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zb(n){const e=n._freezeSettings(),t=$h(n._databaseId);return new Jb(n._databaseId,!!e.ignoreUndefinedProperties,t)}function eL(n,e,t,r,o,a={}){const u=n.Cc(a.merge||a.mergeFields?2:0,e,t,o);xS("Data must be an object, but it was:",u,r);const f=PS(r,u);let d,m;if(a.merge)d=new er(u.fieldMask),m=u.fieldTransforms;else if(a.mergeFields){const v=[];for(const w of a.mergeFields){const E=tL(e,w,t);if(!u.contains(E))throw new pe(J.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);rL(v,E)||v.push(E)}d=new er(v),m=u.fieldTransforms.filter(w=>d.covers(w.field))}else d=null,m=u.fieldTransforms;return new Yb(new Nn(f),d,m)}function AS(n,e){if(CS(n=bn(n)))return xS("Unsupported field value:",e,n),PS(n,e);if(n instanceof IS)return function(r,o){if(!SS(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,o){const a=[];let u=0;for(const f of r){let d=AS(f,o.wc(u));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),u++}return{arrayValue:{values:a}}}(n,e)}return function(r,o){if((r=bn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return F2(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Qe.fromDate(r);return{timestampValue:_h(o.serializer,a)}}if(r instanceof Qe){const a=new Qe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:_h(o.serializer,a)}}if(r instanceof wr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Vn)return{bytesValue:KI(o.serializer,r._byteString)};if(r instanceof Dt){const a=o.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw o.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:rg(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Tr)return function(u,f){return{mapValue:{fields:{[TI]:{stringValue:EI},[ph]:{arrayValue:{values:u.toArray().map(m=>{if(typeof m!="number")throw f.Sc("VectorValues must only contain numeric values.");return eg(f.serializer,m)})}}}}}}(r,o);throw o.Sc(`Unsupported field value: ${qm(r)}`)}(n,e)}function PS(n,e){const t={};return mI(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):js(n,(r,o)=>{const a=AS(o,e.mc(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function CS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Qe||n instanceof wr||n instanceof Vn||n instanceof Dt||n instanceof IS||n instanceof Tr)}function xS(n,e,t){if(!CS(t)||!dI(t)){const r=qm(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function tL(n,e,t){if((e=bn(e))instanceof wg)return e._internalPath;if(typeof e=="string")return RS(n,e);throw Ih("Field path arguments must be of type string or ",n,!1,void 0,t)}const nL=new RegExp("[~\\*/\\[\\]]");function RS(n,e,t){if(e.search(nL)>=0)throw Ih(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new wg(...e.split("."))._internalPath}catch{throw Ih(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ih(n,e,t,r,o){const a=r&&!r.isEmpty(),u=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let d="";return(a||u)&&(d+=" (found",a&&(d+=` in field ${r}`),u&&(d+=` in document ${o}`),d+=")"),new pe(J.INVALID_ARGUMENT,f+n+d)}function rL(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e,t,r,o,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(DS("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class iL extends kS{data(){return super.data()}}function DS(n,e){return typeof e=="string"?RS(n,e):e instanceof wg?e._internalPath:e._delegate._internalPath}class sL{convertValue(e,t="none"){switch(qi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ki(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return js(e,(o,a)=>{r[o]=this.convertValue(a,t)}),r}convertVectorValue(e){var r,o,a;const t=(a=(o=(r=e.fields)==null?void 0:r[ph].arrayValue)==null?void 0:o.values)==null?void 0:a.map(u=>ct(u.doubleValue));return new Tr(t)}convertGeoPoint(e){return new wr(ct(e.latitude),ct(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Lh(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Kl(e));default:return null}}convertTimestamp(e){const t=Wi(e);return new Qe(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=nt.fromString(e);Be(JI(r),9688,{name:e});const o=new ql(r.get(1),r.get(3)),a=new ve(r.popFirst(5));return o.isEqual(t)||ri(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oL(n,e,t){let r;return r=n?n.toFirestore(e):e,r}class Tl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bs extends kS{constructor(e,t,r,o,a,u){super(e,t,r,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Jc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(DS("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=bs._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}bs._jsonSchemaVersion="firestore/documentSnapshot/1.0",bs._jsonSchema={type:mt("string",bs._jsonSchemaVersion),bundleSource:mt("string","DocumentSnapshot"),bundleName:mt("string"),bundle:mt("string")};class Jc extends bs{data(e={}){return super.data(e)}}class Vl{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Tl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Jc(this._firestore,this._userDataWriter,r.key,r,new Tl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new pe(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(f=>{const d=new Jc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Tl(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}})}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>a||f.type!==3).map(f=>{const d=new Jc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Tl(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,v=-1;return f.type!==0&&(m=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),v=u.indexOf(f.doc.key)),{type:aL(f.type),doc:d,oldIndex:m,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Vl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Km.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],o=[];return this.docs.forEach(a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),o.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function aL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oo(n){n=Hl(n,Dt);const e=Hl(n.firestore,_g);return Kb(ES(e),n._key).then(t=>cL(e,n,t))}Vl._jsonSchemaVersion="firestore/querySnapshot/1.0",Vl._jsonSchema={type:mt("string",Vl._jsonSchemaVersion),bundleSource:mt("string","QuerySnapshot"),bundleName:mt("string"),bundle:mt("string")};class lL extends sL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Dt(this.firestore,null,t)}}function Zd(n,e,t){n=Hl(n,Dt);const r=Hl(n.firestore,_g),o=oL(n.converter,e);return uL(r,[eL(Zb(r),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,Yr.none())])}function uL(n,e){return function(r,o){const a=new ji;return r.asyncQueue.enqueueAndForget(async()=>Nb(await Hb(r),o,a)),a.promise}(ES(n),e)}function cL(n,e,t){const r=t.docs.get(e._key),o=new lL(n);return new bs(n,o,e._key,r,new Tl(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){ga=o})(ha),Bi(new Jr("firestore",(r,{instanceIdentifier:o,options:a})=>{const u=r.getProvider("app").getImmediate(),f=new _g(new GV(r.getProvider("auth-internal")),new YV(u,r.getProvider("app-check-internal")),function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new pe(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ql(m.options.projectId,v)}(u,o),u);return a={useFetchStreams:t,...a},f._setSettings(a),f},"PUBLIC").setMultipleInstances(!0)),Xr(k0,D0,e),Xr(k0,D0,"esm2020")})();const hL={apiKey:"AIzaSyBwhy3ZWHvYf5r9c7TrabP7ONCG5CXftgk",authDomain:"ai-hub-8f387.firebaseapp.com",projectId:"ai-hub-8f387",storageBucket:"ai-hub-8f387.firebasestorage.app",messagingSenderId:"721658943205",appId:"1:721658943205:web:36e4e757a3f8b45f71a60c",measurementId:"G-6ESG13BJGF"},Eg=Xp(hL);Gw(Eg,{provider:new Ch("6LeUEpErAAAAAHJn66FWfNdoc9QSsqxjeVpj6DPa"),isTokenAutoRefreshEnabled:!0});const Wr=AT(Eg);Wr.useDeviceLanguage();const NS=new qr;NS.addScope("https://github.com/Jamcha123/twoPrompt");const fL=new Kr,Hr=Gb(Eg);function dL(){const[n,e]=Pe.useState(!1);return Pe.useEffect(()=>{const t=["DeepSeek-V3-0324","Cohere-command-r-plus-08-2024","Llama-4-Scout-17B-16E-Instruct","Phi-4-mini-instruct","Ministral-3B","Meta-Llama-3.1-405B-Instruct","jais-30b-chat"];Fo(Wr,async r=>{if(r==null)return;const o=(await Oo($r(Hr,"/billing/"+r.uid))).data();(o==null||o==null)&&await Zd($r(Hr,"/billing/"+r.uid),{balance:1})}),Fo(Wr,async r=>{if(r==null)return;if(r!=null){const f=(await Oo($r(Hr,"/usage/"+r.uid))).data();if(f==null||f==null){const d={};t.forEach(m=>{d[m.toString()]=Number.parseInt(0)}),await Zd($r(Hr,"/usage/"+r.uid),d)}}const o=document.getElementsByTagName("a"),a=document.getElementsByClassName("usage"),u=document.getElementsByClassName("cost");for(let f=0;f!=o.length;f++){let d="https://api-jmoufuae2a-uc.a.run.app?model="+t[f]+"&user="+r.uid+"&text=hello";o[f].value=t[f],o[f].innerText=t[f],o[f].href=d;const m=(await Oo($r(Hr,"/usage/"+r.uid))).data()[o[f].value];a[f].innerText=m,u[f].innerText="$"+m*.04}}),Fo(Wr,async r=>{if(r!=null){const o=(await Oo($r(Hr,"/usage/"+r.uid))).data();let a=0;t.forEach(w=>{a+=o[w.toString()]}),a=a.toString();let u=Number.parseInt(a)*.04;document.getElementById("usages").innerText=a+" prompts",document.getElementById("costs").innerText="$"+u.toString(),document.getElementById("use").innerText="total usage: $"+u.toString();const f=(await Oo($r(Hr,"/billing/"+r.uid))).get("balance");document.getElementById("bill").innerText="balance left: $"+Number.parseFloat(f);let d=(f+u).toString();const m=document.getElementById("bar");m.value=f.toString(),m.max=d;const v=document.getElementById("amount");document.getElementById("form").addEventListener("submit",async w=>{w.preventDefault();const E="https://checkout-jmoufuae2a-uc.a.run.app?user="+Wr.currentUser.uid+"&amount="+v.value;window.location.href=E})}}),Fo(Wr,async r=>{if(r==null)return;const o=(await Oo($r(Hr,"/history/"+r.uid))).get("data");(o==null||o==null)&&await Zd($r(Hr,"/history/"+r.uid),{data:[]}),o.forEach(a=>{const{price:u,total_prompts:f,user_id:d,date:m}=a;let v=document.createElement("div");v.classList.add("items_add");let w=document.createElement("h1");w.classList.add("histories"),w.innerText="balance added : "+u,v.appendChild(w);let E=document.createElement("h1");E.classList.add("histories"),E.innerText=u+" equals "+f+" prompts",v.appendChild(E);let C=document.createElement("h1");C.classList.add("histories"),C.innerText="date added: "+m,v.appendChild(C),document.getElementById("history").appendChild(v)})}),Fo(Wr,r=>{r!=null&&(document.getElementById("cover").style.display="none",document.getElementById("login").style.display="none")})}),G.jsxs("div",{className:"relative w-[100%] h-[150vh] m-auto p-[0] bg-transparent flex flex-col align-middle ",children:[G.jsx("div",{className:"fixed w-[100%] h-[100%] m-auto p-[0] bg-gradient-to-tr from-violet-800 via-purple-600 to-pink-600 z-[1] "}),G.jsx("div",{className:"fixed w-[100%] h-[100%] m-auto p-[0] bg-black opacity-[0.75] z-[2] "}),G.jsxs("section",{id:"main",className:"flex flex-col align-middle justify-center text-center mt-[0%] min-h-[150vh] h-[150vh] max-h-[150vh] min-w-[100%] w-[100%] max-w-[100%] z-[3] ",children:[G.jsx("div",{className:"relative w-[100%] h-[5vh] ml-auto mr-auto mt-[5%] mb-[0%] p-[0] flex flex-row align-middle rounded-tl-xl rounded-tr-xl justify-center text-center bg-transparent",children:G.jsx("div",{className:"relative w-[fit-content] h-[100%] m-auto p-[0] flex flex-col align-middle justify-center text-center ",children:G.jsx("h1",{className:"text-2xl text-white",children:"TwoPrompt Developer API (Models have different load speeds)"})})}),G.jsxs("div",{className:"relative w-[100%] h-[120vh] m-auto mt-[5%] mb-[10%] p-[0] grid grid-cols-1 grid-rows-2 gap-[20px] bg-transparent ",children:[G.jsxs("div",{className:"relative w-[85%] h-[100%] bg-gray-300 rounded-2xl mr-auto ml-auto mt-[0%]  p-[0] flex flex-col align-middle ",children:[G.jsx("div",{className:"relative w-[100%] h-[10%] mr-auto ml-auto mt-[0%] xl:mt-[5%] mb-[0%] p-[0] flex flex-col align-middle justify-center text-center ",children:G.jsx("div",{className:"relative w-[100%] h-[50%] m-auto p-[0] flex flex-row align-middle justify-center text-center ",children:G.jsx("h1",{className:"text-2xl text-black",children:"LLMs Models List (text query - prompt input)"})})}),G.jsxs("div",{className:"relative w-[90%] h-[90%] min-h-[70%] max-h-[70%] overflow-y-auto overflow-x-hidden m-auto mt-[2%] mb-[0%] p-[0] flex flex-col align-middle ",children:[G.jsxs("div",{className:"relative w-[100%] border-b-black border-b-[2px] h-[4em] mt-[5%] m-auto p-[0] bg-transparent flex flex-row align-center text-center justify-center ",children:[G.jsx("div",{className:"relative w-[50%] h-[100%] m-auto p-[0] bg-transparent flex flex-col align-center text-center ",children:G.jsx("h1",{className:"text-2xl text-black mb-[2%]",children:"LLM Models Links"})}),G.jsx("div",{className:"relative w-[25%] h-[100%] m-auto p-[0] bg-transparent flex flex-col align-center text-center ",children:G.jsx("h1",{className:"text-2xl text-black mb-[2%]",children:"Usage"})}),G.jsx("div",{className:"relative w-[25%] h-[100%] m-auto p-[0] bg-transparent flex flex-col align-center text-center ",children:G.jsx("h1",{className:"text-2xl text-black mb-[2%]",children:"Cost ($0.04 per prompt)  "})})]}),G.jsxs("div",{className:"relative w-[100%] h-[4em] mt-[5%] m-auto p-[0] bg-transparent flex flex-row align-center text-center justify-center ",children:[G.jsx("div",{className:"relative w-[50%] h-[100%] m-auto p-[0] bg-transparent flex flex-col align-center text-center ",children:G.jsx("h1",{className:"text-xl text-black",children:"Total Cost and Usage:"})}),G.jsx("div",{className:"relative w-[25%] h-[100%] m-auto p-[0] bg-transparent flex flex-col align-center text-center ",children:G.jsx("h1",{id:"usages",className:"text-xl text-black"})}),G.jsx("div",{className:"relative w-[25%] h-[100%] m-auto p-[0] bg-transparent flex flex-col align-center text-center ",children:G.jsx("h1",{id:"costs",className:"text-xl text-black"})})]}),G.jsxs("div",{className:"relative w-[100%] h-[4em] mt-[5%] m-auto p-[0] bg-transparent flex flex-row align-center text-center justify-center ",children:[G.jsx("div",{className:"relative w-[50%] h-[100%] m-auto p-[0] bg-transparent flex flex-col align-center text-center ",children:G.jsx("a",{className:"text-xl text-violet-700 underline underline-offset-4 ",href:""})}),G.jsx("div",{className:"relative w-[25%] h-[100%] m-auto p-[0] bg-transparent flex flex-col align-center text-center ",children:G.jsx("h1",{className:"text-xl text-black usage"})}),G.jsx("div",{className:"relative w-[25%] h-[100%] m-auto p-[0] bg-transparent flex flex-col align-center text-center ",children:G.jsx("h1",{className:"text-xl text-black cost"})})]}),G.jsxs("div",{className:"relative w-[100%] h-[4em] mt-[5%] m-auto p-[0] bg-transparent flex flex-row align-center text-center justify-center ",children:[G.jsx("div",{className:"relative w-[50%] h-[100%] m-auto p-[0] bg-transparent flex flex-col align-center text-center ",children:G.jsx("a",{className:"text-xl text-violet-700 underline underline-offset-4 ",href:""})}),G.jsx("div",{className:"relative w-[25%] h-[100%] m-auto p-[0] bg-transparent flex flex-col align-center text-center ",children:G.jsx("h1",{className:"text-xl text-black usage"})}),G.jsx("div",{className:"relative w-[25%] h-[100%] m-auto p-[0] bg-transparent flex flex-col align-center text-center ",children:G.jsx("h1",{className:"text-xl text-black cost"})})]}),G.jsxs("div",{className:"relative w-[100%] h-[4em] mt-[5%] m-auto p-[0] bg-transparent flex flex-row align-center text-center justify-center ",children:[G.jsx("div",{className:"relative w-[50%] h-[100%] m-auto p-[0] bg-transparent flex flex-col align-center text-center ",children:G.jsx("a",{className:"text-xl text-violet-700 underline underline-offset-4 ",href:""})}),G.jsx("div",{className:"relative w-[25%] h-[100%] m-auto p-[0] bg-transparent flex flex-col align-center text-center ",children:G.jsx("h1",{className:"text-xl text-black usage"})}),G.jsx("div",{className:"relative w-[25%] h-[100%] m-auto p-[0] bg-transparent flex flex-col align-center text-center ",children:G.jsx("h1",{className:"text-xl text-black cost"})})]}),G.jsxs("div",{className:"relative w-[100%] h-[4em] mt-[5%] m-auto p-[0] bg-transparent flex flex-row align-center text-center justify-center ",children:[G.jsx("div",{className:"relative w-[50%] h-[100%] m-auto p-[0] bg-transparent flex flex-col align-center text-center ",children:G.jsx("a",{className:"text-xl text-violet-700 underline underline-offset-4 ",href:""})}),G.jsx("div",{className:"relative w-[25%] h-[100%] m-auto p-[0] bg-transparent flex flex-col align-center text-center ",children:G.jsx("h1",{className:"text-xl text-black usage"})}),G.jsx("div",{className:"relative w-[25%] h-[100%] m-auto p-[0] bg-transparent flex flex-col align-center text-center ",children:G.jsx("h1",{className:"text-xl text-black cost"})})]}),G.jsxs("div",{className:"relative w-[100%] h-[4em] mt-[5%] m-auto p-[0] bg-transparent flex flex-row align-center text-center justify-center ",children:[G.jsx("div",{className:"relative w-[50%] h-[100%] m-auto p-[0] bg-transparent flex flex-col align-center text-center ",children:G.jsx("a",{className:"text-xl text-violet-700 underline underline-offset-4 ",href:""})}),G.jsx("div",{className:"relative w-[25%] h-[100%] m-auto p-[0] bg-transparent flex flex-col align-center text-center ",children:G.jsx("h1",{className:"text-xl text-black usage"})}),G.jsx("div",{className:"relative w-[25%] h-[100%] m-auto p-[0] bg-transparent flex flex-col align-center text-center ",children:G.jsx("h1",{className:"text-xl text-black cost"})})]}),G.jsxs("div",{className:"relative w-[100%] h-[4em] mt-[5%] m-auto p-[0] bg-transparent flex flex-row align-center text-center justify-center ",children:[G.jsx("div",{className:"relative w-[50%] h-[100%] m-auto p-[0] bg-transparent flex flex-col align-center text-center ",children:G.jsx("a",{className:"text-xl text-violet-700 underline underline-offset-4 ",href:""})}),G.jsx("div",{className:"relative w-[25%] h-[100%] m-auto p-[0] bg-transparent flex flex-col align-center text-center ",children:G.jsx("h1",{className:"text-xl text-black usage"})}),G.jsx("div",{className:"relative w-[25%] h-[100%] m-auto p-[0] bg-transparent flex flex-col align-center text-center ",children:G.jsx("h1",{className:"text-xl text-black cost"})})]}),G.jsxs("div",{className:"relative w-[100%] h-[4em] mt-[5%] mb-[15%] m-auto p-[0] bg-transparent flex flex-row align-center text-center justify-center ",children:[G.jsx("div",{className:"relative w-[50%] h-[100%] m-auto p-[0] bg-transparent flex flex-col align-center text-center ",children:G.jsx("a",{className:"text-xl text-violet-700 underline underline-offset-4 ",href:""})}),G.jsx("div",{className:"relative w-[25%] h-[100%] m-auto p-[0] bg-transparent flex flex-col align-center text-center ",children:G.jsx("h1",{className:"text-xl text-black usage"})}),G.jsx("div",{className:"relative w-[25%] h-[100%] m-auto p-[0] bg-transparent flex flex-col align-center text-center ",children:G.jsx("h1",{className:"text-xl text-black cost"})})]})]})]}),G.jsxs("div",{className:"relative w-[85%] h-[100%] bg-gray-300 rounded-2xl mr-auto ml-auto mt-[0%]  p-[0] flex flex-col align-middle",children:[G.jsxs("div",{className:"relative w-[100%] h-[25%] m-auto p-[0] flex flex-col align-middle justify-center text-center ",children:[G.jsx("h1",{className:"text-2xl text-black mt-[2%]",children:"Billing - TwoPrompt API (VAT included)"}),G.jsxs("div",{className:"relative w-[100%] h-[90%] m-auto mt-[1%] mb-[0] p-[0] flex flex-col align-middle justify-center text-center",children:[G.jsxs("div",{className:"relative w-[75%] h-[50%] m-auto p-[0] rounded-xl flex flex-row align-top justify-evenly text-start",children:[G.jsx("h1",{id:"bill",className:"text-2xl mb-[5%] text-black"}),G.jsx("h1",{id:"use",className:"text-2xl mb-[5%] text-black"})]}),G.jsx("progress",{id:"bar",className:"relative w-[75%] h-[20%] m-auto p-[0] rounded-xl "})]})]}),G.jsxs("div",{className:"relative w-[100%] h-[75%] m-auto p-[0] flex flex-col align-middle justify-center text-center ",children:[G.jsxs("div",{className:"relative w-[75%] h-[25%] m-auto p-[0] bg-transparent flex flex-col align-middle justify-center text-center ",children:[G.jsx("div",{className:"relative w-[30%] h-[25%] m-auto p-[0] bg-transparent flex flex-col align-middle justify-center text-center ",children:G.jsx("h1",{className:"text-2xl text-black mt-[5%]",children:"Billing History"})}),G.jsxs("div",{className:"relative w-[100%] h-[75%] m-auto p-[0] bg-transparent flex flex-row align-middle justify-center text-center ",children:[G.jsx(gl.button,{onClick:n?()=>e(!1):()=>e(!0),initial:{scale:1},whileTap:{scale:1.1},whileHover:{scale:.9},transition:{type:"spring",duration:1},className:"relative w-[10em] h-[1.75em] underline underline-offset-2 cursor-pointer m-auto p-[0] bg-green-800 flex flex-col align-middle justify-center text-center text-2xl text-white ",children:"+ Add To Balance"}),G.jsxs(gl.form,{initial:{scaleY:0,display:"none"},animate:{scaleY:n?1:0,display:n?"flex":"none"},transition:{type:"spring",duration:1},action:"",method:"get",id:"form",className:"relative w-[30em] z-[100] h-[50%] m-auto p-[0] flex flex-row align-middle justify-center text-center bg-transparent ",children:[G.jsx("input",{required:!0,placeholder:"Enter a amount to add",type:"number",className:"relative w-[75%] h-[100%] m-auto p-[0] text-center text-xl text-black bg-gray-300 ",id:"amount"}),G.jsx(gl.button,{type:"submit",initial:{scale:1},whileHover:{scale:1.1},whileTap:{scale:.9},transition:{type:"spring",duration:1},className:"relative w-[25%] cursor-pointer h-[100%] m-auto p-[0] text-center text-xl text-black bg-gray-400",children:"Checkout"})]})]})]}),G.jsx("div",{id:"history",className:"relative w-[75%] min-h-[75%] h-[75%] max-h-[75%] overflow-y-auto overflow-x-hidden m-auto p-[0] bg-transparent flex flex-col align-middle"})]})]})]})]}),G.jsx("section",{id:"cover",className:"fixed w-[100%] h-[100%] m-auto p-[0] flex flex-col align-middle justify-center text-center opacity-[0.75] bg-gray-800 z-[4] "}),G.jsx("section",{id:"login",className:"fixed w-[100%] h-[100%] m-auto p-[0] flex flex-col align-middle justify-center text-center z-[5]  ",children:G.jsxs("div",{className:"relative w-[30em] h-[20em] m-auto p-[0] bg-transparent flex flex-col align-middle justify-center text-center ",children:[G.jsx("div",{className:"relative w-[100%] h-[15%] m-auto p-[0] bg-transparent flex flex-row align-middle justify-center text-center ",children:G.jsx("h1",{className:"text-3xl text-white",children:"Login To Access The API"})}),G.jsxs("div",{className:"relative w-[100%] h-[25%] m-auto p-[0] bg-transparent flex flex-row align-middle justify-center text-center ",children:[G.jsx(gl.button,{onClick:()=>t_(Wr,fL),initial:{scale:1},whileHover:{scale:1.1},whileTap:{scale:.9},transition:{type:"spring",duration:1},className:"relative w-[15em] h-[75%] m-auto p-[0] flex flex-col align-middle justify-center text-center bg-black cursor-pointer text-2xl text-green-200 underline underline-offset-2  ",children:"Google Login"}),G.jsx(gl.button,{onClick:()=>t_(Wr,NS),initial:{scale:1},whileHover:{scale:1.1},whileTap:{scale:.9},transition:{type:"spring",duration:1},className:"relative w-[15em] h-[75%] m-auto p-[0] flex flex-col align-middle justify-center text-center bg-white cursor-pointer text-2xl text-black underline underline-offset-2  ",children:"GitHub Login"})]})]})})]})}dR.createRoot(document.getElementById("root")).render(G.jsx(dL,{}));
